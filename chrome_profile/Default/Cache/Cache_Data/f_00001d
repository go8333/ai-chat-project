const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/auto-track-BSA_hmVS.js","assets/tslib.es6-BJp0-jPt.js","assets/useAppNameEnum-DtbGT8TR.js","assets/datadog.client-Cq6r4oDp.js","assets/preload-helper-BqjOJQfC.js","assets/utils-DTkrXpQd.js","assets/device-id.client-DWNUMzEo.js","assets/_baseGetTag-DBIYhhxi.js","assets/_overArg-BLH_OBOE.js","assets/isObjectLike-nLWjQ9zq.js","assets/index-BjX10igL.js","assets/errorViewDetection-DJqNh73G.js","assets/noop-DX6rZLP_.js","assets/memoize-BmplEB2s.js","assets/_MapCache-TO9IM_u8.js","assets/client-auth-session-HDl_0nyn.js","assets/index-VWaDGczM.js","assets/username-CpTfdKAm.js","assets/constants-C3OwhFvc.js","assets/use-event-loggers-BAnfa0P0.js","assets/sentinel.client-BUjqvrlQ.js","assets/index-D9FBxo2z.js","assets/index-CM_RbW4r.js","assets/index-oS7dr9C2.js","assets/is-plan-event-enabled-DS1Agtkw.js","assets/index-DRIoxGJL.js","assets/index-DbwmC9-3.js","assets/index-C7efw5XP.js"])))=>i.map(i=>d[i]);
var gn=Object.defineProperty;var mn=(t,e,r)=>e in t?gn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var we=(t,e,r)=>mn(t,typeof e!="symbol"?e+"":e,r);import{r as $,f as G,b as _,d as L,_ as A,a as P,g as yn,e as br,c as D,j as fe,R as _n}from"./tslib.es6-BJp0-jPt.js";import{N as et,P as wr,Q as Sr,R as bn,T as wn,U as Sn,V as En,W as In,X as An,Y as Pn,_ as Cn,$ as On,a0 as xn,a1 as Tn,a2 as Dn,a3 as Mn,a4 as Nn,a5 as Ln,s as Fn,a6 as Rn}from"./useAppNameEnum-DtbGT8TR.js";import{D as xe}from"./datadog.client-Cq6r4oDp.js";import{D as He,g as Er}from"./device-id.client-DWNUMzEo.js";import{e as kn,g as jn}from"./utils-DTkrXpQd.js";import{b as Un}from"./_baseGetTag-DBIYhhxi.js";import{o as Vn}from"./_overArg-BLH_OBOE.js";import{i as Bn}from"./isObjectLike-nLWjQ9zq.js";import{r as Ir}from"./index-BjX10igL.js";import{E as zn}from"./errorViewDetection-DJqNh73G.js";import{g as Ar}from"./client-auth-session-HDl_0nyn.js";import{_ as H}from"./preload-helper-BqjOJQfC.js";import{C as $n,a as qn}from"./constants-C3OwhFvc.js";import{U as or}from"./username-CpTfdKAm.js";import{E as Wn}from"./use-event-loggers-BAnfa0P0.js";import{s as Gn}from"./sentinel.client-BUjqvrlQ.js";import{n as Kn}from"./noop-DX6rZLP_.js";import"./memoize-BmplEB2s.js";import"./_MapCache-TO9IM_u8.js";import"./index-VWaDGczM.js";var bt={},se={},Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.AutoCaptureEventName=void 0;Ue.AutoCaptureEventName={PAGE_VIEW:"auto_capture::page_view",PAGE_VIEW_END:"auto_capture::page_view_end",ERROR:"auto_capture::error",SESSION_START:"auto_capture::session_start",PERFORMANCE:"auto_capture::performance",FORM_SUBMIT:"auto_capture::form_submit",CLICK:"auto_capture::click"};var N={};Object.defineProperty(N,"__esModule",{value:!0});N._getSafeNetworkInformation=N._registerEventHandler=N._getSanitizedPageUrl=N._getSafeUrl=N._shouldLogEvent=N._getTargetNode=N._gatherEventData=N._gatherDatasetProperties=void 0;const tt=et;function Pr(t){const e={};if(!t)return e;const r=t==null?void 0:t.dataset;if(!r)return e;for(const n in r)e[`data-${n}`]=r[n]||"";return e}N._gatherDatasetProperties=Pr;function Hn(t){var e;const r=t.tagName.toLowerCase(),n={},i=(0,tt._getCurrentPageUrlSafe)()||"";n.tagName=r,r==="form"&&(n.action=t.getAttribute("action"),n.method=(e=t.getAttribute("method"))!==null&&e!==void 0?e:"GET",n.formName=t.getAttribute("name"),n.formId=t.getAttribute("id")),["input","select","textarea"].includes(r)&&t.getAttribute("type")!=="password"&&(n.content=t.value,n.inputName=t.getAttribute("name"));const o=Cr(t);if(o&&(n.href=o.getAttribute("href")),r==="button"||o){n.content=(t.textContent||"").trim();const a=Pr(o||t);Object.assign(n,a)}return{value:i,metadata:n}}N._gatherEventData=Hn;function Jn(t){if(!t)return null;let e=t.target||t.srcElement;return!e||!(e instanceof Element)?null:(e.nodeType===3&&(e=e.parentNode||null),e)}N._getTargetNode=Jn;function Qn(t,e){if(!t||!e||e.nodeType!==1)return!1;const r=e.tagName.toLowerCase(),n=t.type.toLowerCase();switch(r){case"html":return!1;case"form":return n==="submit";case"input":case"select":case"textarea":return["change"].includes(n);default:return!!(n==="click"&&(r==="button"||Cr(e)))}}N._shouldLogEvent=Qn;function Yn(){var t,e,r;const n=(r=(e=(t=(0,tt._getWindowSafe)())===null||t===void 0?void 0:t.location)===null||e===void 0?void 0:e.href)!==null&&r!==void 0?r:"";let i;try{i=new URL(n)}catch{i=new URL("error:")}return i}N._getSafeUrl=Yn;function Xn(){return(0,tt._getCurrentPageUrlSafe)()||""}N._getSanitizedPageUrl=Xn;function Zn(t,e,r){!t||!t.addEventListener||t.addEventListener(e,r,!0)}N._registerEventHandler=Zn;function ei(){const t=(0,tt._getWindowSafe)();if(!t||!t.navigator)return null;const e=t.navigator.connection;return e||null}N._getSafeNetworkInformation=ei;function Cr(t){if(!t)return null;let e=t;for(;e;){const r=e.tagName.toLowerCase();if(["body","document"].includes(r))return null;if(e.tagName.toLowerCase()==="a")return e;e=e.parentElement}return null}var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt._gatherPageViewPayload=void 0;const ar=et;function ti(t){var e,r;const n=(0,ar._getDocumentSafe)(),i=(0,ar._getWindowSafe)();if(!n||!i)return{};const o=i==null?void 0:i.navigator,a=(n==null?void 0:n.referrer)||"";let s=new URL("empty:");if(a)try{s=new URL(a||"empty:")}catch{}const f=ii(s),h=ri(t),v={};return t.searchParams.forEach((m,b)=>{v[b]=m}),Object.assign(Object.assign(Object.assign(Object.assign({},f),h),v),{title:(n==null?void 0:n.title)||"",locale:(o==null?void 0:o.language)||"unknown",hostname:t.hostname||"unknown",pathname:t.pathname||"unknown",referrer:a,screen_width:((e=i==null?void 0:i.screen)===null||e===void 0?void 0:e.width)||"unknown",screen_height:((r=i==null?void 0:i.screen)===null||r===void 0?void 0:r.height)||"unknown",viewport_width:(i==null?void 0:i.innerWidth)||"unknown",viewport_height:(i==null?void 0:i.innerHeight)||"unknown"})}rt._gatherPageViewPayload=ti;function ri(t){const e=t.searchParams,r={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content","gclid","gclsrc","dclid","fbclid","msclkid","mc_eid","mc_cid","twclid","li_fat_id","igshid","utm_id","ttc","ttclid","ttc_id"].forEach(i=>{const o=e.get(i);o&&(r[i]=o)}),r}function ni(t){const e=t.hostname;return["google","bing","yahoo","duckduckgo","baidu"].find(n=>e.includes(n+"."))||""}function ii(t){const e=ni(t),r=t.searchParams.get(e==="yahoo"?"p":"q")||"";return{searchEngine:e,searchQuery:r}}Object.defineProperty(se,"__esModule",{value:!0});se.AutoCapture=se.runStatsigAutoCapture=se.StatsigAutoCapturePlugin=void 0;const B=et,de=Ue,k=N,oi=rt,ai=6e5,si={submit:de.AutoCaptureEventName.FORM_SUBMIT,click:de.AutoCaptureEventName.CLICK};class ui{constructor(e){this._options=e,this.__plugin="auto-capture"}bind(e){Or(e,this._options)}}se.StatsigAutoCapturePlugin=ui;function Or(t,e){return new xr(t,e)}se.runStatsigAutoCapture=Or;class xr{constructor(e,r){var n,i,o;this._client=e,this._startTime=Date.now(),this._deepestScroll=0,this._disabledEvents={},this._previousLoggedPageViewUrl=null,this._hasLoggedPageViewEnd=!1,this._inactiveTimer=null;const{sdkKey:a,errorBoundary:s,values:f}=e.getContext();this._disabledEvents=(i=(n=f==null?void 0:f.auto_capture_settings)===null||n===void 0?void 0:n.disabled_events)!==null&&i!==void 0?i:{},this._errorBoundary=s,this._errorBoundary.wrap(this),this._client.$on("values_updated",()=>{var v,m;const b=this._client.getContext().values;this._disabledEvents=(m=(v=b==null?void 0:b.auto_capture_settings)===null||v===void 0?void 0:v.disabled_events)!==null&&m!==void 0?m:this._disabledEvents}),this._eventFilterFunc=r==null?void 0:r.eventFilterFunc;const h=(0,B._getDocumentSafe)();if(!(0,B._isServerEnv)()){__STATSIG__=(0,B._getStatsigGlobal)();const v=(o=__STATSIG__.acInstances)!==null&&o!==void 0?o:{};v[a]=this,__STATSIG__.acInstances=v}if((h==null?void 0:h.readyState)==="loading"){h.addEventListener("DOMContentLoaded",()=>this._initialize());return}this._initialize()}_addEventHandlers(){const e=(0,B._getWindowSafe)(),r=(0,B._getDocumentSafe)();if(!e||!r)return;const n=(i,o=!0)=>{this._autoLogEvent(i||e.event),o&&this._bumpInactiveTimer()};(0,k._registerEventHandler)(r,"click",i=>n(i)),(0,k._registerEventHandler)(r,"submit",i=>n(i)),(0,k._registerEventHandler)(e,"error",i=>n(i,!1)),(0,k._registerEventHandler)(e,"pagehide",()=>this._tryLogPageViewEnd()),(0,k._registerEventHandler)(e,"beforeunload",()=>this._tryLogPageViewEnd()),(0,k._registerEventHandler)(e,"scroll",()=>this._scrollEventHandler())}_addPageViewTracking(){const e=(0,B._getWindowSafe)(),r=(0,B._getDocumentSafe)();!e||!r||((0,k._registerEventHandler)(e,"popstate",()=>this._tryLogPageView()),window.history.pushState=new Proxy(window.history.pushState,{apply:(n,i,[o,a,s])=>{n.apply(i,[o,a,s]),this._tryLogPageView()}}),this._tryLogPageView())}_autoLogEvent(e){var r;const n=(r=e.type)===null||r===void 0?void 0:r.toLowerCase();if(n==="error"&&e instanceof ErrorEvent){this._logError(e);return}const i=(0,k._getTargetNode)(e);if(!i||!(0,k._shouldLogEvent)(e,i))return;const o=si[n];if(!o)return;const{value:a,metadata:s}=(0,k._gatherEventData)(i);this._enqueueAutoCapture(o,a,s)}_bumpInactiveTimer(){const e=(0,B._getWindowSafe)();e&&(this._inactiveTimer&&clearTimeout(this._inactiveTimer),this._inactiveTimer=e.setTimeout(()=>{this._tryLogPageViewEnd(!0)},ai))}_initialize(){this._addEventHandlers(),this._addPageViewTracking(),this._logSessionStart(),this._logPerformance()}_logError(e){const r=(e==null?void 0:e.error)||{};let n=r;if(typeof r=="object")try{n=JSON.stringify(r)}catch{n=typeof(r==null?void 0:r.toString)=="function"?r.toString():"Unknown Error"}this._enqueueAutoCapture(de.AutoCaptureEventName.ERROR,e.message,{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error_str:n})}_logSessionStart(){const e=this._getSessionFromClient();try{if(!this._isNewSession(e))return;this._enqueueAutoCapture(de.AutoCaptureEventName.SESSION_START,(0,k._getSanitizedPageUrl)(),{sessionID:e.data.sessionID},{flushImmediately:!0})}catch(r){this._errorBoundary.logError("AC::logSession",r)}}_tryLogPageView(){const e=(0,k._getSafeUrl)(),r=this._previousLoggedPageViewUrl;if(r&&e.href===r.href)return;this._previousLoggedPageViewUrl=e,this._hasLoggedPageViewEnd=!1;const n=(0,oi._gatherPageViewPayload)(e);this._enqueueAutoCapture(de.AutoCaptureEventName.PAGE_VIEW,(0,k._getSanitizedPageUrl)(),n,{flushImmediately:!0,addNewSessionMetadata:!0}),this._bumpInactiveTimer()}_tryLogPageViewEnd(e=!1){this._hasLoggedPageViewEnd||(this._hasLoggedPageViewEnd=!0,this._enqueueAutoCapture(de.AutoCaptureEventName.PAGE_VIEW_END,(0,k._getSanitizedPageUrl)(),{scrollDepth:this._deepestScroll,pageViewLength:Date.now()-this._startTime,dueToInactivity:e},{flushImmediately:!0}))}_logPerformance(){const e=(0,B._getWindowSafe)();typeof(e==null?void 0:e.performance)>"u"||typeof e.performance.getEntriesByType!="function"||typeof e.performance.getEntriesByName!="function"||setTimeout(()=>{const r={},n=e.performance.getEntriesByType("navigation");if(n&&n.length>0&&n[0]instanceof PerformanceNavigationTiming){const a=n[0];r.load_time_ms=a.duration,r.dom_interactive_time_ms=a.domInteractive-a.startTime,r.redirect_count=a.redirectCount,r.transfer_bytes=a.transferSize}const i=e.performance.getEntriesByName("first-contentful-paint");i&&i.length>0&&i[0]instanceof PerformancePaintTiming&&(r.first_contentful_paint_time_ms=i[0].startTime);const o=(0,k._getSafeNetworkInformation)();o&&(r.effective_connection_type=o.effectiveType,r.rtt_ms=o.rtt,r.downlink_kbps=o.downlink,r.save_data=o.saveData),this._enqueueAutoCapture(de.AutoCaptureEventName.PERFORMANCE,(0,k._getSanitizedPageUrl)(),r)},1)}_enqueueAutoCapture(e,r,n,i){var o,a,s;const f=e.slice(14);if(this._disabledEvents[e]||this._disabledEvents[f])return;const h=this._getSessionFromClient();try{const v=Object.assign({sessionID:h.data.sessionID,page_url:(s=(a=(o=(0,B._getWindowSafe)())===null||o===void 0?void 0:o.location)===null||a===void 0?void 0:a.href)!==null&&s!==void 0?s:""},n);i!=null&&i.addNewSessionMetadata&&(v.isNewSession=String(this._isNewSession(h)));const m={eventName:e,value:r,metadata:v};if(this._eventFilterFunc&&!this._eventFilterFunc(m))return;this._client.logEvent(m),i!=null&&i.flushImmediately&&this._client.flush().catch(b=>{B.Log.error(b)})}catch(v){this._errorBoundary.logError("AC::enqueue",v)}}_scrollEventHandler(){var e,r,n,i;const o=(r=(e=(0,B._getDocumentSafe)())===null||e===void 0?void 0:e.body.scrollHeight)!==null&&r!==void 0?r:1,a=(0,B._getWindowSafe)(),s=(n=a==null?void 0:a.scrollY)!==null&&n!==void 0?n:1,f=(i=a==null?void 0:a.innerHeight)!==null&&i!==void 0?i:1;this._deepestScroll=Math.max(this._deepestScroll,Math.min(100,Math.round((s+f)/o*100))),this._bumpInactiveTimer()}_isNewSession(e){return Math.abs(e.data.startTime-Date.now())<1e3}_getSessionFromClient(){return this._client.getContext().session}}se.AutoCapture=xr;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigAutoCapturePlugin=t.runStatsigAutoCapture=t.AutoCapture=t.AutoCaptureEventName=void 0;const e=et,r=se;Object.defineProperty(t,"AutoCapture",{enumerable:!0,get:function(){return r.AutoCapture}}),Object.defineProperty(t,"StatsigAutoCapturePlugin",{enumerable:!0,get:function(){return r.StatsigAutoCapturePlugin}}),Object.defineProperty(t,"runStatsigAutoCapture",{enumerable:!0,get:function(){return r.runStatsigAutoCapture}});var n=Ue;Object.defineProperty(t,"AutoCaptureEventName",{enumerable:!0,get:function(){return n.AutoCaptureEventName}});const i=Object.assign((0,e._getStatsigGlobal)(),{AutoCapture:r.AutoCapture,runStatsigAutoCapture:r.runStatsigAutoCapture,StatsigAutoCapturePlugin:r.StatsigAutoCapturePlugin});t.default=i})(bt);var ci=Vn(Object.getPrototypeOf,Object),li="[object Object]",fi=Function.prototype,di=Object.prototype,Tr=fi.toString,hi=di.hasOwnProperty,pi=Tr.call(Object);function vi(t){if(!Bn(t)||Un(t)!=li)return!1;var e=ci(t);if(e===null)return!0;var r=hi.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Tr.call(r)==pi}const Dr="client-tN5GMyzpIPKXd3KNv7ANIfiqjRSvNNTTWbZdbdabF58",gi="WebAnonymousCookieID",mi="DeviceId",yi="AuthSessionLoggingId";function _i(){return kn()?"development":jn()?"staging":"production"}const Pe=()=>wr.StatsigClient.instance(Dr);async function bi({clientId:t,appNameEnum:e,auth0ClientId:r,sessionLoggingId:n}){new wr.StatsigClient(Dr,{locale:navigator.language,appVersion:"675a62255b0cecee742863f420c952bdc0599a8e-without_cdn",customIDs:{[gi]:He,[mi]:He,stableID:He,[yi]:n},custom:{client_id:t,app_name_enum:e,auth0_client_id:r}},{environment:{tier:_i()},plugins:[new bt.StatsigAutoCapturePlugin({eventFilterFunc:i=>i.eventName===bt.AutoCaptureEventName.PERFORMANCE})]}),Pe().on("gate_evaluation",({gate:i})=>{ht("gate",i.name,i.value)}),Pe().on("experiment_evaluation",({experiment:i})=>{ht("experiment",i.name,i.value)}),Pe().on("layer_evaluation",({layer:i})=>{i.__value&&ht("layer",i.name,i.__value)}),await Pe().initializeAsync()}function K(t){Pe().logEvent(t.eventName,t.value,t.metadata)}function ht(t,e,r){if(r&&vi(r))for(const[n,i]of Object.entries(r))xe.addFeatureFlagEvaluation(`${t}__${e}__${n}`,i);else xe.addFeatureFlagEvaluation(`${t}__${e}`,r)}var Mr,sr=Ir;sr.createRoot,Mr=sr.hydrateRoot;/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(t){return $.createElement(En,{flushSync:Ir.flushSync,...t})}var I=null,Fe=null;function Si(){if(!I&&window.__reactRouterContext&&window.__reactRouterManifest&&window.__reactRouterRouteModules){if(window.__reactRouterManifest.sri===!0){const t=document.querySelector("script[rr-importmap]");if(t!=null&&t.textContent)try{window.__reactRouterManifest.sri=JSON.parse(t.textContent).integrity}catch(e){console.error("Failed to parse import map",e)}}I={context:window.__reactRouterContext,manifest:window.__reactRouterManifest,routeModules:window.__reactRouterRouteModules,stateDecodingPromise:void 0,router:void 0,routerInitialized:!1}}}function Ei({unstable_getContext:t}){var o,a;if(Si(),!I)throw new Error("You must be using the SSR features of React Router in order to skip passing a `router` prop to `<RouterProvider>`");let e=I;if(!I.stateDecodingPromise){let s=I.context.stream;Sr(s,"No stream found for single fetch decoding"),I.context.stream=void 0,I.stateDecodingPromise=In(s,window).then(f=>{I.context.state=f.value,e.stateDecodingPromise.value=!0}).catch(f=>{e.stateDecodingPromise.error=f})}if(I.stateDecodingPromise.error)throw I.stateDecodingPromise.error;if(!I.stateDecodingPromise.value)throw I.stateDecodingPromise;let r=An(I.manifest.routes,I.routeModules,I.context.state,I.context.ssr,I.context.isSpaMode),n;if(I.context.isSpaMode){let{loaderData:s}=I.context.state;(o=I.manifest.routes.root)!=null&&o.hasLoader&&s&&"root"in s&&(n={loaderData:{root:s.root}})}else n=Pn(I.context.state,r,s=>{var f,h,v;return{clientLoader:(f=I.routeModules[s])==null?void 0:f.clientLoader,hasLoader:((h=I.manifest.routes[s])==null?void 0:h.hasLoader)===!0,hasHydrateFallback:((v=I.routeModules[s])==null?void 0:v.HydrateFallback)!=null}},window.location,(a=window.__reactRouterContext)==null?void 0:a.basename,I.context.isSpaMode),n&&n.errors&&(n.errors=Cn(n.errors));let i=On({routes:r,history:xn(),basename:I.context.basename,unstable_getContext:t,hydrationData:n,hydrationRouteProperties:Tn,mapRouteProperties:Dn,future:{unstable_middleware:I.context.future.unstable_middleware},dataStrategy:Mn(()=>i,I.manifest,I.routeModules,I.context.ssr,I.context.basename),patchRoutesOnNavigation:Nn(I.manifest,I.routeModules,I.context.ssr,I.context.isSpaMode,I.context.basename)});return I.router=i,i.state.initialized&&(I.routerInitialized=!0,i.initialize()),i.createRoutesForHMR=Ln,window.__reactRouterDataRouter=i,i}function Ii(t){Fe||(Fe=Ei({unstable_getContext:t.unstable_getContext}));let[e,r]=$.useState(void 0),[n,i]=$.useState(Fe.state.location);return $.useLayoutEffect(()=>{I&&I.router&&!I.routerInitialized&&(I.routerInitialized=!0,I.router.initialize())},[]),$.useLayoutEffect(()=>{if(I&&I.router)return I.router.subscribe(o=>{o.location!==n&&i(o.location)})},[n]),Sr(I,"ssrInfo unavailable for HydratedRouter"),bn(Fe,I.manifest,I.routeModules,I.context.ssr,I.context.isSpaMode),$.createElement($.Fragment,null,$.createElement(wn.Provider,{value:{manifest:I.manifest,routeModules:I.routeModules,future:I.context.future,criticalCss:e,ssr:I.context.ssr,isSpaMode:I.context.isSpaMode}},$.createElement(Sn,{location:n},$.createElement(wi,{router:Fe}))),$.createElement($.Fragment,null))}function wt(t,e,r){e.split&&(e=e.split("."));for(var n=0,i=e.length,o=t,a,s;n<i&&(s=e[n++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)o=o[s]=n===i?r:typeof(a=o[s])==typeof e?a:e[n]*0!==0||~(""+e[n]).indexOf(".")?{}:[]}var ge=function(t){G(e,t);function e(r,n){var i=t.call(this,"".concat(r," ").concat(n))||this;return i.field=r,i}return e}(Error);function ye(t){return typeof t=="string"}function St(t){return typeof t=="number"}function Ce(t){return typeof t=="function"}function Nr(t){return t!=null}function Z(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var Tt="is not a string",Ai="is not an object",Lr="is nil";function Pi(t){var e=".userId/anonymousId/previousId/groupId",r=function(i){var o,a,s;return(s=(a=(o=i.userId)!==null&&o!==void 0?o:i.anonymousId)!==null&&a!==void 0?a:i.groupId)!==null&&s!==void 0?s:i.previousId},n=r(t);if(Nr(n)){if(!ye(n))throw new ge(e,Tt)}else throw new ge(e,Lr)}function Ci(t){if(!Nr(t))throw new ge("Event",Lr);if(typeof t!="object")throw new ge("Event",Ai)}function Oi(t){if(!ye(t.type))throw new ge(".type",Tt)}function xi(t){if(!ye(t.event))throw new ge(".event",Tt)}function Ti(t,e){return new Promise(function(r,n){var i=setTimeout(function(){n(Error("Promise timed out"))},e);t.then(function(o){return clearTimeout(i),r(o)}).catch(n)})}function Di(t){return new Promise(function(e){return setTimeout(e,t)})}function Mi(t,e,r){var n=function(){try{return Promise.resolve(e(t))}catch(i){return Promise.reject(i)}};return Di(r).then(function(){return Ti(n(),1e3)}).catch(function(i){t==null||t.log("warn","Callback Error",{error:i}),t==null||t.stats.increment("callback_error")}).then(function(){return t})}var Ni=function(){var t,e,r=new Promise(function(n,i){t=n,e=i});return{resolve:t,reject:e,promise:r}},Dt=function(){function t(e){var r;this.callbacks={},this.warned=!1,this.maxListeners=(r=e==null?void 0:e.maxListeners)!==null&&r!==void 0?r:10}return t.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},t.prototype.on=function(e,r){return this.callbacks[e]?(this.callbacks[e].push(r),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[r],this},t.prototype.once=function(e,r){var n=this,i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];n.off(e,i),r.apply(n,o)};return this.on(e,i),this},t.prototype.off=function(e,r){var n,i=(n=this.callbacks[e])!==null&&n!==void 0?n:[],o=i.filter(function(a){return a!==r});return this.callbacks[e]=o,this},t.prototype.emit=function(e){for(var r=this,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(n=this.callbacks[e])!==null&&n!==void 0?n:[];return a.forEach(function(s){s.apply(r,i)}),this},t}();function Li(t){var e=Math.random()+1,r=t.minTimeout,n=r===void 0?500:r,i=t.factor,o=i===void 0?2:i,a=t.attempt,s=t.maxTimeout,f=s===void 0?1/0:s;return Math.min(e*n*Math.pow(o,a),f)}var Fr="onRemoveFromFuture",Mt=function(t){G(e,t);function e(r,n,i){var o=t.call(this)||this;return o.future=[],o.maxAttempts=r,o.queue=n,o.seen=i??{},o}return e.prototype.push=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.map(function(a){var s=r.updateAttempts(a);return s>r.maxAttempts||r.includes(a)?!1:(r.queue.push(a),!0)});return this.queue=this.queue.sort(function(a,s){return r.getAttempts(a)-r.getAttempts(s)}),o},e.prototype.pushWithBackoff=function(r){var n=this;if(this.getAttempts(r)===0)return this.push(r)[0];var i=this.updateAttempts(r);if(i>this.maxAttempts||this.includes(r))return!1;var o=Li({attempt:i-1});return setTimeout(function(){n.queue.push(r),n.future=n.future.filter(function(a){return a.id!==r.id}),n.emit(Fr)},o),this.future.push(r),!0},e.prototype.getAttempts=function(r){var n;return(n=this.seen[r.id])!==null&&n!==void 0?n:0},e.prototype.updateAttempts=function(r){return this.seen[r.id]=this.getAttempts(r)+1,this.getAttempts(r)},e.prototype.includes=function(r){return this.queue.includes(r)||this.future.includes(r)||!!this.queue.find(function(n){return n.id===r.id})||!!this.future.find(function(n){return n.id===r.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e}(Dt),he=256,Je=[],$e;for(;he--;)Je[he]=(he+256).toString(16).substring(1);function Nt(){var t=0,e,r="";if(!$e||he+16>256){for($e=Array(t=256);t--;)$e[t]=256*Math.random()|0;t=he=0}for(;t<16;t++)e=$e[he+t],t==6?r+=Je[e&15|64]:t==8?r+=Je[e&63|128]:r+=Je[e],t&1&&t>1&&t<11&&(r+="-");return he++,r}var Fi=function(){function t(){this._logs=[]}return t.prototype.log=function(e,r,n){var i=new Date;this._logs.push({level:e,message:r,time:i,extras:n})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(r,n){var i,o,a,s=_(_({},n),{json:JSON.stringify(n.extras,null," "),extras:n.extras});delete s.time;var f=(a=(o=n.time)===null||o===void 0?void 0:o.toISOString())!==null&&a!==void 0?a:"";return r[f]&&(f="".concat(f,"-").concat(Math.random())),_(_({},r),(i={},i[f]=s,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(r){var n=r.level,i=r.message,o=r.extras;n==="info"||n==="debug"?console.log(i,o??""):console[n](i,o??"")});this._logs=[]},t}(),Ri=function(t){var e={gauge:"g",counter:"c"};return e[t]},Rr=function(){function t(){this.metrics=[]}return t.prototype.increment=function(e,r,n){r===void 0&&(r=1),this.metrics.push({metric:e,value:r,tags:n??[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(e,r,n){this.metrics.push({metric:e,value:r,tags:n??[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var e=this.metrics.map(function(r){return _(_({},r),{tags:r.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:Ri(e.type),e:e.timestamp}})},t}(),ki=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.gauge=function(){},e.prototype.increment=function(){},e.prototype.flush=function(){},e.prototype.serialize=function(){return[]},e}(Rr),Te=function(){function t(e){var r,n,i;this.retry=(r=e.retry)!==null&&r!==void 0?r:!0,this.type=(n=e.type)!==null&&n!==void 0?n:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return t}(),Ye=function(){function t(e,r,n,i){r===void 0&&(r=Nt()),n===void 0&&(n=new ki),i===void 0&&(i=new Fi),this.attempts=0,this.event=e,this._id=r,this.logger=i,this.stats=n}return t.system=function(){},t.prototype.isSame=function(e){return e.id===this.id},t.prototype.cancel=function(e){throw e||new Te({reason:"Context Cancel"})},t.prototype.log=function(e,r,n){this.logger.log(e,r,n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(e,r){var n;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((n=this.event.integrations)===null||n===void 0?void 0:n[i])===!1)return this.event}return wt(this.event,e,r),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(e){this._failedDelivery=e},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t}();function ji(t,e){var r={};return t.forEach(function(n){var i,o=void 0;{var a=n[e];o=typeof a!="string"?JSON.stringify(a):a}o!==void 0&&(r[o]=L(L([],(i=r[o])!==null&&i!==void 0?i:[],!0),[n],!1))}),r}var Ui=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},Vi=function(){var t,e,r=0;return{done:function(){return t},run:function(n){var i=n();return Ui(i)&&(++r===1&&(t=new Promise(function(o){return e=o})),i.finally(function(){return--r===0&&e()})),i}}};function Bi(t){return A(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return[2,r.sent()];case 2:return e=r.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function ke(t,e){t.log("debug","plugin",{plugin:e.name});var r=new Date().getTime(),n=e[t.event.type];if(n===void 0)return Promise.resolve(t);var i=Bi(function(){return n.apply(e,[t])}).then(function(o){var a=new Date().getTime()-r;return o.stats.gauge("plugin_time",a,["plugin:".concat(e.name)]),o}).catch(function(o){if(o instanceof Te&&o.type==="middleware_cancellation")throw o;return o instanceof Te?(t.log("warn",o.type,{plugin:e.name,error:o}),o):(t.log("error","plugin Error",{plugin:e.name,error:o}),t.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),o)});return i}function zi(t,e){return ke(t,e).then(function(r){if(r instanceof Ye)return r;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(r)})}var $i=function(t){G(e,t);function e(r){var n=t.call(this)||this;return n.criticalTasks=Vi(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=r,n.queue.on(Fr,function(){n.scheduleFlush(0)}),n}return e.prototype.register=function(r,n,i){return A(this,void 0,void 0,function(){var o=this;return P(this,function(a){switch(a.label){case 0:return[4,Promise.resolve(n.load(r,i)).then(function(){o.plugins.push(n)}).catch(function(s){if(n.type==="destination"){o.failedInitializations.push(n.name),console.warn(n.name,s),r.log("warn","Failed to load destination",{plugin:n.name,error:s});return}throw s})];case 1:return a.sent(),[2]}})})},e.prototype.deregister=function(r,n,i){return A(this,void 0,void 0,function(){var o;return P(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),n.unload?[4,Promise.resolve(n.unload(r,i))]:[3,2];case 1:a.sent(),a.label=2;case 2:return this.plugins=this.plugins.filter(function(s){return s.name!==n.name}),[3,4];case 3:return o=a.sent(),r.log("warn","Failed to unload destination",{plugin:n.name,error:o}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(r){return A(this,void 0,void 0,function(){var n;return P(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.push(r),n=this.subscribeToDelivery(r),this.scheduleFlush(0),[2,n]})})},e.prototype.subscribeToDelivery=function(r){return A(this,void 0,void 0,function(){var n=this;return P(this,function(i){return[2,new Promise(function(o){var a=function(s,f){s.isSame(r)&&(n.off("flush",a),o(s))};n.on("flush",a)})]})})},e.prototype.dispatchSingle=function(r){return A(this,void 0,void 0,function(){var n=this;return P(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.updateAttempts(r),r.attempts=1,[2,this.deliver(r).catch(function(o){var a=n.enqueuRetry(o,r);return a?n.subscribeToDelivery(r):(r.setFailedDelivery({reason:o}),r)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(r){var n=this;r===void 0&&(r=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){n.flush().then(function(){setTimeout(function(){n.flushing=!1,n.queue.length&&n.scheduleFlush(0)},0)})},r))},e.prototype.deliver=function(r){return A(this,void 0,void 0,function(){var n,i,o,a;return P(this,function(s){switch(s.label){case 0:return[4,this.criticalTasks.done()];case 1:s.sent(),n=Date.now(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.flushOne(r)];case 3:return r=s.sent(),i=Date.now()-n,this.emit("delivery_success",r),r.stats.gauge("delivered",i),r.log("debug","Delivered",r.event),[2,r];case 4:throw o=s.sent(),a=o,r.log("error","Failed to deliver",a),this.emit("delivery_failure",r,a),r.stats.increment("delivery_failed"),o;case 5:return[2]}})})},e.prototype.enqueuRetry=function(r,n){var i=!(r instanceof Te)||r.retry;return i?this.queue.pushWithBackoff(n):!1},e.prototype.flush=function(){return A(this,void 0,void 0,function(){var r,n,i;return P(this,function(o){switch(o.label){case 0:if(this.queue.length===0)return[2,[]];if(r=this.queue.pop(),!r)return[2,[]];r.attempts=this.queue.getAttempts(r),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.deliver(r)];case 2:return r=o.sent(),this.emit("flush",r,!0),[3,4];case 3:return n=o.sent(),i=this.enqueuRetry(n,r),i||(r.setFailedDelivery({reason:n}),this.emit("flush",r,!1)),[2,[]];case 4:return[2,[r]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(r){var n=this.plugins.filter(function(y){var w,E,S;if(y.type!=="destination"&&y.name!=="Segment.io")return!0;var g=void 0;return(w=y.alternativeNames)===null||w===void 0||w.forEach(function(p){r[p]!==void 0&&(g=r[p])}),(S=(E=r[y.name])!==null&&E!==void 0?E:g)!==null&&S!==void 0?S:(y.name==="Segment.io"?!0:r.All)!==!1}),i=ji(n,"type"),o=i.before,a=o===void 0?[]:o,s=i.enrichment,f=s===void 0?[]:s,h=i.destination,v=h===void 0?[]:h,m=i.after,b=m===void 0?[]:m;return{before:a,enrichment:f,destinations:v,after:b}},e.prototype.flushOne=function(r){var n,i;return A(this,void 0,void 0,function(){var o,a,s,f,h,v,w,m,b,y,w,E,S,g,p;return P(this,function(c){switch(c.label){case 0:if(!this.isReady())throw new Error("Not ready");r.attempts>1&&this.emit("delivery_retry",r),o=this.availableExtensions((n=r.event.integrations)!==null&&n!==void 0?n:{}),a=o.before,s=o.enrichment,f=0,h=a,c.label=1;case 1:return f<h.length?(v=h[f],[4,zi(r,v)]):[3,4];case 2:w=c.sent(),w instanceof Ye&&(r=w),this.emit("message_enriched",r,v),c.label=3;case 3:return f++,[3,1];case 4:m=0,b=s,c.label=5;case 5:return m<b.length?(y=b[m],[4,ke(r,y)]):[3,8];case 6:w=c.sent(),w instanceof Ye&&(r=w),this.emit("message_enriched",r,y),c.label=7;case 7:return m++,[3,5];case 8:return E=this.availableExtensions((i=r.event.integrations)!==null&&i!==void 0?i:{}),S=E.destinations,g=E.after,[4,new Promise(function(u,d){setTimeout(function(){var l=S.map(function(O){return ke(r,O)});Promise.all(l).then(u).catch(d)},0)})];case 9:return c.sent(),r.stats.increment("message_delivered"),this.emit("message_delivered",r),p=g.map(function(u){return ke(r,u)}),[4,Promise.all(p)];case 10:return c.sent(),[2,r]}})})},e}(Dt),qi=function(t,e){var r=Date.now()-t;return Math.max((e??300)-r,0)};function Wi(t,e,r,n){return A(this,void 0,void 0,function(){var i,o;return P(this,function(a){switch(a.label){case 0:return r.emit("dispatch_start",t),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(t)]:[3,2];case 1:return o=a.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:o=a.sent(),a.label=4;case 4:return n!=null&&n.callback?[4,Mi(o,n.callback,qi(i,n.timeout))]:[3,6];case 5:o=a.sent(),a.label=6;case 6:return n!=null&&n.debug&&o.flush(),[2,o]}})})}function Gi(t,e,r,n){var i,o=[t,e,r,n],a=Z(t)?t.event:t;if(!a||!ye(a))throw new Error("Event missing");var s=Z(t)?(i=t.properties)!==null&&i!==void 0?i:{}:Z(e)?e:{},f={};Ce(r)||(f=r??{}),Z(t)&&!Ce(e)&&(f=e??{});var h=o.find(Ce);return[a,s,f,h]}function ur(t,e,r,n,i){var o,a,s=null,f=null,h=[t,e,r,n,i],v=h.filter(ye);v[0]!==void 0&&v[1]!==void 0&&(s=v[0],f=v[1]),v.length===1&&(s=null,f=v[0]);var m=h.find(Ce),b=h.filter(function(E){return f===null?Z(E):Z(E)||E===null}),y=(o=b[0])!==null&&o!==void 0?o:{},w=(a=b[1])!==null&&a!==void 0?a:{};return[s,f,y,w,m]}var cr=function(t){return function(){for(var e,r,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var a={},s=["callback","options","traits","id"],f=0,h=i;f<h.length;f++){var v=h[f],m=s.pop();if(m==="id"){if(ye(v)||St(v)){a.id=v.toString();continue}if(v==null)continue;m=s.pop()}if((m==="traits"||m==="options")&&(v==null||Z(v))&&(a[m]=v),Ce(v)){a.callback=v;break}}return[(e=a.id)!==null&&e!==void 0?e:t.id(),(r=a.traits)!==null&&r!==void 0?r:{},(n=a.options)!==null&&n!==void 0?n:{},a.callback]}};function Ki(t,e,r,n){St(t)&&(t=t.toString()),St(e)&&(e=e.toString());var i=[t,e,r,n],o=i.filter(ye),a=o[0],s=a===void 0?t:a,f=o[1],h=f===void 0?null:f,v=i.filter(Z)[0],m=v===void 0?{}:v,b=i.find(Ce);return[s,h,m,b]}function Lt(){return typeof window<"u"}function Ms(){return!Lt()}function Hi(){return Lt()?window.navigator.onLine:!0}function je(){return!Hi()}function Ji(t,e){return e=e||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],a=[],s={},f=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:f,headers:{keys:function(){return o},entries:function(){return a},get:function(v){return s[v.toLowerCase()]},has:function(v){return v.toLowerCase()in s}}}};for(var h in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(v,m,b){o.push(m=m.toLowerCase()),a.push([m,b]),s[m]=s[m]?s[m]+","+b:b}),r(f())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(h,e.headers[h]);i.send(e.body||null)})}var Ft=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null},nt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ft();return(r&&r.fetch||Ji).apply(void 0,t)},it="1.64.0",kr="api.segment.io/v1",Qi=function(t,e,r){var n=e.reduce(function(i,o){var a=o.split(":"),s=a[0],f=a[1];return i[s]=f,i},{});return{type:"Counter",metric:t,value:1,tags:_(_({},n),{library:"analytics.js",library_version:"npm:next-".concat(it)})}};function pt(t){console.error("Error sending segment performance metrics",t)}var Yi=function(){function t(e){var r=this,n,i,o,a;if(this.host=(n=e==null?void 0:e.host)!==null&&n!==void 0?n:kr,this.sampleRate=(i=e==null?void 0:e.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(o=e==null?void 0:e.flushTimer)!==null&&o!==void 0?o:30*1e3,this.maxQueueSize=(a=e==null?void 0:e.maxQueueSize)!==null&&a!==void 0?a:20,this.queue=[],this.sampleRate>0){var s=!1,f=function(){s||(s=!0,r.flush().catch(pt),s=!1,setTimeout(f,r.flushTimer))};f()}}return t.prototype.increment=function(e,r){if(e.includes("analytics_js.")&&r.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=Qi(e,r);this.queue.push(n),e.includes("error")&&this.flush().catch(pt)}},t.prototype.flush=function(){return A(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(n){pt(n),e.sampleRate=0})];case 1:return r.sent(),[2]}})})},t.prototype.send=function(){return A(this,void 0,void 0,function(){var e,r,n;return P(this,function(i){return e={series:this.queue},this.queue=[],r={"Content-Type":"text/plain"},n="https://".concat(this.host,"/m"),[2,nt(n,{headers:r,body:JSON.stringify(e),method:"POST"})]})})},t}(),qe,jr=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.initRemoteMetrics=function(r){qe=new Yi(r)},e.prototype.increment=function(r,n,i){t.prototype.increment.call(this,r,n,i),qe==null||qe.increment(r,i??[])},e}(Rr),ue=function(t){G(e,t);function e(r,n){return t.call(this,r,n,new jr)||this}return e.system=function(){return new this({type:"track",event:"system"})},e}(Ye),Ur={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(g,p){var c=g[0],u=g[1],d=g[2],l=g[3];c+=(u&d|~u&l)+p[0]-680876936|0,c=(c<<7|c>>>25)+u|0,l+=(c&u|~c&d)+p[1]-389564586|0,l=(l<<12|l>>>20)+c|0,d+=(l&c|~l&u)+p[2]+606105819|0,d=(d<<17|d>>>15)+l|0,u+=(d&l|~d&c)+p[3]-1044525330|0,u=(u<<22|u>>>10)+d|0,c+=(u&d|~u&l)+p[4]-176418897|0,c=(c<<7|c>>>25)+u|0,l+=(c&u|~c&d)+p[5]+1200080426|0,l=(l<<12|l>>>20)+c|0,d+=(l&c|~l&u)+p[6]-1473231341|0,d=(d<<17|d>>>15)+l|0,u+=(d&l|~d&c)+p[7]-45705983|0,u=(u<<22|u>>>10)+d|0,c+=(u&d|~u&l)+p[8]+1770035416|0,c=(c<<7|c>>>25)+u|0,l+=(c&u|~c&d)+p[9]-1958414417|0,l=(l<<12|l>>>20)+c|0,d+=(l&c|~l&u)+p[10]-42063|0,d=(d<<17|d>>>15)+l|0,u+=(d&l|~d&c)+p[11]-1990404162|0,u=(u<<22|u>>>10)+d|0,c+=(u&d|~u&l)+p[12]+1804603682|0,c=(c<<7|c>>>25)+u|0,l+=(c&u|~c&d)+p[13]-40341101|0,l=(l<<12|l>>>20)+c|0,d+=(l&c|~l&u)+p[14]-1502002290|0,d=(d<<17|d>>>15)+l|0,u+=(d&l|~d&c)+p[15]+1236535329|0,u=(u<<22|u>>>10)+d|0,c+=(u&l|d&~l)+p[1]-165796510|0,c=(c<<5|c>>>27)+u|0,l+=(c&d|u&~d)+p[6]-1069501632|0,l=(l<<9|l>>>23)+c|0,d+=(l&u|c&~u)+p[11]+643717713|0,d=(d<<14|d>>>18)+l|0,u+=(d&c|l&~c)+p[0]-373897302|0,u=(u<<20|u>>>12)+d|0,c+=(u&l|d&~l)+p[5]-701558691|0,c=(c<<5|c>>>27)+u|0,l+=(c&d|u&~d)+p[10]+38016083|0,l=(l<<9|l>>>23)+c|0,d+=(l&u|c&~u)+p[15]-660478335|0,d=(d<<14|d>>>18)+l|0,u+=(d&c|l&~c)+p[4]-405537848|0,u=(u<<20|u>>>12)+d|0,c+=(u&l|d&~l)+p[9]+568446438|0,c=(c<<5|c>>>27)+u|0,l+=(c&d|u&~d)+p[14]-1019803690|0,l=(l<<9|l>>>23)+c|0,d+=(l&u|c&~u)+p[3]-187363961|0,d=(d<<14|d>>>18)+l|0,u+=(d&c|l&~c)+p[8]+1163531501|0,u=(u<<20|u>>>12)+d|0,c+=(u&l|d&~l)+p[13]-1444681467|0,c=(c<<5|c>>>27)+u|0,l+=(c&d|u&~d)+p[2]-51403784|0,l=(l<<9|l>>>23)+c|0,d+=(l&u|c&~u)+p[7]+1735328473|0,d=(d<<14|d>>>18)+l|0,u+=(d&c|l&~c)+p[12]-1926607734|0,u=(u<<20|u>>>12)+d|0,c+=(u^d^l)+p[5]-378558|0,c=(c<<4|c>>>28)+u|0,l+=(c^u^d)+p[8]-2022574463|0,l=(l<<11|l>>>21)+c|0,d+=(l^c^u)+p[11]+1839030562|0,d=(d<<16|d>>>16)+l|0,u+=(d^l^c)+p[14]-35309556|0,u=(u<<23|u>>>9)+d|0,c+=(u^d^l)+p[1]-1530992060|0,c=(c<<4|c>>>28)+u|0,l+=(c^u^d)+p[4]+1272893353|0,l=(l<<11|l>>>21)+c|0,d+=(l^c^u)+p[7]-155497632|0,d=(d<<16|d>>>16)+l|0,u+=(d^l^c)+p[10]-1094730640|0,u=(u<<23|u>>>9)+d|0,c+=(u^d^l)+p[13]+681279174|0,c=(c<<4|c>>>28)+u|0,l+=(c^u^d)+p[0]-358537222|0,l=(l<<11|l>>>21)+c|0,d+=(l^c^u)+p[3]-722521979|0,d=(d<<16|d>>>16)+l|0,u+=(d^l^c)+p[6]+76029189|0,u=(u<<23|u>>>9)+d|0,c+=(u^d^l)+p[9]-640364487|0,c=(c<<4|c>>>28)+u|0,l+=(c^u^d)+p[12]-421815835|0,l=(l<<11|l>>>21)+c|0,d+=(l^c^u)+p[15]+530742520|0,d=(d<<16|d>>>16)+l|0,u+=(d^l^c)+p[2]-995338651|0,u=(u<<23|u>>>9)+d|0,c+=(d^(u|~l))+p[0]-198630844|0,c=(c<<6|c>>>26)+u|0,l+=(u^(c|~d))+p[7]+1126891415|0,l=(l<<10|l>>>22)+c|0,d+=(c^(l|~u))+p[14]-1416354905|0,d=(d<<15|d>>>17)+l|0,u+=(l^(d|~c))+p[5]-57434055|0,u=(u<<21|u>>>11)+d|0,c+=(d^(u|~l))+p[12]+1700485571|0,c=(c<<6|c>>>26)+u|0,l+=(u^(c|~d))+p[3]-1894986606|0,l=(l<<10|l>>>22)+c|0,d+=(c^(l|~u))+p[10]-1051523|0,d=(d<<15|d>>>17)+l|0,u+=(l^(d|~c))+p[1]-2054922799|0,u=(u<<21|u>>>11)+d|0,c+=(d^(u|~l))+p[8]+1873313359|0,c=(c<<6|c>>>26)+u|0,l+=(u^(c|~d))+p[15]-30611744|0,l=(l<<10|l>>>22)+c|0,d+=(c^(l|~u))+p[6]-1560198380|0,d=(d<<15|d>>>17)+l|0,u+=(l^(d|~c))+p[13]+1309151649|0,u=(u<<21|u>>>11)+d|0,c+=(d^(u|~l))+p[4]-145523070|0,c=(c<<6|c>>>26)+u|0,l+=(u^(c|~d))+p[11]-1120210379|0,l=(l<<10|l>>>22)+c|0,d+=(c^(l|~u))+p[2]+718787259|0,d=(d<<15|d>>>17)+l|0,u+=(l^(d|~c))+p[9]-343485551|0,u=(u<<21|u>>>11)+d|0,g[0]=c+g[0]|0,g[1]=u+g[1]|0,g[2]=d+g[2]|0,g[3]=l+g[3]|0}function o(g){var p=[],c;for(c=0;c<64;c+=4)p[c>>2]=g.charCodeAt(c)+(g.charCodeAt(c+1)<<8)+(g.charCodeAt(c+2)<<16)+(g.charCodeAt(c+3)<<24);return p}function a(g){var p=[],c;for(c=0;c<64;c+=4)p[c>>2]=g[c]+(g[c+1]<<8)+(g[c+2]<<16)+(g[c+3]<<24);return p}function s(g){var p=g.length,c=[1732584193,-271733879,-1732584194,271733878],u,d,l,O,V,Y;for(u=64;u<=p;u+=64)i(c,o(g.substring(u-64,u)));for(g=g.substring(u-64),d=g.length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0;u<d;u+=1)l[u>>2]|=g.charCodeAt(u)<<(u%4<<3);if(l[u>>2]|=128<<(u%4<<3),u>55)for(i(c,l),u=0;u<16;u+=1)l[u]=0;return O=p*8,O=O.toString(16).match(/(.*?)(.{0,8})$/),V=parseInt(O[2],16),Y=parseInt(O[1],16)||0,l[14]=V,l[15]=Y,i(c,l),c}function f(g){var p=g.length,c=[1732584193,-271733879,-1732584194,271733878],u,d,l,O,V,Y;for(u=64;u<=p;u+=64)i(c,a(g.subarray(u-64,u)));for(g=u-64<p?g.subarray(u-64):new Uint8Array(0),d=g.length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0;u<d;u+=1)l[u>>2]|=g[u]<<(u%4<<3);if(l[u>>2]|=128<<(u%4<<3),u>55)for(i(c,l),u=0;u<16;u+=1)l[u]=0;return O=p*8,O=O.toString(16).match(/(.*?)(.{0,8})$/),V=parseInt(O[2],16),Y=parseInt(O[1],16)||0,l[14]=V,l[15]=Y,i(c,l),c}function h(g){var p="",c;for(c=0;c<4;c+=1)p+=n[g>>c*8+4&15]+n[g>>c*8&15];return p}function v(g){var p;for(p=0;p<g.length;p+=1)g[p]=h(g[p]);return g.join("")}v(s("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function g(p,c){return p=p|0||0,p<0?Math.max(p+c,0):Math.min(p,c)}ArrayBuffer.prototype.slice=function(p,c){var u=this.byteLength,d=g(p,u),l=u,O,V,Y,M;return c!==r&&(l=g(c,u)),d>l?new ArrayBuffer(0):(O=l-d,V=new ArrayBuffer(O),Y=new Uint8Array(V),M=new Uint8Array(this,d,O),Y.set(M),V)}}();function m(g){return/[\u0080-\uFFFF]/.test(g)&&(g=unescape(encodeURIComponent(g))),g}function b(g,p){var c=g.length,u=new ArrayBuffer(c),d=new Uint8Array(u),l;for(l=0;l<c;l+=1)d[l]=g.charCodeAt(l);return p?d:u}function y(g){return String.fromCharCode.apply(null,new Uint8Array(g))}function w(g,p,c){var u=new Uint8Array(g.byteLength+p.byteLength);return u.set(new Uint8Array(g)),u.set(new Uint8Array(p),g.byteLength),u}function E(g){var p=[],c=g.length,u;for(u=0;u<c-1;u+=2)p.push(parseInt(g.substr(u,2),16));return String.fromCharCode.apply(String,p)}function S(){this.reset()}return S.prototype.append=function(g){return this.appendBinary(m(g)),this},S.prototype.appendBinary=function(g){this._buff+=g,this._length+=g.length;var p=this._buff.length,c;for(c=64;c<=p;c+=64)i(this._hash,o(this._buff.substring(c-64,c)));return this._buff=this._buff.substring(c-64),this},S.prototype.end=function(g){var p=this._buff,c=p.length,u,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l;for(u=0;u<c;u+=1)d[u>>2]|=p.charCodeAt(u)<<(u%4<<3);return this._finish(d,c),l=v(this._hash),g&&(l=E(l)),this.reset(),l},S.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},S.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},S.prototype.setState=function(g){return this._buff=g.buff,this._length=g.length,this._hash=g.hash,this},S.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},S.prototype._finish=function(g,p){var c=p,u,d,l;if(g[c>>2]|=128<<(c%4<<3),c>55)for(i(this._hash,g),c=0;c<16;c+=1)g[c]=0;u=this._length*8,u=u.toString(16).match(/(.*?)(.{0,8})$/),d=parseInt(u[2],16),l=parseInt(u[1],16)||0,g[14]=d,g[15]=l,i(this._hash,g)},S.hash=function(g,p){return S.hashBinary(m(g),p)},S.hashBinary=function(g,p){var c=s(g),u=v(c);return p?E(u):u},S.ArrayBuffer=function(){this.reset()},S.ArrayBuffer.prototype.append=function(g){var p=w(this._buff.buffer,g),c=p.length,u;for(this._length+=g.byteLength,u=64;u<=c;u+=64)i(this._hash,a(p.subarray(u-64,u)));return this._buff=u-64<c?new Uint8Array(p.buffer.slice(u-64)):new Uint8Array(0),this},S.ArrayBuffer.prototype.end=function(g){var p=this._buff,c=p.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d,l;for(d=0;d<c;d+=1)u[d>>2]|=p[d]<<(d%4<<3);return this._finish(u,c),l=v(this._hash),g&&(l=E(l)),this.reset(),l},S.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},S.ArrayBuffer.prototype.getState=function(){var g=S.prototype.getState.call(this);return g.buff=y(g.buff),g},S.ArrayBuffer.prototype.setState=function(g){return g.buff=b(g.buff,!0),S.prototype.setState.call(this,g)},S.ArrayBuffer.prototype.destroy=S.prototype.destroy,S.ArrayBuffer.prototype._finish=S.prototype._finish,S.ArrayBuffer.hash=function(g,p){var c=f(new Uint8Array(g)),u=v(c);return p?E(u):u},S})})(Ur);var Xi=Ur.exports;const Zi=yn(Xi);var Vr="bpc",Br=function(t,e,r,n,i,o){return{__t:Vr,c:e,p:n,u:t,s:r,t:i,r:o}},eo=Object.keys(Br("","","","","",""));function to(t){if(!Z(t)||t.__t!==Vr)return!1;for(var e in t)if(!eo.includes(e))return!1;return!0}var ro=function(t,e){return t.indexOf("?")>-1?t:t+e},no=function(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)},io=function(t){try{return new URL(t).pathname}catch{return t[0]==="/"?t:"/"+t}},zr=function(t){var e=t.c,r=t.p,n=t.s,i=t.u,o=t.r,a=t.t,s=e?io(e):r,f=e?ro(e,n):no(i);return{path:s,referrer:o,search:n,title:a,url:f}},$r=function(){var t=document.querySelector("link[rel='canonical']");return Br(location.href,t&&t.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},oo=function(){return zr($r())};function ao(t,e){return Object.assign.apply(Object,L([{}],e.map(function(r){var n;if(t&&Object.prototype.hasOwnProperty.call(t,r))return n={},n[r]=t[r],n}),!1))}var so=function(t,e){e===void 0&&(e=oo());var r=t.context,n;t.type==="page"&&(n=t.properties&&ao(t.properties,Object.keys(e)),t.properties=_(_(_({},e),t.properties),t.name?{name:t.name}:{})),r.page=_(_(_({},e),n),r.page)},uo=function(){function t(e){this.user=e}return t.prototype.track=function(e,r,n,i,o){return this.normalize(_(_({},this.baseEvent()),{event:e,type:"track",properties:r,options:_({},n),integrations:_({},i)}),o)},t.prototype.page=function(e,r,n,i,o,a){var s,f={type:"page",properties:_({},n),options:_({},i),integrations:_({},o)};return e!==null&&(f.category=e,f.properties=(s=f.properties)!==null&&s!==void 0?s:{},f.properties.category=e),r!==null&&(f.name=r),this.normalize(_(_({},this.baseEvent()),f),a)},t.prototype.screen=function(e,r,n,i,o,a){var s={type:"screen",properties:_({},n),options:_({},i),integrations:_({},o)};return e!==null&&(s.category=e),r!==null&&(s.name=r),this.normalize(_(_({},this.baseEvent()),s),a)},t.prototype.identify=function(e,r,n,i,o){return this.normalize(_(_({},this.baseEvent()),{type:"identify",userId:e,traits:r,options:_({},n),integrations:_({},i)}),o)},t.prototype.group=function(e,r,n,i,o){return this.normalize(_(_({},this.baseEvent()),{type:"group",traits:r,options:_({},n),integrations:_({},i),groupId:e}),o)},t.prototype.alias=function(e,r,n,i,o){var a={userId:e,type:"alias",options:_({},n),integrations:_({},i)};return r!==null&&(a.previousId=r),e===void 0?this.normalize(_(_({},a),this.baseEvent())):this.normalize(_(_({},this.baseEvent()),a),o)},t.prototype.baseEvent=function(){var e={integrations:{},options:{}},r=this.user;return r.id()&&(e.userId=r.id()),r.anonymousId()&&(e.anonymousId=r.anonymousId()),e},t.prototype.context=function(e){var r,n,i,o=["integrations","anonymousId","timestamp","userId"],a=(r=e.options)!==null&&r!==void 0?r:{};delete a.integrations;var s=Object.keys(a),f=(i=(n=e.options)===null||n===void 0?void 0:n.context)!==null&&i!==void 0?i:{},h={};return s.forEach(function(v){v!=="context"&&(o.includes(v)?wt(h,v,a[v]):wt(f,v,a[v]))}),[f,h]},t.prototype.normalize=function(e,r){var n,i,o;!((n=e.options)===null||n===void 0)&&n.anonymousId&&this.user.anonymousId(e.options.anonymousId);var a=Object.keys((i=e.integrations)!==null&&i!==void 0?i:{}).reduce(function(y,w){var E,S;return _(_({},y),(E={},E[w]=!!(!((S=e.integrations)===null||S===void 0)&&S[w]),E))},{}),s=_(_({},a),(o=e.options)===null||o===void 0?void 0:o.integrations),f=this.context(e),h=f[0],v=f[1];e.options;var m=br(e,["options"]),b=_(_(_(_({timestamp:new Date},m),{context:h,integrations:s}),v),{messageId:"ajs-next-"+Zi.hash(JSON.stringify(e)+Nt())});return so(b,r),b},t}(),ee={getItem:function(){},setItem:function(){},removeItem:function(){}};try{ee=Lt()&&window.localStorage?window.localStorage:ee}catch(t){console.warn("Unable to access localStorage",t)}function qr(t){var e=ee.getItem(t);return(e?JSON.parse(e):[]).map(function(r){return new ue(r.event,r.id)})}function co(t,e){var r=qr(t),n=L(L([],e,!0),r,!0),i=n.reduce(function(o,a){var s;return _(_({},o),(s={},s[a.id]=a,s))},{});ee.setItem(t,JSON.stringify(Object.values(i)))}function Wr(t){var e=ee.getItem(t);return e?JSON.parse(e):{}}function lo(t,e){var r=Wr(t);ee.setItem(t,JSON.stringify(_(_({},r),e)))}function lr(t){ee.removeItem(t)}var fo=function(){return new Date().getTime()};function Et(t,e,r){r===void 0&&(r=0);var n=50,i="persisted-queue:v1:".concat(t,":lock"),o=function(h){return new Date().getTime()>h},a=ee.getItem(i),s=a?JSON.parse(a):null,f=s===null||o(s);if(f){ee.setItem(i,JSON.stringify(fo()+n)),e(),ee.removeItem(i);return}!f&&r<3?setTimeout(function(){Et(t,e,r+1)},n):console.error("Unable to retrieve lock")}var Rt=function(t){G(e,t);function e(r,n){var i=t.call(this,r,[])||this,o="persisted-queue:v1:".concat(n,":items"),a="persisted-queue:v1:".concat(n,":seen"),s=[],f={};return Et(n,function(){try{s=qr(o),f=Wr(a),lr(o),lr(a),i.queue=L(L([],s,!0),i.queue,!0),i.seen=_(_({},f),i.seen)}catch(h){console.error(h)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var h=L(L([],i.queue,!0),i.future,!0);try{Et(n,function(){co(o,h),lo(a,i.seen)})}catch(v){console.error(v)}}}),i}return e}(Mt),ho=function(t){G(e,t);function e(r){return t.call(this,typeof r=="string"?new Rt(4,r):r)||this}return e.prototype.flush=function(){return A(this,void 0,void 0,function(){return P(this,function(r){return je()?[2,[]]:[2,t.prototype.flush.call(this)]})})},e}($i);function kt(t){for(var e=t.constructor.prototype,r=0,n=Object.getOwnPropertyNames(e);r<n.length;r++){var i=n[r];if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);o&&typeof o.value=="function"&&(t[i]=t[i].bind(t))}}return t}/*! js-cookie v3.0.1 | MIT */function We(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var po={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function It(t,e){function r(i,o,a){if(!(typeof document>"u")){a=We({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var f in a)a[f]&&(s+="; "+f,a[f]!==!0&&(s+="="+a[f].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+s}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],a={},s=0;s<o.length;s++){var f=o[s].split("="),h=f.slice(1).join("=");try{var v=decodeURIComponent(f[0]);if(a[v]=t.read(h,v),i===v)break}catch{}}return i?a[i]:a}}return Object.create({set:r,get:n,remove:function(i,o){r(i,"",We({},o,{expires:-1}))},withAttributes:function(i){return It(this.converter,We({},this.attributes,i))},withConverter:function(i){return It(We({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var ne=It(po,{path:"/"});function vo(t){var e=t.hostname,r=e.split("."),n=r[r.length-1],i=[];if(r.length===4&&parseInt(n,10)>0||r.length<=1)return i;for(var o=r.length-2;o>=0;--o)i.push(r.slice(o).join("."));return i}function go(t){try{return new URL(t)}catch{return}}function Gr(t){var e=go(t);if(e)for(var r=vo(e),n=0;n<r.length;++n){var i="__tld__",o=r[n],a={domain:"."+o};try{if(ne.set(i,"1",a),ne.get(i))return ne.remove(i,a),o}catch{return}}}var mo=365,Kr=function(){function t(e){e===void 0&&(e=t.defaults),this.options=_(_({},t.defaults),e)}return Object.defineProperty(t,"defaults",{get:function(){return{maxage:mo,domain:Gr(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(e){var r;try{var n=ne.get(e);if(n==null)return null;try{return(r=JSON.parse(n))!==null&&r!==void 0?r:null}catch{return n??null}}catch{return null}},t.prototype.set=function(e,r){typeof r=="string"?ne.set(e,r,this.opts()):r===null?ne.remove(e,this.opts()):ne.set(e,JSON.stringify(r),this.opts())},t.prototype.remove=function(e){return ne.remove(e,this.opts())},t}(),yo=function(){function t(){}return t.prototype.localStorageWarning=function(e,r){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(r))},t.prototype.get=function(e){var r;try{var n=localStorage.getItem(e);if(n===null)return null;try{return(r=JSON.parse(n))!==null&&r!==void 0?r:null}catch{return n??null}}catch{return this.localStorageWarning(e,"unavailable"),null}},t.prototype.set=function(e,r){try{localStorage.setItem(e,JSON.stringify(r))}catch{this.localStorageWarning(e,"full")}},t.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch{this.localStorageWarning(e,"unavailable")}},t}(),jt=function(){function t(){this.cache={}}return t.prototype.get=function(e){var r;return(r=this.cache[e])!==null&&r!==void 0?r:null},t.prototype.set=function(e,r){this.cache[e]=r},t.prototype.remove=function(e){delete this.cache[e]},t}(),j={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function Hr(t){return t&&t.stores&&Array.isArray(t.stores)&&t.stores.every(function(e){return Object.values(j).includes(e)})}function _o(t){return typeof t=="object"&&t.name!==void 0}var vt=function(t,e,r,n){console.warn("".concat(t.constructor.name,": Can't ").concat(e,' key "').concat(r,'" | Err: ').concat(n))},pe=function(){function t(e){this.stores=e}return t.prototype.get=function(e){for(var r=null,n=0,i=this.stores;n<i.length;n++){var o=i[n];try{if(r=o.get(e),r!=null)return r}catch(a){vt(o,"get",e,a)}}return null},t.prototype.set=function(e,r){this.stores.forEach(function(n){try{n.set(e,r)}catch(i){vt(n,"set",e,i)}})},t.prototype.clear=function(e){this.stores.forEach(function(r){try{r.remove(e)}catch(n){vt(r,"remove",e,n)}})},t.prototype.getAndSync=function(e){var r=this.get(e),n=typeof r=="number"?r.toString():r;return this.set(e,n),n},t}();function At(t){var e=t.map(function(r){var n,i;switch(_o(r)?(n=r.name,i=r.settings):n=r,n){case j.Cookie:return new Kr(i);case j.LocalStorage:return new yo;case j.Memory:return new jt;default:throw new Error("Unknown Store Type: ".concat(r))}});return e}function Jr(t,e){return t.map(function(r){return e&&r===j.Cookie?{name:r,settings:e}:r})}var le={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},Qr=function(){function t(e,r){e===void 0&&(e=le);var n=this,i,o,a,s;this.options={},this.id=function(h){if(n.options.disable)return null;var v=n.identityStore.getAndSync(n.idKey);if(h!==void 0){n.identityStore.set(n.idKey,h);var m=h!==v&&v!==null&&h!==null;m&&n.anonymousId(null)}var b=n.identityStore.getAndSync(n.idKey);if(b)return b;var y=n.legacyUserStore.get(le.cookie.oldKey);return y?typeof y=="object"?y.id:y:null},this.anonymousId=function(h){var v,m;if(n.options.disable)return null;if(h===void 0){var b=(v=n.identityStore.getAndSync(n.anonKey))!==null&&v!==void 0?v:(m=n.legacySIO())===null||m===void 0?void 0:m[0];if(b)return b}return h===null?(n.identityStore.set(n.anonKey,null),n.identityStore.getAndSync(n.anonKey)):(n.identityStore.set(n.anonKey,h??Nt()),n.identityStore.getAndSync(n.anonKey))},this.traits=function(h){var v;if(!n.options.disable)return h===null&&(h={}),h&&n.traitsStore.set(n.traitsKey,h??{}),(v=n.traitsStore.get(n.traitsKey))!==null&&v!==void 0?v:{}},this.options=_(_({},le),e),this.cookieOptions=r,this.idKey=(o=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:le.cookie.key,this.traitsKey=(s=(a=e.localStorage)===null||a===void 0?void 0:a.key)!==null&&s!==void 0?s:le.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,r),this.legacyUserStore=this.createStorage(this.options,r,function(h){return h===j.Cookie}),this.traitsStore=this.createStorage(this.options,r,function(h){return h!==j.Cookie});var f=this.legacyUserStore.get(le.cookie.oldKey);f&&typeof f=="object"&&(f.id&&this.id(f.id),f.traits&&this.traits(f.traits)),kt(this)}return t.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var r=e.split("----"),n=r[0],i=r[1];return[n,i]},t.prototype.identify=function(e,r){if(!this.options.disable){r=r??{};var n=this.id();(n===null||n===e)&&(r=_(_({},this.traits()),r)),e&&this.id(e),this.traits(r)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.prototype.createStorage=function(e,r,n){var i=[j.LocalStorage,j.Cookie,j.Memory];return e.disable?new pe([]):e.persist?(e.storage!==void 0&&e.storage!==null&&Hr(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(o){return o!==j.LocalStorage})),n&&(i=i.filter(n)),new pe(At(Jr(i,r)))):new pe([new jt])},t.defaults=le,t}(),fr={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},bo=function(t){G(e,t);function e(r,n){r===void 0&&(r=fr);var i=t.call(this,_(_({},fr),r),n)||this;return i.anonymousId=function(o){},kt(i),i}return e}(Qr),Ut="analytics";function Vt(){return window[Ut]}function wo(t){Ut=t}function So(t){window[Ut]=t}var Eo=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},Yr=function(t,e,r){r.getCalls(t).forEach(function(n){Bt(e,n).catch(console.error)})},Io=function(t,e){return A(void 0,void 0,void 0,function(){var r,n,i;return P(this,function(o){switch(o.label){case 0:r=0,n=e.getCalls("addSourceMiddleware"),o.label=1;case 1:return r<n.length?(i=n[r],[4,Bt(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},Ao=Yr.bind(void 0,"on"),Po=Yr.bind(void 0,"setAnonymousId"),Co=function(t,e){e.toArray().forEach(function(r){setTimeout(function(){Bt(t,r).catch(console.error)},0)})},Se=function(t){if(Xr(t)){var e=t.pop();return zr(e)}},Xr=function(t){var e=t[t.length-1];return to(e)},Xe=function(){function t(e,r,n,i){n===void 0&&(n=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=n,this.reject=i,this.called=!1,this.args=r}return t}(),Oo=function(){function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._callMap={},this.push.apply(this,e)}return Object.defineProperty(t.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),t.prototype.getCalls=function(e){var r;return(r=this.calls[e])!==null&&r!==void 0?r:[]},t.prototype.push=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r.forEach(function(i){var o=["track","screen","alias","group","page","identify"];o.includes(i.method)&&!Xr(i.args)&&(i.args=L(L([],i.args,!0),[$r()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},t.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},t.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},t.prototype._pushSnippetWindowBuffer=function(){var e=Vt();if(Array.isArray(e)){var r=e.splice(0,e.length),n=r.map(function(i){var o=i[0],a=i.slice(1);return new Xe(o,a)});this.push.apply(this,n)}},t}();function Bt(t,e){return A(this,void 0,void 0,function(){var r,n;return P(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,r=t[e.method].apply(t,e.args),Eo(r)?[4,r]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(r),[3,4];case 3:return n=i.sent(),e.reject(n),[3,4];case 4:return[2]}})})}var xo=function(){function t(e){var r=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=it,this._preInitBuffer=new Oo,this._promise=e(this._preInitBuffer),this._promise.then(function(n){var i=n[0],o=n[1];r.instance=i,r.ctx=o}).catch(function(){})}return t.prototype.then=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).then.apply(e,r)},t.prototype.catch=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).catch.apply(e,r)},t.prototype.finally=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).finally.apply(e,r)},t.prototype._createMethod=function(e){var r=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r.instance){var a=(n=r.instance)[e].apply(n,i);return Promise.resolve(a)}return new Promise(function(s,f){r._preInitBuffer.push(new Xe(e,i,s,f))})}},t.prototype._createChainableMethod=function(e){var r=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r.instance?((n=r.instance)[e].apply(n,i),r):(r._preInitBuffer.push(new Xe(e,i)),r)}},t}(),oe="This is being deprecated and will be not be available in future releases of Analytics JS",gt=Ft(),mt=gt==null?void 0:gt.analytics;function To(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=e?10:1,i=r?new Mt(n,[]):new Rt(n,t);return new ho(i)}function X(){console.warn(oe)}var Zr=function(t){G(e,t);function e(r,n,i,o,a){var s=this,f,h,v;s=t.call(this)||this,s._debug=!1,s.initialized=!1,s.user=function(){return s._user},s.init=s.initialize.bind(s),s.log=X,s.addIntegrationMiddleware=X,s.listeners=X,s.addEventListener=X,s.removeAllListeners=X,s.removeListener=X,s.removeEventListener=X,s.hasListeners=X,s.add=X,s.addIntegration=X;var m=n==null?void 0:n.cookie,b=(f=n==null?void 0:n.disableClientPersistence)!==null&&f!==void 0?f:!1;s.settings=r,s.settings.timeout=(h=s.settings.timeout)!==null&&h!==void 0?h:300,s.queue=i??To("".concat(r.writeKey,":event-queue"),n==null?void 0:n.retryQueue,b);var y=n==null?void 0:n.storage;return s._universalStorage=s.createStore(b,y,m),s._user=o??new Qr(_({persist:!b,storage:n==null?void 0:n.storage},n==null?void 0:n.user),m).load(),s._group=a??new bo(_({persist:!b,storage:n==null?void 0:n.storage},n==null?void 0:n.group),m).load(),s.eventFactory=new uo(s._user),s.integrations=(v=n==null?void 0:n.integrations)!==null&&v!==void 0?v:{},s.options=n??{},kt(s),s}return e.prototype.createStore=function(r,n,i){return r?new pe([new jt]):n&&Hr(n)?new pe(At(Jr(n.stores,i))):new pe(At([j.LocalStorage,{name:j.Cookie,settings:i},j.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a,s,f,h,v,m=this;return P(this,function(b){return i=Se(r),o=Gi.apply(void 0,r),a=o[0],s=o[1],f=o[2],h=o[3],v=this.eventFactory.track(a,s,f,this.integrations,i),[2,this._dispatch(v,h).then(function(y){return m.emit("track",a,y.event.properties,y.event.options),y})]})})},e.prototype.page=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a,s,f,h,v,m,b=this;return P(this,function(y){return i=Se(r),o=ur.apply(void 0,r),a=o[0],s=o[1],f=o[2],h=o[3],v=o[4],m=this.eventFactory.page(a,s,f,h,this.integrations,i),[2,this._dispatch(m,v).then(function(w){return b.emit("page",a,s,w.event.properties,w.event.options),w})]})})},e.prototype.identify=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a,s,f,h,v,m=this;return P(this,function(b){return i=Se(r),o=cr(this._user).apply(void 0,r),a=o[0],s=o[1],f=o[2],h=o[3],this._user.identify(a,s),v=this.eventFactory.identify(this._user.id(),this._user.traits(),f,this.integrations,i),[2,this._dispatch(v,h).then(function(y){return m.emit("identify",y.event.userId,y.event.traits,y.event.options),y})]})})},e.prototype.group=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=Se(n);if(n.length===0)return this._group;var a=cr(this._group).apply(void 0,n),s=a[0],f=a[1],h=a[2],v=a[3];this._group.identify(s,f);var m=this._group.id(),b=this._group.traits(),y=this.eventFactory.group(m,b,h,this.integrations,o);return this._dispatch(y,v).then(function(w){return r.emit("group",w.event.groupId,w.event.traits,w.event.options),w})},e.prototype.alias=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a,s,f,h,v,m=this;return P(this,function(b){return i=Se(r),o=Ki.apply(void 0,r),a=o[0],s=o[1],f=o[2],h=o[3],v=this.eventFactory.alias(a,s,f,this.integrations,i),[2,this._dispatch(v,h).then(function(y){return m.emit("alias",a,s,y.event.options),y})]})})},e.prototype.screen=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a,s,f,h,v,m,b=this;return P(this,function(y){return i=Se(r),o=ur.apply(void 0,r),a=o[0],s=o[1],f=o[2],h=o[3],v=o[4],m=this.eventFactory.screen(a,s,f,h,this.integrations,i),[2,this._dispatch(m,v).then(function(w){return b.emit("screen",a,s,w.event.properties,w.event.options),w})]})})},e.prototype.trackClick=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o;return P(this,function(a){switch(a.label){case 0:return[4,H(()=>import("./auto-track-BSA_hmVS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,L([this],r,!1))]}})})},e.prototype.trackLink=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o;return P(this,function(a){switch(a.label){case 0:return[4,H(()=>import("./auto-track-BSA_hmVS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,L([this],r,!1))]}})})},e.prototype.trackSubmit=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o;return P(this,function(a){switch(a.label){case 0:return[4,H(()=>import("./auto-track-BSA_hmVS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,L([this],r,!1))]}})})},e.prototype.trackForm=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o;return P(this,function(a){switch(a.label){case 0:return[4,H(()=>import("./auto-track-BSA_hmVS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,L([this],r,!1))]}})})},e.prototype.register=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a=this;return P(this,function(s){switch(s.label){case 0:return i=ue.system(),o=r.map(function(f){return a.queue.register(i,f,a)}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a=this;return P(this,function(s){switch(s.label){case 0:return i=ue.system(),o=r.map(function(f){var h=a.queue.plugins.find(function(v){return v.name===f});if(h)return a.queue.deregister(i,h,a);i.log("warn","plugin ".concat(f," not found"))}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},e.prototype.debug=function(r){return r===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=r,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(r){this.settings.timeout=r},e.prototype._dispatch=function(r,n){return A(this,void 0,void 0,function(){var i;return P(this,function(o){return i=new ue(r),je()&&!this.options.retryQueue?[2,i]:[2,Wi(i,this.queue,this,{callback:n,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(r){return A(this,void 0,void 0,function(){var n=this;return P(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return A(n,void 0,void 0,function(){var o,a,s;return P(this,function(f){switch(f.label){case 0:return[4,H(()=>Promise.resolve().then(()=>Da),void 0)];case 1:return o=f.sent().sourceMiddlewarePlugin,a={},this.queue.plugins.forEach(function(h){if(h.type==="destination")return a[h.name]=!0}),s=o(r,a),[4,this.register(s)];case 2:return f.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.queue.plugins.filter(function(a){return a.name.toLowerCase()===r.toLowerCase()});return o.forEach(function(a){a.addMiddleware.apply(a,n)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(r){return this._user.anonymousId(r)},e.prototype.queryString=function(r){return A(this,void 0,void 0,function(){var n;return P(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,H(()=>import("./index-D9FBxo2z.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))];case 1:return n=i.sent().queryString,[2,n(this,r)]}})})},e.prototype.use=function(r){return r(this),this},e.prototype.ready=function(r){return r===void 0&&(r=function(n){return n}),A(this,void 0,void 0,function(){return P(this,function(n){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return r(i),i})]})})},e.prototype.noConflict=function(){return console.warn(oe),So(mt??this),this},e.prototype.normalize=function(r){return console.warn(oe),this.eventFactory.normalize(r)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(oe),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return it},enumerable:!1,configurable:!0}),e.prototype.initialize=function(r,n){return A(this,void 0,void 0,function(){return P(this,function(i){return console.warn(oe),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(r){return A(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return console.warn(oe),[4,this.page({path:r})];case 1:return n.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var r;return console.warn(oe),(r=this._plugins)!==null&&r!==void 0?r:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(oe);var r=this.queue.plugins.filter(function(n){return n.type==="destination"}).reduce(function(n,i){var o="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),a=window[o];if(!a)return n;var s=a.Integration;return s?(n[i.name]=s,n):(n[i.name]=a,n)},{});return r},enumerable:!1,configurable:!0}),e.prototype.push=function(r){var n=this,i=r.shift();i&&!n[i]||n[i].apply(this,r)},e}(Dt),dr=function(t){G(e,t);function e(){var r=t.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return r.initialized=!0,r}return e}(Zr),hr={};function en(){return typeof process>"u"||!hr?{}:hr}var Do=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,Mo=function(){var t,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(r){var n,i=(n=r.getAttribute("src"))!==null&&n!==void 0?n:"",o=Do.exec(i);o&&o[1]&&(t=o[1])}),t},Qe,No=function(){var t,e=Qe??((t=Vt())===null||t===void 0?void 0:t._cdn);return e},Lo=function(t){var e=Vt();e&&(e._cdn=t),Qe=t},zt=function(){var t=No();if(t)return t;var e=Mo();return e||"https://cdn.segment.com"},Ns=function(){var t=zt();return"".concat(t,"/next-integrations")};function Fo(t,e){var r,n=Object.entries((r=e.integrations)!==null&&r!==void 0?r:{}).reduce(function(i,o){var a,s,f=o[0],h=o[1];return typeof h=="object"?_(_({},i),(a={},a[f]=h,a)):_(_({},i),(s={},s[f]={},s))},{});return Object.entries(t.integrations).reduce(function(i,o){var a,s=o[0],f=o[1];return _(_({},i),(a={},a[s]=_(_({},f),n[s]),a))},{})}function Ro(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return t}}function ko(t){return A(this,void 0,void 0,function(){var e;return P(this,function(r){return e=navigator.userAgentData,e?t?[2,e.getHighEntropyValues(t).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var Re;function jo(){if(Re)return Re;var t=Gr(window.location.href);return Re={expires:31536e6,secure:!1,path:"/"},t&&(Re.domain=t),Re}function Uo(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&");for(var r=t.split("&"),n=0,i=r;n<i.length;n++){var o=i[n],a=o.split("="),s=a[0],f=a[1];if(e[s])return{id:f,type:e[s]}}}function Vo(t){return t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&"),t.split("&").reduce(function(e,r){var n=r.split("="),i=n[0],o=n[1],a=o===void 0?"":o;if(i.includes("utm_")&&i.length>4){var s=i.slice(4);s==="campaign"&&(s="name"),e[s]=Ro(a)}return e},{})}function Bo(){var t=ne.get("_ga");if(t&&t.startsWith("amp"))return t}function zo(t,e,r){var n,i=new pe(r?[]:[new Kr(jo())]),o=i.get("s:context.referrer"),a=(n=Uo(t))!==null&&n!==void 0?n:o;a&&(e&&(e.referrer=_(_({},e.referrer),a)),i.set("s:context.referrer",a))}var $o=function(t){try{var e=new URLSearchParams;return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];Array.isArray(i)?i.forEach(function(o){return e.append(n,o)}):e.append(n,i)}),e.toString()}catch{return""}},qo=function(){function t(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(r,n){return A(e,void 0,void 0,function(){var i;return P(this,function(o){switch(o.label){case 0:this.instance=n,o.label=1;case 1:return o.trys.push([1,3,,4]),i=this,[4,ko(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(r){var n,i,o=r.event.context,a=o.page.search||"",s=typeof a=="object"?$o(a):a;o.userAgent=navigator.userAgent,o.userAgentData=e.userAgentData;var f=navigator.userLanguage||navigator.language;typeof o.locale>"u"&&typeof f<"u"&&(o.locale=f),(n=o.library)!==null&&n!==void 0||(o.library={name:"analytics.js",version:"".concat("npm:next","-").concat(it)}),s&&!o.campaign&&(o.campaign=Vo(s));var h=Bo();h&&(o.amp={id:h}),zo(s,o,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{o.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return r},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return t}(),Wo=new qo;function tn(t){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(r){return r.src===t})}function yt(t,e){var r=tn(t);if(r!==void 0){var n=r==null?void 0:r.getAttribute("status");if(n==="loaded")return Promise.resolve(r);if(n==="loading")return new Promise(function(i,o){r.addEventListener("load",function(){return i(r)}),r.addEventListener("error",function(a){return o(a)})})}return new Promise(function(i,o){var a,s=window.document.createElement("script");s.type="text/javascript",s.src=t,s.async=!0,s.setAttribute("status","loading");for(var f=0,h=Object.entries({});f<h.length;f++){var v=h[f],m=v[0],b=v[1];s.setAttribute(m,b)}s.onload=function(){s.onerror=s.onload=null,s.setAttribute("status","loaded"),i(s)},s.onerror=function(){s.onerror=s.onload=null,s.setAttribute("status","error"),o(new Error("Failed to load ".concat(t)))};var y=window.document.getElementsByTagName("script")[0];(a=y.parentElement)===null||a===void 0||a.insertBefore(s,y)})}function Ls(t){var e=tn(t);return e!==void 0&&e.remove(),Promise.resolve()}var ae={},te={},$t={},rn={exports:{}};(function(t){t.exports=e(r),t.exports.find=t.exports,t.exports.replace=function(s,f,h,v){return e(i).call(this,s,f,h,v),s},t.exports.del=function(s,f,h){return e(n).call(this,s,f,null,h),s};function e(s){return function(f,h,v,m){var b=m&&a(m.normalizer)?m.normalizer:o;h=b(h);for(var y,w=!1;!w;)E();function E(){for(y in f){var S=b(y);if(h.indexOf(S)===0){var g=h.substr(S.length);if(g.charAt(0)==="."||g.length===0){h=g.substr(1);var p=f[y];if(p==null){w=!0;return}if(!h.length){w=!0;return}f=p;return}}}y=void 0,w=!0}if(y)return f==null?f:s(f,y,v)}}function r(s,f){if(s.hasOwnProperty(f))return s[f]}function n(s,f){return s.hasOwnProperty(f)&&delete s[f],s}function i(s,f,h){return s.hasOwnProperty(f)&&(s[f]=h),s}function o(s){return s.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function a(s){return typeof s=="function"}})(rn);var ot=rn.exports,Go=D&&D.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($t,"__esModule",{value:!0});var ie=Go(ot);function Ee(t,e){return function(){var r=this.traits(),n=this.properties?this.properties():{};return ie.default(r,"address."+t)||ie.default(r,t)||(e?ie.default(r,"address."+e):null)||(e?ie.default(r,e):null)||ie.default(n,"address."+t)||ie.default(n,t)||(e?ie.default(n,"address."+e):null)||(e?ie.default(n,e):null)}}function Ko(t){t.zip=Ee("postalCode","zip"),t.country=Ee("country"),t.street=Ee("street"),t.state=Ee("state"),t.city=Ee("city"),t.region=Ee("region")}$t.default=Ko;var at={};Object.defineProperty(at,"__esModule",{value:!0});at.clone=void 0;function Pt(t){if(typeof t!="object")return t;if(Object.prototype.toString.call(t)==="[object Object]"){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Pt(t[r]));return e}else return Array.isArray(t)?t.map(Pt):t}at.clone=Pt;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});var Ho={Salesforce:!0};function Jo(t){return!Ho[t]}qt.default=Jo;var st={},nn=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;st.parse=function(t){var e=[1,5,6,7,11,12],r=nn.exec(t),n=0;if(!r)return new Date(t);for(var i=0,o;o=e[i];i++)r[o]=parseInt(r[o],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0,r[4]===" "?n=new Date().getTimezoneOffset():r[9]!=="Z"&&r[10]&&(n=r[11]*60+r[12],r[10]==="+"&&(n=0-n));var a=Date.UTC(r[1],r[2],r[3],r[5],r[6]+n,r[7],r[8]);return new Date(a)};st.is=function(t,e){return typeof t!="string"||e&&/^\d{4}-\d{2}-\d{2}/.test(t)===!1?!1:nn.test(t)};var Wt={},Qo=/\d{13}/;Wt.is=function(t){return Qo.test(t)};Wt.parse=function(t){return t=parseInt(t,10),new Date(t)};var Gt={},Yo=/\d{10}/;Gt.is=function(t){return Yo.test(t)};Gt.parse=function(t){var e=parseInt(t,10)*1e3;return new Date(e)};var pr=st,vr=Wt,gr=Gt,Xo=Object.prototype,on=Xo.toString;function Zo(t){return on.call(t)==="[object Date]"}function ea(t){return on.call(t)==="[object Number]"}var Kt=function(e){return Zo(e)?e:ea(e)?new Date(ta(e)):pr.is(e)?pr.parse(e):vr.is(e)?vr.parse(e):gr.is(e)?gr.parse(e):new Date(e)};function ta(t){return t<315576e5?t*1e3:t}var mr=st,ra=Ht;function Ht(t,e){return e===void 0&&(e=!0),t&&typeof t=="object"?na(t,e):Array.isArray(t)?ia(t,e):mr.is(t,e)?mr.parse(t):t}function na(t,e){return Object.keys(t).forEach(function(r){t[r]=Ht(t[r],e)}),t}function ia(t,e){return t.forEach(function(r,n){t[n]=Ht(r,e)}),t}var Ve=D&&D.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(te,"__esModule",{value:!0});te.Facade=void 0;var oa=Ve($t),De=at,aa=Ve(qt),sa=Ve(Kt),Ct=Ve(ot),ua=Ve(ra);function q(t,e){e=e||{},this.raw=De.clone(t),"clone"in e||(e.clone=!0),e.clone&&(t=De.clone(t)),"traverse"in e||(e.traverse=!0),"timestamp"in t?t.timestamp=sa.default(t.timestamp):t.timestamp=new Date,e.traverse&&ua.default(t),this.opts=e,this.obj=t}te.Facade=q;var x=q.prototype;x.proxy=function(t){var e=t.split(".");t=e.shift();var r=this[t]||this.obj[t];return r&&(typeof r=="function"&&(r=r.call(this)||{}),e.length===0?this.opts.clone?Ot(r):r:(r=Ct.default(r,e.join(".")),this.opts.clone?Ot(r):r))};x.field=function(t){var e=this.obj[t];return this.opts.clone?Ot(e):e};q.proxy=function(t){return function(){return this.proxy(t)}};q.field=function(t){return function(){return this.field(t)}};q.multi=function(t){return function(){var e=this.proxy(t+"s");if(Array.isArray(e))return e;var r=this.proxy(t);return r&&(r=[this.opts.clone?De.clone(r):r]),r||[]}};q.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var r=this.proxy(t+"s");if(Array.isArray(r))return r[0]}};x.json=function(){var t=this.opts.clone?De.clone(this.obj):this.obj;return this.type&&(t.type=this.type()),t};x.rawEvent=function(){return this.raw};x.options=function(t){var e=this.obj.options||this.obj.context||{},r=this.opts.clone?De.clone(e):e;if(!t)return r;if(this.enabled(t)){var n=this.integrations(),i=n[t]||Ct.default(n,t);return typeof i!="object"&&(i=Ct.default(this.options(),t)),typeof i=="object"?i:{}}};x.context=x.options;x.enabled=function(t){var e=this.proxy("options.providers.all");typeof e!="boolean"&&(e=this.proxy("options.all")),typeof e!="boolean"&&(e=this.proxy("integrations.all")),typeof e!="boolean"&&(e=!0);var r=e&&aa.default(t),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(t)&&(r=n.providers[t]),n.hasOwnProperty(t)){var i=n[t];typeof i=="boolean"?r=i:r=!0}return!!r};x.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};x.active=function(){var t=this.proxy("options.active");return t==null&&(t=!0),t};x.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};x.sessionId=x.anonymousId;x.groupId=q.proxy("options.groupId");x.traits=function(t){var e=this.proxy("options.traits")||{},r=this.userId();t=t||{},r&&(e.id=r);for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=this[n]==null?this.proxy("options.traits."+n):this[n]();if(i==null)continue;e[t[n]]=i,delete e[n]}return e};x.library=function(){var t=this.proxy("options.library");return t?typeof t=="string"?{name:t,version:null}:t:{name:"unknown",version:null}};x.device=function(){var t=this.proxy("context.device");(typeof t!="object"||t===null)&&(t={});var e=this.library().name;return t.type||(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android")),t};x.userAgent=q.proxy("context.userAgent");x.timezone=q.proxy("context.timezone");x.timestamp=q.field("timestamp");x.channel=q.field("channel");x.ip=q.proxy("context.ip");x.userId=q.field("userId");oa.default(x);function Ot(t){return De.clone(t)}var ut={},xt={exports:{}};typeof Object.create=="function"?xt.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:xt.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var _e=xt.exports,ca=D&&D.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ut,"__esModule",{value:!0});ut.Alias=void 0;var la=ca(_e),an=te;function J(t,e){an.Facade.call(this,t,e)}ut.Alias=J;la.default(J,an.Facade);J.prototype.action=function(){return"alias"};J.prototype.type=J.prototype.action;J.prototype.previousId=function(){return this.field("previousId")||this.field("from")};J.prototype.from=J.prototype.previousId;J.prototype.userId=function(){return this.field("userId")||this.field("to")};J.prototype.to=J.prototype.userId;var ct={},Me={};Object.defineProperty(Me,"__esModule",{value:!0});var fa=/.+\@.+\..+/;function da(t){return fa.test(t)}Me.default=da;var Jt=D&&D.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ct,"__esModule",{value:!0});ct.Group=void 0;var ha=Jt(_e),pa=Jt(Me),va=Jt(Kt),Ne=te;function Qt(t,e){Ne.Facade.call(this,t,e)}ct.Group=Qt;ha.default(Qt,Ne.Facade);var Q=Qt.prototype;Q.action=function(){return"group"};Q.type=Q.action;Q.groupId=Ne.Facade.field("groupId");Q.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return va.default(t)};Q.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();if(pa.default(e))return e};Q.traits=function(t){var e=this.properties(),r=this.groupId();t=t||{},r&&(e.id=r);for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=this[n]==null?this.proxy("traits."+n):this[n]();if(i==null)continue;e[t[n]]=i,delete e[n]}return e};Q.name=Ne.Facade.proxy("traits.name");Q.industry=Ne.Facade.proxy("traits.industry");Q.employees=Ne.Facade.proxy("traits.employees");Q.properties=function(){return this.field("traits")||this.field("properties")||{}};var Be={},lt=D&&D.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Be,"__esModule",{value:!0});Be.Identify=void 0;var re=te,Oe=lt(ot),ga=lt(_e),ma=lt(Me),sn=lt(Kt),ve=function(t){return t.trim()};function Yt(t,e){re.Facade.call(this,t,e)}Be.Identify=Yt;ga.default(Yt,re.Facade);var T=Yt.prototype;T.action=function(){return"identify"};T.type=T.action;T.traits=function(t){var e=this.field("traits")||{},r=this.userId();t=t||{},r&&(e.id=r);for(var n in t){var i=this[n]==null?this.proxy("traits."+n):this[n]();i!=null&&(e[t[n]]=i,n!==t[n]&&delete e[n])}return e};T.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();if(ma.default(e))return e};T.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return sn.default(t)};T.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return sn.default(t)};T.companyName=function(){return this.proxy("traits.company.name")};T.name=function(){var t=this.proxy("traits.name");if(typeof t=="string")return ve(t);var e=this.firstName(),r=this.lastName();if(e&&r)return ve(e+" "+r)};T.firstName=function(){var t=this.proxy("traits.firstName");if(typeof t=="string")return ve(t);var e=this.proxy("traits.name");if(typeof e=="string")return ve(e).split(" ")[0]};T.lastName=function(){var t=this.proxy("traits.lastName");if(typeof t=="string")return ve(t);var e=this.proxy("traits.name");if(typeof e=="string"){var r=ve(e).indexOf(" ");if(r!==-1)return ve(e.substr(r+1))}};T.uid=function(){return this.userId()||this.username()||this.email()};T.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};T.age=function(){var t=this.birthday(),e=Oe.default(this.traits(),"age");if(e!=null)return e;if(t instanceof Date){var r=new Date;return r.getFullYear()-t.getFullYear()}};T.avatar=function(){var t=this.traits();return Oe.default(t,"avatar")||Oe.default(t,"photoUrl")||Oe.default(t,"avatarUrl")};T.position=function(){var t=this.traits();return Oe.default(t,"position")||Oe.default(t,"jobTitle")};T.username=re.Facade.proxy("traits.username");T.website=re.Facade.one("traits.website");T.websites=re.Facade.multi("traits.website");T.phone=re.Facade.one("traits.phone");T.phones=re.Facade.multi("traits.phone");T.address=re.Facade.proxy("traits.address");T.gender=re.Facade.proxy("traits.gender");T.birthday=re.Facade.proxy("traits.birthday");var Le={},Xt=D&&D.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Le,"__esModule",{value:!0});Le.Track=void 0;var ya=Xt(_e),F=te,_a=Be,ba=Xt(Me),un=Xt(ot);function Zt(t,e){F.Facade.call(this,t,e)}Le.Track=Zt;ya.default(Zt,F.Facade);var C=Zt.prototype;C.action=function(){return"track"};C.type=C.action;C.event=F.Facade.field("event");C.value=F.Facade.proxy("properties.value");C.category=F.Facade.proxy("properties.category");C.id=F.Facade.proxy("properties.id");C.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};C.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};C.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};C.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};C.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};C.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};C.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};C.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};C.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};C.sku=F.Facade.proxy("properties.sku");C.tax=F.Facade.proxy("properties.tax");C.name=F.Facade.proxy("properties.name");C.price=F.Facade.proxy("properties.price");C.total=F.Facade.proxy("properties.total");C.repeat=F.Facade.proxy("properties.repeat");C.coupon=F.Facade.proxy("properties.coupon");C.shipping=F.Facade.proxy("properties.shipping");C.discount=F.Facade.proxy("properties.discount");C.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};C.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};C.description=F.Facade.proxy("properties.description");C.plan=F.Facade.proxy("properties.plan");C.subtotal=function(){var t=un.default(this.properties(),"subtotal"),e=this.total()||this.revenue();if(t)return t;if(!e)return 0;if(this.total()){var r=this.tax();r&&(e-=r),r=this.shipping(),r&&(e-=r),r=this.discount(),r&&(e+=r)}return e};C.products=function(){var t=this.properties(),e=un.default(t,"products");return Array.isArray(e)?e.filter(function(r){return r!==null}):[]};C.quantity=function(){var t=this.obj.properties||{};return t.quantity||1};C.currency=function(){var t=this.obj.properties||{};return t.currency||"USD"};C.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};C.query=F.Facade.proxy("options.query");C.properties=function(t){var e=this.field("properties")||{};t=t||{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=this[r]==null?this.proxy("properties."+r):this[r]();if(n==null)continue;e[t[r]]=n,delete e[r]}return e};C.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};C.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();if(ba.default(e))return e};C.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event(),r=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!t&&e&&e.match(r)&&(t=this.proxy("properties.total")),wa(t)};C.cents=function(){var t=this.revenue();return typeof t!="number"?this.value()||0:t*100};C.identify=function(){var t=this.json();return t.traits=this.traits(),new _a.Identify(t,this.opts)};function wa(t){if(t){if(typeof t=="number")return t;if(typeof t=="string"&&(t=t.replace(/\$/g,""),t=parseFloat(t),!isNaN(t)))return t}}var ze={},cn=D&&D.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ze,"__esModule",{value:!0});ze.Page=void 0;var Sa=cn(_e),be=te,Ea=Le,Ia=cn(Me);function er(t,e){be.Facade.call(this,t,e)}ze.Page=er;Sa.default(er,be.Facade);var U=er.prototype;U.action=function(){return"page"};U.type=U.action;U.category=be.Facade.field("category");U.name=be.Facade.field("name");U.title=be.Facade.proxy("properties.title");U.path=be.Facade.proxy("properties.path");U.url=be.Facade.proxy("properties.url");U.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};U.properties=function(t){var e=this.field("properties")||{},r=this.category(),n=this.name();t=t||{},r&&(e.category=r),n&&(e.name=n);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=this[i]==null?this.proxy("properties."+i):this[i]();if(o==null)continue;e[t[i]]=o,i!==t[i]&&delete e[i]}return e};U.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();if(Ia.default(e))return e};U.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e};U.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"};U.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new Ea.Track(e,this.opts)};var ft={},Aa=D&&D.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ft,"__esModule",{value:!0});ft.Screen=void 0;var Pa=Aa(_e),ln=ze,Ca=Le;function me(t,e){ln.Page.call(this,t,e)}ft.Screen=me;Pa.default(me,ln.Page);me.prototype.action=function(){return"screen"};me.prototype.type=me.prototype.action;me.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"};me.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new Ca.Track(e,this.opts)};var dt={},Oa=D&&D.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dt,"__esModule",{value:!0});dt.Delete=void 0;var xa=Oa(_e),fn=te;function tr(t,e){fn.Facade.call(this,t,e)}dt.Delete=tr;xa.default(tr,fn.Facade);tr.prototype.type=function(){return"delete"};(function(t){var e=D&&D.__assign||function(){return e=Object.assign||function(v){for(var m,b=1,y=arguments.length;b<y;b++){m=arguments[b];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(v[w]=m[w])}return v},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var r=te;Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return r.Facade}});var n=ut;Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return n.Alias}});var i=ct;Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return i.Group}});var o=Be;Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return o.Identify}});var a=Le;Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return a.Track}});var s=ze;Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return s.Page}});var f=ft;Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return f.Screen}});var h=dt;Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return h.Delete}}),t.default=e(e({},r.Facade),{Alias:n.Alias,Group:i.Group,Identify:o.Identify,Track:a.Track,Page:s.Page,Screen:f.Screen,Delete:h.Delete})})(ae);function Ze(t,e){var r=new ae.Facade(t,e);return t.type==="track"&&(r=new ae.Track(t,e)),t.type==="identify"&&(r=new ae.Identify(t,e)),t.type==="page"&&(r=new ae.Page(t,e)),t.type==="alias"&&(r=new ae.Alias(t,e)),t.type==="group"&&(r=new ae.Group(t,e)),t.type==="screen"&&(r=new ae.Screen(t,e)),Object.defineProperty(r,"obj",{value:t,writable:!0}),r}function dn(t,e,r){return A(this,void 0,void 0,function(){function n(h,v){return A(this,void 0,void 0,function(){var m,b,y;return P(this,function(w){switch(w.label){case 0:return m=!1,b=null,[4,v({payload:Ze(h,{clone:!0,traverse:!1}),integration:t,next:function(E){m=!0,E===null&&(b=null),E&&(b=E.obj)}})];case 1:return w.sent(),!m&&b!==null&&(b=b,b.integrations=_(_({},h.integrations),(y={},y[t]=!1,y))),[2,b]}})})}var i,o,a,s,f;return P(this,function(h){switch(h.label){case 0:i=Ze(e,{clone:!0,traverse:!1}).rawEvent(),o=0,a=r,h.label=1;case 1:return o<a.length?(s=a[o],[4,n(i,s)]):[3,4];case 2:if(f=h.sent(),f===null)return[2,null];i=f,h.label=3;case 3:return o++,[3,1];case 4:return[2,i]}})})}function Ta(t,e){function r(n){return A(this,void 0,void 0,function(){var i;return P(this,function(o){switch(o.label){case 0:return i=!1,[4,t({payload:Ze(n.event,{clone:!0,traverse:!1}),integrations:e??{},next:function(a){i=!0,a&&(n.event=a.obj)}})];case 1:if(o.sent(),!i)throw new Te({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(n){return Promise.resolve(n)},track:r,page:r,identify:r,alias:r,group:r}}const Da=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:dn,sourceMiddlewarePlugin:Ta},Symbol.toStringTag,{value:"Module"}));function Ge(t,e){var r=e.methodName,n=e.integrationName,i=e.type,o=e.didError,a=o===void 0?!1:o;t.stats.increment("analytics_js.integration.invoke".concat(a?".error":""),1,["method:".concat(r),"integration_name:".concat(n),"type:".concat(i)])}var Ma=function(){function t(e,r){this.version="1.0.0",this.alternativeNames=[],this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=r,this.name=e,this.type=r.type,this.alternativeNames.push(r.name)}return t.prototype.addMiddleware=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.type==="destination"&&(e=this.middleware).push.apply(e,r)},t.prototype.transform=function(e){return A(this,void 0,void 0,function(){var r;return P(this,function(n){switch(n.label){case 0:return[4,dn(this.name,e.event,this.middleware)];case 1:return r=n.sent(),r===null&&e.cancel(new Te({retry:!1,reason:"dropped by destination middleware"})),[2,new ue(r)]}})})},t.prototype._createMethod=function(e){var r=this;return function(n){return A(r,void 0,void 0,function(){var i,o;return P(this,function(a){switch(a.label){case 0:return this.action[e]?(i=n,this.type!=="destination"?[3,2]:[4,this.transform(n)]):[2,n];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),Ge(n,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 3:return a.sent(),[3,5];case 4:throw o=a.sent(),Ge(n,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),o;case 5:return[2,n]}})})}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return this.action.ready?this.action.ready():Promise.resolve()},t.prototype.load=function(e,r){return A(this,void 0,void 0,function(){var n;return P(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),Ge(e,{integrationName:this.action.name,methodName:"load",type:"action"}),[4,this.action.load(e,r)];case 1:return[2,i.sent()];case 2:throw n=i.sent(),Ge(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),n;case 3:return[2]}})})},t.prototype.unload=function(e,r){var n,i;return(i=(n=this.action).unload)===null||i===void 0?void 0:i.call(n,e,r)},t}();function Na(t){if(!Array.isArray(t))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return t.forEach(function(r){e.forEach(function(n){var i;if(r[n]===void 0)throw new Error("Plugin: ".concat((i=r.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(n))})}),!0}function La(t,e){var r=t[e.creationName],n=t[e.name];return t.All===!1&&!r&&!n||r===!1||n===!1}function Fa(t,e){return A(this,void 0,void 0,function(){var r,n,i,o,a;return P(this,function(s){switch(s.label){case 0:if(r=new RegExp("https://cdn.segment.(com|build)"),n=zt(),!e)return[3,6];i=t.url.split("/"),o=i[i.length-2],a=t.url.replace(o,btoa(o).replace(/=/g,"")),s.label=1;case 1:return s.trys.push([1,3,,5]),[4,yt(a.replace(r,n))];case 2:return s.sent(),[3,5];case 3:return s.sent(),[4,yt(t.url.replace(r,n))];case 4:return s.sent(),[3,5];case 5:return[3,8];case 6:return[4,yt(t.url.replace(r,n))];case 7:s.sent(),s.label=8;case 8:return typeof window[t.libraryName]=="function"?[2,window[t.libraryName]]:[2]}})})}function Ra(t,e,r,n,i,o){var a,s,f;return A(this,void 0,void 0,function(){var h,v,m,b=this;return P(this,function(y){switch(y.label){case 0:return h=[],v=(s=(a=t.middlewareSettings)===null||a===void 0?void 0:a.routingRules)!==null&&s!==void 0?s:[],m=((f=t.remotePlugins)!==null&&f!==void 0?f:[]).map(function(w){return A(b,void 0,void 0,function(){var E,S,g,p,c,u;return P(this,function(d){switch(d.label){case 0:if(La(e,w))return[2];d.label=1;case 1:return d.trys.push([1,6,,7]),S=o==null?void 0:o.find(function(l){var O=l.pluginName;return O===w.name}),S?[3,3]:[4,Fa(w,n)];case 2:S=d.sent(),d.label=3;case 3:return E=S,E?[4,E(_(_({},w.settings),r[w.name]))]:[3,5];case 4:g=d.sent(),p=Array.isArray(g)?g:[g],Na(p),c=v.filter(function(l){return l.destinationName===w.creationName}),p.forEach(function(l){var O=new Ma(w.creationName,l);c.length&&i&&l.type==="destination"&&O.addMiddleware(i),h.push(O)}),d.label=5;case 5:return[3,7];case 6:return u=d.sent(),console.warn("Failed to load Remote Plugin",u),[3,7];case 7:return[2]}})})}),[4,Promise.all(m)];case 1:return y.sent(),[2,h.filter(Boolean)]}})})}var ka=function(t){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,t(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;t(e)})},ja=500;function hn(t){var e=encodeURI(JSON.stringify(t)).split(/%..|./).length-1;return e/1024}function Ua(t){return hn(t)>=ja-50}function Va(t){var e=[],r=0;return t.forEach(function(n){var i=hn(e[r]);i>=64&&r++,e[r]?e[r].push(n):e[r]=[n]}),e}function Ba(t,e){var r,n,i=[],o=!1,a=(r=e==null?void 0:e.size)!==null&&r!==void 0?r:10,s=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:5e3;function f(y){var w;if(y.length!==0){var E=(w=y[0])===null||w===void 0?void 0:w.writeKey,S=y.map(function(g){var p=g;p.sentAt;var c=br(p,["sentAt"]);return c});return nt("https://".concat(t,"/b"),{keepalive:o,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify({writeKey:E,batch:S,sentAt:new Date().toISOString()})})}}function h(){return A(this,void 0,void 0,function(){var y;return P(this,function(w){return i.length?(y=i,i=[],[2,f(y)]):[2]})})}var v;function m(){v||(v=setTimeout(function(){v=void 0,h().catch(console.error)},s))}ka(function(y){if(o=y,o&&i.length){var w=Va(i).map(f);Promise.all(w).catch(console.error)}});function b(y,w){return A(this,void 0,void 0,function(){var E;return P(this,function(S){return i.push(w),E=i.length>=a||Ua(i),[2,E||o?h():m()]})})}return{dispatch:b}}function za(t){function e(r,n){return nt(r,{keepalive:t==null?void 0:t.keepalive,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify(n)})}return{dispatch:e}}function $a(t,e,r,n){var i,o=t.user();delete e.options,e.writeKey=r==null?void 0:r.apiKey,e.userId=e.userId||o.id(),e.anonymousId=e.anonymousId||o.anonymousId(),e.sentAt=new Date;var a=t.queue.failedInitializations||[];a.length>0&&(e._metadata={failedInitializations:a});var s=[],f=[];for(var h in n){var v=n[h];h==="Segment.io"&&s.push(h),v.bundlingStatus==="bundled"&&s.push(h),v.bundlingStatus==="unbundled"&&f.push(h)}for(var m=0,b=(r==null?void 0:r.unbundledIntegrations)||[];m<b.length;m++){var y=b[m];f.includes(y)||f.push(y)}var w=(i=r==null?void 0:r.maybeBundledConfigIds)!==null&&i!==void 0?i:{},E=[];return s.sort().forEach(function(S){var g;((g=w[S])!==null&&g!==void 0?g:[]).forEach(function(p){E.push(p)})}),(r==null?void 0:r.addBundledMetadata)!==!1&&(e._metadata=_(_({},e._metadata),{bundled:s.sort(),unbundled:f.sort(),bundledIds:E})),e}var qa=function(t,e){return A(void 0,void 0,void 0,function(){var r;return P(this,function(n){return r=function(i){return A(void 0,void 0,void 0,function(){var o;return P(this,function(a){switch(a.label){case 0:return t(i)?(o=r,[4,e()]):[3,2];case 1:return[2,o.apply(void 0,[a.sent()])];case 2:return[2]}})})},[2,r(void 0)]})})};function Wa(t,e){return A(this,void 0,void 0,function(){var r,n=this;return P(this,function(i){switch(i.label){case 0:return r=[],je()?[2,e]:[4,qa(function(){return e.length>0&&!je()},function(){return A(n,void 0,void 0,function(){var o,a,s;return P(this,function(f){switch(f.label){case 0:return o=e.pop(),o?[4,ke(o,t)]:[2];case 1:return a=f.sent(),s=a instanceof ue,s||r.push(o),[2]}})})})];case 1:return i.sent(),r.map(function(o){return e.pushWithBackoff(o)}),[2,e]}})})}function Ie(t,e,r,n){var i=this;t||setTimeout(function(){return A(i,void 0,void 0,function(){var o,a;return P(this,function(s){switch(s.label){case 0:return o=!0,[4,Wa(r,e)];case 1:return a=s.sent(),o=!1,e.todo>0&&n(o,a,r,n),[2]}})})},Math.random()*5e3)}function Ga(t,e){var r,n,i,o,a=t.user();return e.previousId=(i=(n=(r=e.previousId)!==null&&r!==void 0?r:e.from)!==null&&n!==void 0?n:a.id())!==null&&i!==void 0?i:a.anonymousId(),e.userId=(o=e.userId)!==null&&o!==void 0?o:e.to,delete e.from,delete e.to,e}function Ka(t,e,r){var n,i,o;window.addEventListener("pagehide",function(){s.push.apply(s,Array.from(f)),f.clear()});var a=(n=e==null?void 0:e.apiKey)!==null&&n!==void 0?n:"",s=t.options.disableClientPersistence?new Mt(t.queue.queue.maxAttempts,[]):new Rt(t.queue.queue.maxAttempts,"".concat(a,":dest-Segment.io")),f=new Set,h=!1,v=(i=e==null?void 0:e.apiHost)!==null&&i!==void 0?i:kr,m=(o=e==null?void 0:e.protocol)!==null&&o!==void 0?o:"https",b="".concat(m,"://").concat(v),y=e==null?void 0:e.deliveryStrategy,w=(y==null?void 0:y.strategy)==="batching"?Ba(v,y.config):za(y==null?void 0:y.config);function E(g){return A(this,void 0,void 0,function(){var p,c;return P(this,function(u){return je()?(s.push(g),Ie(h,s,S,Ie),[2,g]):(f.add(g),p=g.event.type.charAt(0),c=Ze(g.event).json(),g.event.type==="track"&&delete c.traits,g.event.type==="alias"&&(c=Ga(t,c)),[2,w.dispatch("".concat(b,"/").concat(p),$a(t,c,e,r)).then(function(){return g}).catch(function(){return s.pushWithBackoff(g),Ie(h,s,S,Ie),g}).finally(function(){f.delete(g)})])})})}var S={name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:E,identify:E,page:E,alias:E,group:E,screen:E};return s.todo&&Ie(h,s,S,Ie),S}function Ae(t){var e,r=t.event;Ci(r),Oi(r),r.type==="track"&&xi(r);var n=(e=r.properties)!==null&&e!==void 0?e:r.traits;if(r.type!=="alias"&&!Z(n))throw new ge(".properties","is not an object");return Pi(r),t}var Ha={name:"Event Validation",type:"before",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:Ae,identify:Ae,page:Ae,alias:Ae,group:Ae,screen:Ae},_t,yr,Ja=Ft(),_r=(_t=(yr=Ja).__SEGMENT_INSPECTOR__)!==null&&_t!==void 0?_t:yr.__SEGMENT_INSPECTOR__={},Qa=function(t){var e;return(e=_r.attach)===null||e===void 0?void 0:e.call(_r,t)};function Ya(t,e){var r=e??zt();return nt("".concat(r,"/v1/projects/").concat(t,"/settings")).then(function(n){return n.ok?n.json():n.text().then(function(i){throw new Error(i)})}).catch(function(n){throw console.error(n.message),n})}function Xa(t){return en().NODE_ENV!=="test"&&Object.keys(t.integrations).length>1}function Za(t){var e,r,n;return en().NODE_ENV!=="test"&&((n=(r=(e=t.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0)>0}function es(t,e){Po(t,e),Ao(t,e)}function ts(t,e){return A(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,Io(t,e)];case 1:return r.sent(),Co(t,e),e.clear(),[2]}})})}function rs(t,e,r,n,i,o,a){var s,f,h;return o===void 0&&(o=[]),A(this,void 0,void 0,function(){var v,m,b,y,w,E,S,g,p,c,u,d,l,O,V,Y=this;return P(this,function(M){switch(M.label){case 0:return v=o==null?void 0:o.filter(function(R){return typeof R=="object"}),m=o==null?void 0:o.filter(function(R){return typeof R=="function"&&typeof R.pluginName=="string"}),Za(e)?[4,H(()=>import("./index-CM_RbW4r.js"),__vite__mapDeps([22,1])).then(function(R){return R.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return y=M.sent(),[3,3];case 2:y=void 0,M.label=3;case 3:return b=y,Xa(e)||a.length>0?[4,H(()=>import("./index-oS7dr9C2.js"),__vite__mapDeps([23,1,24,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(function(R){return R.ajsDestinations(t,e,r.integrations,n,b,a)})]:[3,5];case 4:return E=M.sent(),[3,6];case 5:E=[],M.label=6;case 6:return w=E,e.legacyVideoPluginsEnabled?[4,H(()=>import("./index-DRIoxGJL.js"),__vite__mapDeps([25,4,1])).then(function(R){return R.loadLegacyVideoPlugins(r)})]:[3,8];case 7:M.sent(),M.label=8;case 8:return!((s=n.plan)===null||s===void 0)&&s.track?[4,H(()=>import("./index-DbwmC9-3.js"),__vite__mapDeps([26,1,24])).then(function(R){var ce;return R.schemaFilter((ce=n.plan)===null||ce===void 0?void 0:ce.track,e)})]:[3,10];case 9:return g=M.sent(),[3,11];case 10:g=void 0,M.label=11;case 11:return S=g,p=Fo(e,i),[4,Ra(e,r.integrations,p,i.obfuscate,b,m).catch(function(){return[]})];case 12:return c=M.sent(),u=L(L(L([Ha,Wo],v,!0),w,!0),c,!0),S&&u.push(S),d=((f=n.integrations)===null||f===void 0?void 0:f.All)===!1&&!n.integrations["Segment.io"]||n.integrations&&n.integrations["Segment.io"]===!1,d?[3,14]:(O=(l=u).push,[4,Ka(r,p["Segment.io"],e.integrations)]);case 13:O.apply(l,[M.sent()]),M.label=14;case 14:return[4,r.register.apply(r,u)];case 15:return V=M.sent(),Object.entries((h=e.enabledMiddleware)!==null&&h!==void 0?h:{}).some(function(R){var ce=R[1];return ce})?[4,H(()=>import("./index-C7efw5XP.js"),__vite__mapDeps([27,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(function(R){var ce=R.remoteMiddlewares;return A(Y,void 0,void 0,function(){var rr,nr;return P(this,function(ir){switch(ir.label){case 0:return[4,ce(V,e,i.obfuscate)];case 1:return rr=ir.sent(),nr=rr.map(function(vn){return r.addSourceMiddleware(vn)}),[2,Promise.all(nr)]}})})})]:[3,17];case 16:M.sent(),M.label=17;case 17:return[2,V]}})})}function ns(t,e,r){var n,i,o,a,s,f,h;return e===void 0&&(e={}),A(this,void 0,void 0,function(){var v,m,b,y,w,E,S,g,p,c,u,d;return P(this,function(l){switch(l.label){case 0:return e.disable===!0?[2,[new dr,ue.system()]]:(e.globalAnalyticsKey&&wo(e.globalAnalyticsKey),t.cdnURL&&Lo(t.cdnURL),e.initialPageview&&r.push(new Xe("page",[])),(n=t.cdnSettings)!==null&&n!==void 0?(m=n,[3,3]):[3,1]);case 1:return[4,Ya(t.writeKey,t.cdnURL)];case 2:m=l.sent(),l.label=3;case 3:return v=m,e.updateCDNSettings&&(v=e.updateCDNSettings(v)),typeof e.disable!="function"?[3,5]:[4,e.disable(v)];case 4:if(b=l.sent(),b)return[2,[new dr,ue.system()]];l.label=5;case 5:return y=(o=(i=v.integrations["Segment.io"])===null||i===void 0?void 0:i.retryQueue)!==null&&o!==void 0?o:!0,w=_({retryQueue:y},e),E=new Zr(t,w),Qa(E),S=(a=t.plugins)!==null&&a!==void 0?a:[],g=(s=t.classicIntegrations)!==null&&s!==void 0?s:[],jr.initRemoteMetrics(v.metrics),es(E,r),[4,rs(t.writeKey,v,E,w,e,S,g)];case 6:return p=l.sent(),c=(f=window.location.search)!==null&&f!==void 0?f:"",u=(h=window.location.hash)!==null&&h!==void 0?h:"",d=c.length?c:u.replace(/(?=#).*(?=\?)/,""),d.includes("ajs_")?[4,E.queryString(d).catch(console.error)]:[3,8];case 7:l.sent(),l.label=8;case 8:return E.initialized=!0,E.emit("initialize",t,e),[4,ts(E,r)];case 9:return l.sent(),[2,[E,p]]}})})}var is=function(t){G(e,t);function e(){var r=this,n=Ni(),i=n.promise,o=n.resolve;return r=t.call(this,function(a){return i.then(function(s){var f=s[0],h=s[1];return ns(f,h,a)})})||this,r._resolveLoadStart=function(a,s){return o([a,s])},r}return e.prototype.load=function(r,n){return n===void 0&&(n={}),this._resolveLoadStart(r,n),this},e.load=function(r,n){return n===void 0&&(n={}),new e().load(r,n)},e.standalone=function(r,n){return e.load({writeKey:r},n).then(function(i){return i[0]})},e}(xo);class os{constructor({appName:e,deviceId:r,options:n,settings:i}){we(this,"analytics");we(this,"appName");we(this,"deviceId");we(this,"options");we(this,"settings");this.analytics=new is,this.appName=e,this.deviceId=r,this.options=n,this.settings=i,this.analytics.addSourceMiddleware(as(this))}initialize(){this.analytics.load(this.settings,this.options).catch(e=>{console.error("Failed to load analytics",e)})}page({name:e,routeId:r,isError:n}){this.analytics.page("Identity",e,{route_id:r,is_error:n,search:"redacted",url:"redacted",referrer:"redacted"})}track(e,r){this.analytics.track(e,{...r,openai_app:this.appName})}getExtraContext(){const{openai_client_id:e="",app_name_enum:r=""}=Ar(document.cookie),n=Er("client_id")??"";return{app_name:this.appName,app_version:"675a62255b0cecee742863f420c952bdc0599a8e-without_cdn",device_id:this.deviceId,auth0_client_id:n,openai_client_id:e,app_name_enum:r}}}function as(t){return({payload:e,next:r})=>{e.obj.context={...e.obj.context,...t.getExtraContext()},r(e)}}const Ke=new os({appName:"API",settings:$n,options:qn,deviceId:He}),W={initialize(){Ke.initialize()},logEvent(t,e){Ke.track(t,{...e,origin:"login-web"})},logPageView(t){Ke.page(t)},getClient(){return Ke}};var z=(t=>(t.pageLoad="Page Load",t.useSso="Use Sso",t.useEmail="Use Email",t.usePhone="Use Phone",t.invalidEmail="Invalid Email",t.invalidPhoneNumber="Invalid Phone Number",t.loginLinkClicked="Log in Link Clicked",t.signupLinkClicked="Sign up Link Clicked",t.onboardEmailVerificationCodeInput="Onboarding: Email Verification Code Input",t.onboardPhoneVerificationCodeInput="Onboarding: Phone Verification Code Input",t.onboardUserInfoPage="Onboarding: User Info Page",t.onboardUserInfoComplete="Onboarding: User Info: Complete",t.switchScreenHint="Switch Screen Hint",t.wasDeniedAccountCreation="Was Denied Account Creation",t))(z||{});const ss={logSwitchToSignUp({showedInvalidEmailError:t,formStep:e}){const r={typedInvalidEmail:t?"true":"false",loginWebUI:"new",formStep:e??""};W.logEvent(z.signupLinkClicked,r),K({eventName:"login_web_signup_link_clicked",value:void 0,metadata:r})},logSwitchToLogIn({showedInvalidEmailError:t,formStep:e}){const r={typedInvalidEmail:t?"true":"false",loginWebUI:"new",formStep:e};W.logEvent(z.loginLinkClicked,r),K({eventName:"login_web_login_link_clicked",value:void 0,metadata:r})},logSocialSso({isSignup:t,connection:e}){const r={flow:"authapi",loginWebUI:"new",pageType:t?"Sign Up":"Login",connection:e};W.logEvent(z.useSso,r),K({eventName:t?"login_web_sign_up_use_sso":"login_web_log_in_use_sso",value:e,metadata:r})},logRedirectToAuth0({isSignup:t,isInputPhoneNumber:e}){const r={flow:"authapi",loginWebUI:"new",pageType:t?"Sign Up":"Login"};W.logEvent(e?z.usePhone:z.useEmail,r),K(e?{eventName:t?"login_web_sign_up_use_phone_number":"login_web_log_in_use_phone_number",metadata:r}:{eventName:t?"login_web_sign_up_use_email":"login_web_log_in_use_email",metadata:r})},logInvalidInput({isSignup:t,isInputPhoneNumber:e}){const r={flow:"authapi",loginWebUI:"new",pageType:t?"Sign Up":"Login"};W.logEvent(e?z.invalidPhoneNumber:z.invalidEmail,r),K({eventName:e?t?"login_web_sign_up_invalid_phone_number":"login_web_log_in_invalid_phone_number":t?"login_web_sign_up_invalid_email":"login_web_log_in_invalid_email",metadata:r})},logContactVerificationCodeInput(t){const e={flow:"authapi",loginWebUI:"new"};t===or.enum.email?(W.logEvent(z.onboardEmailVerificationCodeInput,e),K({eventName:"Onboarding: Email Verification Code Input",metadata:e})):t===or.enum.phone_number&&(W.logEvent(z.onboardPhoneVerificationCodeInput,e),K({eventName:"Onboarding: Phone Verification Code Input",metadata:e}))},logOnboardUserInfoPage(){const t={flow:"authapi",loginWebUI:"new"};W.logEvent(z.onboardUserInfoPage,t),K({eventName:"Onboarding: User Info Page",metadata:t})},logOnboardUserInfoComplete(){const t={flow:"authapi",loginWebUI:"new"};W.logEvent(z.onboardUserInfoComplete,t),K({eventName:"Onboarding: User Info: Complete",metadata:t})},logPageView({name:t,routeId:e,isError:r}){W.logPageView({name:t,routeId:e,isError:r}),K({eventName:`Login Web: Page View: ${t}`,metadata:{routeId:e,isError:`${r}`}}),xe.addPageView({name:t,routeId:e,isError:r})},logFallbackErrorPage({message:t,routeId:e}){xe.addAction("login_web_fallback_error_page",{message:t,routeId:e})},logWasDeniedAccountCreation({email:t,phoneNumber:e,pageShown:r}){W.logEvent(z.wasDeniedAccountCreation,{email:t,phoneNumber:e,pageShown:r})}},us=({children:t})=>fe.jsx(Wn.Provider,{value:ss,children:t});W.initialize();xe.initialize();const pn=async()=>{const{openai_client_id:t="",app_name_enum:e="",auth_session_logging_id:r=""}=Ar(document.cookie),n=Er("client_id")??"";xe.setContext({clientId:t,appNameEnum:e,auth0ClientId:n,sessionLoggingId:r}),await bi({clientId:t,appNameEnum:e,auth0ClientId:n,sessionLoggingId:r}),Gn().catch(i=>{console.error("Error loading Sentinel SDK:",i)}),$.startTransition(()=>{Mr(document,fe.jsx(_n.StrictMode,{children:fe.jsx(Fn.StatsigProvider,{client:Pe(),children:fe.jsx(us,{children:fe.jsx(Rn,{appNameEnum:e,children:fe.jsx(zn,{children:fe.jsx(Ii,{})})})})})}),{onRecoverableError:Kn})})},cs=async(t,e)=>{try{const n=await(await fetch("https://auth.openai.com/oauth/token?unified=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"authorization_code",code:t,code_verifier:e,client_id:"app_SBTqkVRTT4SPcgu4Zb7BiL5e",redirect_uri:"https://auth.openai.com/auth/callback"})})).json();return console.log("Access Token:",n.access_token),localStorage.setItem("access_token",n.access_token),localStorage.setItem("refresh_token",n.refresh_token),n}catch(r){console.error("Error fetching access token:",r)}},ls=async()=>{const e=new URLSearchParams(window.location.search).get("code");if(!e)throw new Error("Code parameter not found in URL.");const r=sessionStorage.getItem("pkce_code_verifier");if(!r)throw console.error("Code verifier not found in session storage."),new Error("Code verifier not found in session storage.");await cs(e,r),window.history.replaceState(null,"","/login_demo"),pn()};window.location.pathname==="/auth/callback"?ls():pn();export{Te as C,Mt as P,Ro as a,Z as b,je as c,dn as d,ae as e,qa as f,Ns as g,Rt as h,Ms as i,ke as j,Hi as k,yt as l,Fo as m,ue as n,Ti as p,Ge as r,Ls as u};
