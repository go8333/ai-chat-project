var au=Object.defineProperty;var iu=(t,e,r)=>e in t?au(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var dn=(t,e,r)=>iu(t,typeof e!="symbol"?e+"":e,r);import{c as X,r as m,j as is}from"./tslib.es6-BJp0-jPt.js";var Zn={},le={},Xt={},me={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Log=t.LogLevel=void 0;const e=" DEBUG ",r="  INFO ",n="  WARN ",a=" ERROR ";function i(s){return s.unshift("[Statsig]"),s}t.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class o{static info(...l){o.level>=t.LogLevel.Info&&console.info(r,...i(l))}static debug(...l){o.level>=t.LogLevel.Debug&&console.debug(e,...i(l))}static warn(...l){o.level>=t.LogLevel.Warn&&console.warn(n,...i(l))}static error(...l){o.level>=t.LogLevel.Error&&console.error(a,...i(l))}}t.Log=o,o.level=t.LogLevel.Warn})(me);(function(t){var e,r,n;Object.defineProperty(t,"__esModule",{value:!0}),t._getInstance=t._getStatsigGlobalFlag=t._getStatsigGlobal=void 0;const a=me,i=()=>{try{return typeof __STATSIG__<"u"?__STATSIG__:f}catch{return f}};t._getStatsigGlobal=i;const o=h=>(0,t._getStatsigGlobal)()[h];t._getStatsigGlobalFlag=o;const s=h=>{const p=(0,t._getStatsigGlobal)();return h?p.instances&&p.instances[h]:(p.instances&&Object.keys(p.instances).length>1&&a.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),p.firstInstance)};t._getInstance=s;const l="__STATSIG__",u=typeof window<"u"?window:{},c=typeof X<"u"?X:{},d=typeof globalThis<"u"?globalThis:{},f=(n=(r=(e=u[l])!==null&&e!==void 0?e:c[l])!==null&&r!==void 0?r:d[l])!==null&&n!==void 0?n:{instance:t._getInstance};u[l]=f,c[l]=f,d[l]=f})(Xt);var Tn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0;const e=new Map,r="start",n="end",a="statsig::diagnostics";t.Diagnostics={_getMarkers:u=>e.get(u),_markInitOverallStart:u=>{s(u,i({},r,"overall"))},_markInitOverallEnd:(u,c,d)=>{s(u,i({success:c,error:c?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:d},n,"overall"))},_markInitNetworkReqStart:(u,c)=>{s(u,i(c,r,"initialize","network_request"))},_markInitNetworkReqEnd:(u,c)=>{s(u,i(c,n,"initialize","network_request"))},_markInitProcessStart:u=>{s(u,i({},r,"initialize","process"))},_markInitProcessEnd:(u,c)=>{s(u,i(c,n,"initialize","process"))},_clearMarkers:u=>{e.delete(u)},_formatError(u){if(u&&typeof u=="object")return{code:l(u,"code"),name:l(u,"name"),message:l(u,"message")}},_getDiagnosticsData(u,c,d,f){var h;return{success:(u==null?void 0:u.ok)===!0,statusCode:u==null?void 0:u.status,sdkRegion:(h=u==null?void 0:u.headers)===null||h===void 0?void 0:h.get("x-statsig-region"),isDelta:d.includes('"is_delta":true')===!0?!0:void 0,attempt:c,error:t.Diagnostics._formatError(f)}},_enqueueDiagnosticsEvent(u,c,d,f){const h=t.Diagnostics._getMarkers(d);if(h==null||h.length<=0)return-1;const p=h[h.length-1].timestamp-h[0].timestamp;t.Diagnostics._clearMarkers(d);const w=o(u,{context:"initialize",markers:h.slice(),statsigOptions:f});return c.enqueue(w),p}};function i(u,c,d,f){return Object.assign({key:d,action:c,step:f,timestamp:Date.now()},u)}function o(u,c){return{eventName:a,user:u,value:null,metadata:c,time:Date.now()}}function s(u,c){var d;const f=(d=e.get(u))!==null&&d!==void 0?d:[];f.push(c),e.set(u,f)}function l(u,c){if(c in u)return u[c]}})(Tn);var Kr={},Qe={},jt={},ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut._isTypeMatch=ut._typeOf=void 0;function ou(t){return Array.isArray(t)?"array":typeof t}ut._typeOf=ou;function su(t,e){const r=n=>Array.isArray(n)?"array":typeof n;return r(t)===r(e)}ut._isTypeMatch=su;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._getSortedObject=t._DJB2Object=t._DJB2=void 0;const e=ut,r=i=>{let o=0;for(let s=0;s<i.length;s++){const l=i.charCodeAt(s);o=(o<<5)-o+l,o=o&o}return String(o>>>0)};t._DJB2=r;const n=(i,o)=>(0,t._DJB2)(JSON.stringify((0,t._getSortedObject)(i,o)));t._DJB2Object=n;const a=(i,o)=>{if(i==null)return null;const s=Object.keys(i).sort(),l={};return s.forEach(u=>{const c=i[u];if(o===0||(0,e._typeOf)(c)!=="object"){l[u]=c;return}l[u]=(0,t._getSortedObject)(c,o!=null?o-1:o)}),l};t._getSortedObject=a})(jt);Object.defineProperty(Qe,"__esModule",{value:!0});Qe._getStorageKey=Qe._getUserStorageKey=void 0;const os=jt;function ss(t,e,r){var n;if(r)return r(t,e);const a=e&&e.customIDs?e.customIDs:{},i=[`uid:${(n=e==null?void 0:e.userID)!==null&&n!==void 0?n:""}`,`cids:${Object.keys(a).sort((o,s)=>o.localeCompare(s)).map(o=>`${o}-${a[o]}`).join(",")}`,`k:${t}`];return(0,os._DJB2)(i.join("|"))}Qe._getUserStorageKey=ss;function lu(t,e,r){return e?ss(t,e,r):(0,os._DJB2)(`k:${t}`)}Qe._getStorageKey=lu;var Zr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkParam=t.NetworkDefault=t.Endpoint=void 0,t.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},t.NetworkDefault={[t.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[t.Endpoint._initialize]:"https://featureassets.org/v1",[t.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},t.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}})(Zr);var vt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._getUnloadEvent=t._getCurrentPageUrlSafe=t._addDocumentEventListenerSafe=t._addWindowEventListenerSafe=t._isServerEnv=t._getDocumentSafe=t._getWindowSafe=void 0;const e=()=>typeof window<"u"?window:null;t._getWindowSafe=e;const r=()=>{var l;const u=(0,t._getWindowSafe)();return(l=u==null?void 0:u.document)!==null&&l!==void 0?l:null};t._getDocumentSafe=r;const n=()=>{if((0,t._getDocumentSafe)()!==null)return!1;const l=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;return typeof EdgeRuntime=="string"||l};t._isServerEnv=n;const a=(l,u)=>{const c=(0,t._getWindowSafe)();typeof(c==null?void 0:c.addEventListener)=="function"&&c.addEventListener(l,u)};t._addWindowEventListenerSafe=a;const i=(l,u)=>{const c=(0,t._getDocumentSafe)();typeof(c==null?void 0:c.addEventListener)=="function"&&c.addEventListener(l,u)};t._addDocumentEventListenerSafe=i;const o=()=>{var l;try{return(l=(0,t._getWindowSafe)())===null||l===void 0?void 0:l.location.href.split(/[?#]/)[0]}catch{return}};t._getCurrentPageUrlSafe=o;const s=()=>{const l=(0,t._getWindowSafe)();return l&&"onpagehide"in l?"pagehide":"beforeunload"};t._getUnloadEvent=s})(vt);var ke={};Object.defineProperty(ke,"__esModule",{value:!0});ke._createLayerParameterExposure=ke._createConfigExposure=ke._mapExposures=ke._createGateExposure=ke._isExposureEvent=void 0;const ls="statsig::config_exposure",us="statsig::gate_exposure",cs="statsig::layer_exposure",ai=(t,e,r,n,a)=>(r.bootstrapMetadata&&(n.bootstrapMetadata=r.bootstrapMetadata),{eventName:t,user:e,value:null,metadata:hu(r,n),secondaryExposures:a,time:Date.now()}),uu=({eventName:t})=>t===us||t===ls||t===cs;ke._isExposureEvent=uu;const cu=(t,e,r)=>{var n,a,i;const o={gate:e.name,gateValue:String(e.value),ruleID:e.ruleID};return((n=e.__evaluation)===null||n===void 0?void 0:n.version)!=null&&(o.configVersion=e.__evaluation.version),ai(us,t,e.details,o,Hn((i=(a=e.__evaluation)===null||a===void 0?void 0:a.secondary_exposures)!==null&&i!==void 0?i:[],r))};ke._createGateExposure=cu;function Hn(t,e){return t.map(r=>typeof r=="string"?(e??{})[r]:r).filter(r=>r!=null)}ke._mapExposures=Hn;const du=(t,e,r)=>{var n,a,i,o;const s={config:e.name,ruleID:e.ruleID};return((n=e.__evaluation)===null||n===void 0?void 0:n.version)!=null&&(s.configVersion=e.__evaluation.version),((a=e.__evaluation)===null||a===void 0?void 0:a.passed)!=null&&(s.rulePassed=String(e.__evaluation.passed)),ai(ls,t,e.details,s,Hn((o=(i=e.__evaluation)===null||i===void 0?void 0:i.secondary_exposures)!==null&&o!==void 0?o:[],r))};ke._createConfigExposure=du;const fu=(t,e,r,n)=>{var a,i,o,s,l,u;const c=e.__evaluation,d=((a=c==null?void 0:c.explicit_parameters)===null||a===void 0?void 0:a.includes(r))===!0;let f="",h=(i=c==null?void 0:c.undelegated_secondary_exposures)!==null&&i!==void 0?i:[];d&&(f=(o=c.allocated_experiment_name)!==null&&o!==void 0?o:"",h=c.secondary_exposures);const p=(s=e.__evaluation)===null||s===void 0?void 0:s.parameter_rule_ids,w={config:e.name,parameterName:r,ruleID:(l=p==null?void 0:p[r])!==null&&l!==void 0?l:e.ruleID,allocatedExperiment:f,isExplicitParameter:String(d)};return((u=e.__evaluation)===null||u===void 0?void 0:u.version)!=null&&(w.configVersion=e.__evaluation.version),ai(cs,t,e.details,w,Hn(h,n))};ke._createLayerParameterExposure=fu;const hu=(t,e)=>(e.reason=t.reason,t.lcut&&(e.lcut=String(t.lcut)),t.receivedAt&&(e.receivedAt=String(t.receivedAt)),e);var et={};Object.defineProperty(et,"__esModule",{value:!0});et.LoggingEnabledOption=et.LogEventCompressionMode=void 0;et.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"};et.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"};var tt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._setObjectInStorage=t._getObjectFromStorage=t.Storage=void 0;const e=me,r=vt,n={},a={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:d=>n[d]?n[d]:null,setItem:(d,f)=>{n[d]=f},removeItem:d=>{delete n[d]},getAllKeys:()=>Object.keys(n)};let i=null;try{const d=(0,r._getWindowSafe)();d&&d.localStorage&&typeof d.localStorage.getItem=="function"&&(i={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:f=>d.localStorage.getItem(f),setItem:(f,h)=>d.localStorage.setItem(f,h),removeItem:f=>d.localStorage.removeItem(f),getAllKeys:()=>Object.keys(d.localStorage)})}catch{e.Log.warn("Failed to setup localStorageProvider.")}let o=i??a,s=o;function l(d){try{return d()}catch(f){if(f instanceof Error&&f.name==="SecurityError")return t.Storage._setProvider(a),null;if(f instanceof Error&&f.name==="QuotaExceededError"){const p=t.Storage.getAllKeys().filter(w=>w.startsWith("statsig."));f.message=`${f.message}. Statsig Keys: ${p.length}`}throw f}}t.Storage={isReady:()=>s.isReady(),isReadyResolver:()=>s.isReadyResolver(),getProviderName:()=>s.getProviderName(),getItem:d=>l(()=>s.getItem(d)),setItem:(d,f)=>l(()=>s.setItem(d,f)),removeItem:d=>s.removeItem(d),getAllKeys:()=>s.getAllKeys(),_setProvider:d=>{o=d,s=d},_setDisabled:d=>{d?s=a:s=o}};function u(d){const f=t.Storage.getItem(d);return JSON.parse(f??"null")}t._getObjectFromStorage=u;function c(d,f){t.Storage.setItem(d,JSON.stringify(f))}t._setObjectInStorage=c})(tt);var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.UrlConfiguration=void 0;const mu=jt,wn=Zr,gu={[wn.Endpoint._initialize]:"i",[wn.Endpoint._rgstr]:"e",[wn.Endpoint._download_config_specs]:"d"};class vu{constructor(e,r,n,a){this.customUrl=null,this.fallbackUrls=null,this.endpoint=e,this.endpointDnsKey=gu[e],r&&(this.customUrl=r),!r&&n&&(this.customUrl=n.endsWith("/")?`${n}${e}`:`${n}/${e}`),a&&(this.fallbackUrls=a);const i=wn.NetworkDefault[e];this.defaultUrl=`${i}/${e}`}getUrl(){var e;return(e=this.customUrl)!==null&&e!==void 0?e:this.defaultUrl}getChecksum(){var e;const r=((e=this.fallbackUrls)!==null&&e!==void 0?e:[]).sort().join(",");return(0,mu._DJB2)(this.customUrl+r)}}Hr.UrlConfiguration=vu;var Gn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._notifyVisibilityChanged=t._subscribeToVisiblityChanged=t._isUnloading=t._isCurrentlyVisible=void 0;const e=vt,r="foreground",n="background",a=[];let i=r,o=!1;const s=()=>i===r;t._isCurrentlyVisible=s;const l=()=>o;t._isUnloading=l;const u=d=>{a.unshift(d)};t._subscribeToVisiblityChanged=u;const c=d=>{d!==i&&(i=d,a.forEach(f=>f(d)))};t._notifyVisibilityChanged=c,(0,e._addWindowEventListenerSafe)("focus",()=>{o=!1,(0,t._notifyVisibilityChanged)(r)}),(0,e._addWindowEventListenerSafe)("blur",()=>(0,t._notifyVisibilityChanged)(n)),(0,e._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,t._notifyVisibilityChanged)(document.visibilityState==="visible"?r:n)}),(0,e._addWindowEventListenerSafe)((0,e._getUnloadEvent)(),()=>{o=!0,(0,t._notifyVisibilityChanged)(n)})})(Gn);var zt=X&&X.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.EventLogger=void 0;const pu=Qe,_u=jt,Vt=me,Wi=Zr,ba=vt,yu=ke,Ji=et,Kt=tt,bu=Hr,qi=Gn,wu=100,Su=1e4,Eu=1e3,Cu=6e5,ku=500,Yi=200,vr={},fn={Startup:"startup",GainedFocus:"gained_focus"};class Rt{static _safeFlushAndForget(e){var r;(r=vr[e])===null||r===void 0||r.flush().catch(()=>{})}static _safeRetryFailedLogs(e){var r;(r=vr[e])===null||r===void 0||r._retryFailedLogs(fn.GainedFocus)}constructor(e,r,n,a){var i,o;this._sdkKey=e,this._emitter=r,this._network=n,this._options=a,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=(i=a==null?void 0:a.loggingEnabled)!==null&&i!==void 0?i:(a==null?void 0:a.disableLogging)===!0?Ji.LoggingEnabledOption.disabled:Ji.LoggingEnabledOption.browserOnly,a!=null&&a.loggingEnabled&&a.disableLogging!==void 0&&Vt.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=(o=a==null?void 0:a.loggingBufferMaxSize)!==null&&o!==void 0?o:wu;const s=a==null?void 0:a.networkConfig;this._logEventUrlConfig=new bu.UrlConfiguration(Wi.Endpoint._rgstr,s==null?void 0:s.logEventUrl,s==null?void 0:s.api,s==null?void 0:s.logEventFallbackUrls)}setLogEventCompressionMode(e){this._network.setLogEventCompressionMode(e)}setLoggingEnabled(e){this._loggingEnabled=e}enqueue(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&Rt._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(e){var r;const n=(r=this._nonExposedChecks[e])!==null&&r!==void 0?r:0;this._nonExposedChecks[e]=n+1}reset(){this._lastExposureTimeMap={}}start(){var e;const r=(0,ba._isServerEnv)();r&&((e=this._options)===null||e===void 0?void 0:e.loggingEnabled)!=="always"||(vr[this._sdkKey]=this,r||(0,qi._subscribeToVisiblityChanged)(n=>{n==="background"?Rt._safeFlushAndForget(this._sdkKey):n==="foreground"&&Rt._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(fn.Startup),this._startBackgroundFlushInterval())}stop(){return zt(this,void 0,void 0,function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete vr[this._sdkKey],yield this.flush()})}flush(){return zt(this,void 0,void 0,function*(){if(this._appendAndResetNonExposedChecks(),this._queue.length===0)return;const e=this._queue;this._queue=[],yield this._sendEvents(e)})}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,!(Date.now()-this._creationTime>Yi)&&setTimeout(()=>Rt._safeFlushAndForget(this._sdkKey),Yi))}_shouldLogEvent(e){var r;if(((r=this._options)===null||r===void 0?void 0:r.loggingEnabled)!=="always"&&(0,ba._isServerEnv)())return!1;if(!(0,yu._isExposureEvent)(e))return!0;const n=e.user?e.user:{statsigEnvironment:void 0},a=(0,pu._getUserStorageKey)(this._sdkKey,n),i=e.metadata?e.metadata:{},o=[e.eventName,a,i.gate,i.config,i.ruleID,i.allocatedExperiment,i.parameterName,String(i.isExplicitParameter),i.reason].join("|"),s=this._lastExposureTimeMap[o],l=Date.now();return s&&l-s<Cu?!1:(Object.keys(this._lastExposureTimeMap).length>Eu&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[o]=l,!0)}_sendEvents(e){var r,n;return zt(this,void 0,void 0,function*(){if(this._loggingEnabled==="disabled")return this._saveFailedLogsToStorage(e),!1;try{const i=(0,qi._isUnloading)()&&this._network.isBeaconSupported()&&((n=(r=this._options)===null||r===void 0?void 0:r.networkConfig)===null||n===void 0?void 0:n.networkOverrideFunc)==null;return this._emitter({name:"pre_logs_flushed",events:e}),(i?yield this._sendEventsViaBeacon(e):yield this._sendEventsViaPost(e)).success?(this._emitter({name:"logs_flushed",events:e}),!0):(Vt.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(e),!1)}catch{return Vt.Log.warn("Failed to flush events."),!1}})}_sendEventsViaPost(e){var r;return zt(this,void 0,void 0,function*(){const n=yield this._network.post(this._getRequestData(e)),a=(r=n==null?void 0:n.code)!==null&&r!==void 0?r:-1;return{success:a>=200&&a<300}})}_sendEventsViaBeacon(e){return zt(this,void 0,void 0,function*(){return{success:yield this._network.beacon(this._getRequestData(e))}})}_getRequestData(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[Wi.NetworkParam.EventCount]:String(e.length)},credentials:"same-origin"}}_saveFailedLogsToStorage(e){for(;e.length>ku;)e.shift();const r=this._getStorageKey();try{(0,Kt._setObjectInStorage)(r,e)}catch{Vt.Log.warn("Unable to save failed logs to storage")}}_retryFailedLogs(e){const r=this._getStorageKey();zt(this,void 0,void 0,function*(){Kt.Storage.isReady()||(yield Kt.Storage.isReadyResolver());const n=(0,Kt._getObjectFromStorage)(r);if(!n)return;e===fn.Startup&&Kt.Storage.removeItem(r),(yield this._sendEvents(n))&&e===fn.GainedFocus&&Kt.Storage.removeItem(r)}).catch(()=>{Vt.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return`statsig.failed_logs.${(0,_u._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);const r={},n=this._getCurrentPageUrl();n&&(r.statsigMetadata={currentPage:n});const a=Object.assign(Object.assign({},e),r);Vt.Log.debug("Enqueued Event:",a),this._queue.push(a)}_appendAndResetNonExposedChecks(){Object.keys(this._nonExposedChecks).length!==0&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var e;if(((e=this._options)===null||e===void 0?void 0:e.includeCurrentPageUrlWithEvents)!==!1)return(0,ba._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var e,r;const n=(r=(e=this._options)===null||e===void 0?void 0:e.loggingIntervalMs)!==null&&r!==void 0?r:Su,a=setInterval(()=>{const i=vr[this._sdkKey];!i||i._flushIntervalId!==a?clearInterval(a):Rt._safeFlushAndForget(this._sdkKey)},n);this._flushIntervalId=a}}Kr.EventLogger=Rt;var Rr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigMetadataProvider=t.SDK_VERSION=void 0,t.SDK_VERSION="3.16.1";let e={sdkVersion:t.SDK_VERSION,sdkType:"js-mono"};t.StatsigMetadataProvider={get:()=>e,add:r=>{e=Object.assign(Object.assign({},e),r)}}})(Rr);var ds={};Object.defineProperty(ds,"__esModule",{value:!0});var Qt={},Ut={},ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.getUUID=void 0;function xu(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let t=new Date().getTime(),e=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return`xxxxxxxx-xxxx-4xxx-${"89ab"[Math.floor(Math.random()*4)]}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,n=>{let a=Math.random()*16;return t>0?(a=(t+a)%16|0,t=Math.floor(t/16)):(a=(e+a)%16|0,e=Math.floor(e/16)),(n==="x"?a:a&7|8).toString(16)})}ir.getUUID=xu;Object.defineProperty(Ut,"__esModule",{value:!0});Ut.StableID=void 0;const fs=Qe,Ru=me,Du=vt,hs=tt,Ou=ir,pr={},ii={},Xi={};Ut.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:t=>{if(Xi[t])return null;if(pr[t]!=null)return pr[t];let e=null;return e=Tu(t),e!=null?(pr[t]=e,wa(e,t),e):(e=Iu(t),e==null&&(e=(0,Ou.getUUID)()),wa(e,t),Qi(e,t),pr[t]=e,e)},setOverride:(t,e)=>{pr[e]=t,wa(t,e),Qi(t,e)},_setCookiesEnabled:(t,e)=>{ii[t]=e},_setDisabled:(t,e)=>{Xi[t]=e}};function ms(t){return`statsig.stable_id.${(0,fs._getStorageKey)(t)}`}function wa(t,e){const r=ms(e);try{(0,hs._setObjectInStorage)(r,t)}catch{Ru.Log.warn("Failed to save StableID to storage")}}function Iu(t){const e=ms(t);return(0,hs._getObjectFromStorage)(e)}function Tu(t){if(!ii[t]||(0,Du._getDocumentSafe)()==null)return null;const e=document.cookie.split(";");for(const r of e){const[n,a]=r.trim().split("=");if(n===gs(t))return decodeURIComponent(a)}return null}function Qi(t,e){if(!ii[e]||!document)return;const r=new Date;r.setFullYear(r.getFullYear()+1),document.cookie=`${gs(e)}=${encodeURIComponent(t)}; expires=${r.toUTCString()}; path=/`}function gs(t){return`statsig.stable_id.${(0,fs._getStorageKey)(t)}`}var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt._getFullUserHash=Lt._normalizeUser=void 0;const Lu=jt,Pu=me;function Mu(t,e,r){try{const n=JSON.parse(JSON.stringify(t));return e!=null&&e.environment!=null?n.statsigEnvironment=e.environment:r!=null&&(n.statsigEnvironment={tier:r}),n}catch{return Pu.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}}Lt._normalizeUser=Mu;function Au(t){return t?(0,Lu._DJB2Object)(t):null}Lt._getFullUserHash=Au;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr._typedJsonParse=void 0;const Nu=me;function ju(t,e,r){try{const n=JSON.parse(t);if(n&&typeof n=="object"&&e in n)return n}catch{}return Nu.Log.error(`Failed to parse ${r}`),null}Gr._typedJsonParse=ju;var Sa=X&&X.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(Qt,"__esModule",{value:!0});Qt._makeDataAdapterResult=Qt.DataAdapterCore=void 0;const Sn=me,Uu=Ut,En=Lt,ot=tt,eo=Gr,vs=10;class $u{constructor(e,r){this._adapterName=e,this._cacheSuffix=r,this._options=null,this._sdkKey=null,this._lastModifiedStoreKey=`statsig.last_modified_time.${r}`,this._inMemoryCache=new Fu}attach(e,r,n){this._sdkKey=e,this._options=r}getDataSync(e){const r=e&&(0,En._normalizeUser)(e,this._options),n=this._getCacheKey(r),a=this._inMemoryCache.get(n,r);if(a)return a;const i=this._loadFromCache(n);return i?(this._inMemoryCache.add(n,i),this._inMemoryCache.get(n,r)):null}setData(e,r){const n=r&&(0,En._normalizeUser)(r,this._options),a=this._getCacheKey(n);this._inMemoryCache.add(a,Cn("Bootstrap",e,null,n))}_getDataAsyncImpl(e,r,n){return Sa(this,void 0,void 0,function*(){ot.Storage.isReady()||(yield ot.Storage.isReadyResolver());const a=e??this.getDataSync(r),i=[this._fetchAndPrepFromNetwork(a,r,n)];return n!=null&&n.timeoutMs&&i.push(new Promise(o=>setTimeout(o,n.timeoutMs)).then(()=>(Sn.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(i)})}_prefetchDataImpl(e,r){return Sa(this,void 0,void 0,function*(){const n=e&&(0,En._normalizeUser)(e,this._options),a=this._getCacheKey(n),i=yield this._getDataAsyncImpl(null,n,r);i&&this._inMemoryCache.add(a,Object.assign(Object.assign({},i),{source:"Prefetch"}))})}_fetchAndPrepFromNetwork(e,r,n){var a;return Sa(this,void 0,void 0,function*(){const i=(a=e==null?void 0:e.data)!==null&&a!==void 0?a:null,o=e!=null&&this._isCachedResultValidFor204(e,r),s=yield this._fetchFromNetwork(i,r,n,o);if(!s)return Sn.Log.debug("No response returned for latest value"),null;const l=(0,eo._typedJsonParse)(s,"has_updates","Response"),u=this._getSdkKey(),c=Uu.StableID.get(u);let d=null;if((l==null?void 0:l.has_updates)===!0)d=Cn("Network",s,c,r);else if(i&&(l==null?void 0:l.has_updates)===!1)d=Cn("NetworkNotModified",i,c,r);else return null;const f=this._getCacheKey(r);return this._inMemoryCache.add(f,d),this._writeToCache(f,d),d})}_getSdkKey(){return this._sdkKey!=null?this._sdkKey:(Sn.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(e){var r;const n=(r=ot.Storage.getItem)===null||r===void 0?void 0:r.call(ot.Storage,e);if(n==null)return null;const a=(0,eo._typedJsonParse)(n,"source","Cached Result");return a?Object.assign(Object.assign({},a),{source:"Cache"}):null}_writeToCache(e,r){ot.Storage.setItem(e,JSON.stringify(r)),this._runLocalStorageCacheEviction(e)}_runLocalStorageCacheEviction(e){var r;const n=(r=(0,ot._getObjectFromStorage)(this._lastModifiedStoreKey))!==null&&r!==void 0?r:{};n[e]=Date.now();const a=ps(n,vs);a&&(delete n[a],ot.Storage.removeItem(a)),(0,ot._setObjectInStorage)(this._lastModifiedStoreKey,n)}}Qt.DataAdapterCore=$u;function Cn(t,e,r,n){return{source:t,data:e,receivedAt:Date.now(),stableID:r,fullUserHash:(0,En._getFullUserHash)(n)}}Qt._makeDataAdapterResult=Cn;class Fu{constructor(){this._data={}}get(e,r){var n;const a=this._data[e],i=a==null?void 0:a.stableID,o=(n=r==null?void 0:r.customIDs)===null||n===void 0?void 0:n.stableID;return o&&i&&o!==i?(Sn.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):a}add(e,r){const n=ps(this._data,vs-1);n&&delete this._data[n],this._data[e]=r}merge(e){this._data=Object.assign(Object.assign({},this._data),e)}}function ps(t,e){const r=Object.keys(t);return r.length<=e?null:r.reduce((n,a)=>{const i=t[n],o=t[a];return typeof i=="object"&&typeof o=="object"?o.receivedAt<i.receivedAt?a:n:o<i?a:n})}var _s={};Object.defineProperty(_s,"__esModule",{value:!0});var oi={},or={};Object.defineProperty(or,"__esModule",{value:!0});or.SDKType=void 0;const to={};let Zt;or.SDKType={_get:t=>{var e;return((e=to[t])!==null&&e!==void 0?e:"js-mono")+(Zt??"")},_setClientType(t,e){to[t]=e},_setBindingType(t){(!Zt||Zt==="-react")&&(Zt="-"+t)}};(function(t){var e=X&&X.__awaiter||function(d,f,h,p){function w(S){return S instanceof h?S:new h(function(E){E(S)})}return new(h||(h=Promise))(function(S,E){function y(C){try{k(p.next(C))}catch(v){E(v)}}function x(C){try{k(p.throw(C))}catch(v){E(v)}}function k(C){C.done?S(C.value):w(C.value).then(y,x)}k((p=p.apply(d,f||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=t.EXCEPTION_ENDPOINT=void 0;const r=me,n=or,a=Rr;t.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";const i="[Statsig] UnknownError";class o{constructor(f,h,p,w){this._sdkKey=f,this._options=h,this._emitter=p,this._lastSeenError=w,this._seen=new Set}wrap(f){try{const h=f;u(h).forEach(p=>{const w=h[p];"$EB"in w||(h[p]=(...S)=>this._capture(p,()=>w.apply(f,S)),h[p].$EB=!0)})}catch(h){this._onError("eb:wrap",h)}}logError(f,h){this._onError(f,h)}getLastSeenErrorAndReset(){const f=this._lastSeenError;return this._lastSeenError=void 0,f??null}attachErrorIfNoneExists(f){this._lastSeenError||(this._lastSeenError=s(f))}_capture(f,h){try{const p=h();return p&&p instanceof Promise?p.catch(w=>this._onError(f,w)):p}catch(p){return this._onError(f,p),null}}_onError(f,h){try{r.Log.warn(`Caught error in ${f}`,{error:h}),e(this,void 0,void 0,function*(){var w,S,E,y,x,k,C;const v=h||Error(i),P=v instanceof Error,V=P?v.name:"No Name",z=s(v);if(this._lastSeenError=z,this._seen.has(V))return;if(this._seen.add(V),!((S=(w=this._options)===null||w===void 0?void 0:w.networkConfig)===null||S===void 0)&&S.preventAllNetworkTraffic){(E=this._emitter)===null||E===void 0||E.call(this,{name:"error",error:h,tag:f});return}const re=n.SDKType._get(this._sdkKey),ie=a.StatsigMetadataProvider.get(),fe=P?v.stack:l(v),q=Object.assign({tag:f,exception:V,info:fe,statsigOptions:c(this._options)},Object.assign(Object.assign({},ie),{sdkType:re}));yield((k=(x=(y=this._options)===null||y===void 0?void 0:y.networkConfig)===null||x===void 0?void 0:x.networkOverrideFunc)!==null&&k!==void 0?k:fetch)(t.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(re),"STATSIG-SDK-VERSION":String(ie.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(q)}),(C=this._emitter)===null||C===void 0||C.call(this,{name:"error",error:h,tag:f})}).then(()=>{}).catch(()=>{})}catch{}}}t.ErrorBoundary=o;function s(d){return d instanceof Error?d:typeof d=="string"?new Error(d):new Error("An unknown error occurred.")}function l(d){try{return JSON.stringify(d)}catch{return i}}function u(d){const f=new Set;let h=Object.getPrototypeOf(d);for(;h&&h!==Object.prototype;)Object.getOwnPropertyNames(h).filter(p=>typeof(h==null?void 0:h[p])=="function").forEach(p=>f.add(p)),h=Object.getPrototypeOf(h);return Array.from(f)}function c(d){if(!d)return{};const f={};return Object.entries(d).forEach(([h,p])=>{switch(typeof p){case"number":case"bigint":case"boolean":f[String(h)]=p;break;case"string":p.length<50?f[String(h)]=p:f[String(h)]="set";break;case"object":h==="environment"?f.environment=p:h==="networkConfig"?f.networkConfig=p:f[String(h)]=p!=null?"set":"unset";break}}),f}})(oi);var ys={};Object.defineProperty(ys,"__esModule",{value:!0});var bs={};Object.defineProperty(bs,"__esModule",{value:!0});var ws={};Object.defineProperty(ws,"__esModule",{value:!0});var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.createMemoKey=Pt.MemoPrefix=void 0;Pt.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_layer:"l",_paramStore:"p"};const Bu=new Set([]),zu=new Set(["userPersistedValues"]);function Vu(t,e,r){let n=`${t}|${e}`;if(!r)return n;for(const a of Object.keys(r)){if(zu.has(a))return;Bu.has(a)?n+=`|${a}=true`:n+=`|${a}=${r[a]}`}return n}Pt.createMemoKey=Vu;var Wn={},er={},Jn={},Ku=X&&X.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(Jn,"__esModule",{value:!0});Jn._fetchTxtRecords=void 0;const Zu=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),Hu="https://cloudflare-dns.com/dns-query",Gu=["i","e","d"],Wu=200;function Ju(t){return Ku(this,void 0,void 0,function*(){const e=yield t(Hu,{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:Zu});if(!e.ok){const a=new Error("Failed to fetch TXT records from DNS");throw a.name="DnsTxtFetchError",a}const r=yield e.arrayBuffer(),n=new Uint8Array(r);return qu(n)})}Jn._fetchTxtRecords=Ju;function qu(t){const e=t.findIndex((n,a)=>a<Wu&&String.fromCharCode(n)==="="&&Gu.includes(String.fromCharCode(t[a-1])));if(e===-1){const n=new Error("Failed to parse TXT records from DNS");throw n.name="DnsTxtParseError",n}let r="";for(let n=e-1;n<t.length;n++)r+=String.fromCharCode(t[n]);return r.split(",")}var ro=X&&X.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(er,"__esModule",{value:!0});er._isDomainFailure=er.NetworkFallbackResolver=void 0;const Yu=Jn,Xu=jt,Qu=me,$a=tt,no=7*24*60*60*1e3,ec=4*60*60*1e3;class tc{constructor(e){var r;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=(r=e.networkConfig)===null||r===void 0?void 0:r.networkOverrideFunc}setErrorBoundary(e){this._errorBoundary=e}tryBumpExpiryTime(e,r){var n;const a=(n=this._fallbackInfo)===null||n===void 0?void 0:n[r.endpoint];a&&(a.expiryTime=Date.now()+no,Ea(e,Object.assign(Object.assign({},this._fallbackInfo),{[r.endpoint]:a})))}getActiveFallbackUrl(e,r){var n,a;if(r.customUrl!=null&&r.fallbackUrls!=null)return null;let i=this._fallbackInfo;i==null&&(i=(n=rc(e))!==null&&n!==void 0?n:{},this._fallbackInfo=i);const o=i[r.endpoint];return!o||Date.now()>((a=o.expiryTime)!==null&&a!==void 0?a:0)||r.getChecksum()!==o.urlConfigChecksum?(delete i[r.endpoint],this._fallbackInfo=i,Ea(e,this._fallbackInfo),null):o.url?o.url:null}tryFetchUpdatedFallbackInfo(e,r,n,a){var i,o;return ro(this,void 0,void 0,function*(){try{if(!Ss(n,a))return!1;const l=r.customUrl==null&&r.fallbackUrls==null?yield this._tryFetchFallbackUrlsFromNetwork(r):r.fallbackUrls,u=this._pickNewFallbackUrl((i=this._fallbackInfo)===null||i===void 0?void 0:i[r.endpoint],l);return u?(this._updateFallbackInfoWithNewUrl(e,r,u),!0):!1}catch(s){return(o=this._errorBoundary)===null||o===void 0||o.logError("tryFetchUpdatedFallbackInfo",s),!1}})}_updateFallbackInfoWithNewUrl(e,r,n){var a,i,o;const s={urlConfigChecksum:r.getChecksum(),url:n,expiryTime:Date.now()+no,previous:[]},l=r.endpoint,u=(a=this._fallbackInfo)===null||a===void 0?void 0:a[l];u&&s.previous.push(...u.previous),s.previous.length>10&&(s.previous=[]);const c=(o=(i=this._fallbackInfo)===null||i===void 0?void 0:i[l])===null||o===void 0?void 0:o.url;c!=null&&s.previous.push(c),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[l]:s}),Ea(e,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(e){var r;return ro(this,void 0,void 0,function*(){const n=this._dnsQueryCooldowns[e.endpoint];if(n&&Date.now()<n)return null;this._dnsQueryCooldowns[e.endpoint]=Date.now()+ec;const a=[],i=yield(0,Yu._fetchTxtRecords)((r=this._networkOverrideFunc)!==null&&r!==void 0?r:fetch),o=nc(e.defaultUrl);for(const s of i){if(!s.startsWith(e.endpointDnsKey+"="))continue;const l=s.split("=");if(l.length>1){let u=l[1];u.endsWith("/")&&(u=u.slice(0,-1)),a.push(`https://${u}${o}`)}}return a})}_pickNewFallbackUrl(e,r){var n;if(r==null)return null;const a=new Set((n=e==null?void 0:e.previous)!==null&&n!==void 0?n:[]),i=e==null?void 0:e.url;let o=null;for(const s of r){const l=s.endsWith("/")?s.slice(0,-1):s;if(!a.has(s)&&l!==i){o=l;break}}return o}}er.NetworkFallbackResolver=tc;function Ss(t,e){var r;const n=(r=t==null?void 0:t.toLowerCase())!==null&&r!==void 0?r:"";return e||n.includes("uncaught exception")||n.includes("failed to fetch")||n.includes("networkerror when attempting to fetch resource")}er._isDomainFailure=Ss;function Es(t){return`statsig.network_fallback.${(0,Xu._DJB2)(t)}`}function Ea(t,e){const r=Es(t);if(!e||Object.keys(e).length===0){$a.Storage.removeItem(r);return}$a.Storage.setItem(r,JSON.stringify(e))}function rc(t){const e=Es(t),r=$a.Storage.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return Qu.Log.error("Failed to parse FallbackInfo"),null}}function nc(t){try{return new URL(t).pathname}catch{return null}}var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.SDKFlags=void 0;const ao={};Wr.SDKFlags={setFlags:(t,e)=>{ao[t]=e},get:(t,e)=>{var r,n;return(n=(r=ao[t])===null||r===void 0?void 0:r[e])!==null&&n!==void 0?n:!1}};var qn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigSession=t.SessionID=void 0;const e=Xt,r=Qe,n=me,a=tt,i=ir,o=30*60*1e3,s=4*60*60*1e3,l={};t.SessionID={get:y=>t.StatsigSession.get(y).data.sessionID},t.StatsigSession={get:y=>{l[y]==null&&(l[y]=u(y));const x=l[y];return d(x)},overrideInitialSessionID:(y,x)=>{l[x]=c(y,x)}};function u(y){let x=E(y);const k=Date.now();return x||(x={sessionID:(0,i.getUUID)(),startTime:k,lastUpdate:k}),{data:x,sdkKey:y}}function c(y,x){const k=Date.now();return{data:{sessionID:y,startTime:k,lastUpdate:k},sdkKey:x}}function d(y){const x=Date.now(),k=y.data,C=y.sdkKey;if(h(k)||p(k)){k.sessionID=(0,i.getUUID)(),k.startTime=x;const P=__STATSIG__==null?void 0:__STATSIG__.instance(C);P&&P.$emt({name:"session_expired"})}k.lastUpdate=x,S(k,y.sdkKey),clearTimeout(y.idleTimeoutID),clearTimeout(y.ageTimeoutID);const v=x-k.startTime;return y.idleTimeoutID=f(C,o),y.ageTimeoutID=f(C,s-v),y}function f(y,x){return setTimeout(()=>{var k;const C=(k=(0,e._getStatsigGlobal)())===null||k===void 0?void 0:k.instance(y);C&&C.$emt({name:"session_expired"})},x)}function h({lastUpdate:y}){return Date.now()-y>o}function p({startTime:y}){return Date.now()-y>s}function w(y){return`statsig.session_id.${(0,r._getStorageKey)(y)}`}function S(y,x){const k=w(x);try{(0,a._setObjectInStorage)(k,y)}catch{n.Log.warn("Failed to save SessionID")}}function E(y){const x=w(y);return(0,a._getObjectFromStorage)(x)}})(qn);var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.ErrorTag=void 0;Jr.ErrorTag={NetworkError:"NetworkError"};var Ht=X&&X.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.NetworkCore=void 0;const Cs=Xt,Fa=Tn,xt=me,Ue=Zr,ac=er,ic=Wr,ks=or,oc=vt,xs=qn,sc=Ut,lc=Jr,Rs=Rr,xr=et,uc=Gn,cc=1e4,dc=500,fc=3e4,hc=1e3,Ds=50,mc=Ds/hc,gc=new Set([408,500,502,503,504,522,524,599]);class vc{constructor(e,r){this._emitter=r,this._errorBoundary=null,this._timeout=cc,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new ac.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(e))}setLogEventCompressionMode(e){this._options.logEventCompressionMode=e}setErrorBoundary(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}isBeaconSupported(){return typeof navigator<"u"&&typeof navigator.sendBeacon=="function"}getLastUsedInitUrlAndReset(){const e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}beacon(e){return Ht(this,void 0,void 0,function*(){if(!io(e))return!1;const r=this._getInternalRequestArgs("POST",e);yield this._tryToCompressBody(r);const n=yield this._getPopulatedURL(r),a=navigator;return a.sendBeacon.bind(a)(n,r.body)})}post(e){return Ht(this,void 0,void 0,function*(){const r=this._getInternalRequestArgs("POST",e);return this._tryEncodeBody(r),yield this._tryToCompressBody(r),this._sendRequest(r)})}get(e){const r=this._getInternalRequestArgs("GET",e);return this._sendRequest(r)}_sendRequest(e){var r,n,a,i;return Ht(this,void 0,void 0,function*(){if(!io(e)||this._netConfig.preventAllNetworkTraffic)return null;const{method:o,body:s,retries:l,attempt:u}=e,c=e.urlConfig.endpoint;if(this._isRateLimited(c))return xt.Log.warn(`Request to ${c} was blocked because you are making requests too frequently.`),null;const d=u??1,f=typeof AbortController<"u"?new AbortController:null,h=setTimeout(()=>{f==null||f.abort(`Timeout of ${this._timeout}ms expired.`)},this._timeout),p=yield this._getPopulatedURL(e);let w=null;const S=(0,uc._isUnloading)();try{const E={method:o,body:s,headers:Object.assign({},e.headers),signal:f==null?void 0:f.signal,priority:e.priority,keepalive:S};wc(e,d);const y=this._leakyBucket[c];if(y&&(y.lastRequestTime=Date.now(),this._leakyBucket[c]=y),w=yield((r=this._netConfig.networkOverrideFunc)!==null&&r!==void 0?r:fetch)(p,E),clearTimeout(h),!w.ok){const C=yield w.text().catch(()=>"No Text"),v=new Error(`NetworkError: ${p} ${C}`);throw v.name="NetworkError",v}const k=yield w.text();return oo(e,w,d,k),this._fallbackResolver.tryBumpExpiryTime(e.sdkKey,e.urlConfig),{body:k,code:w.status}}catch(E){const y=yc(f,E),x=bc(f);if(oo(e,w,d,"",E),(yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(e.sdkKey,e.urlConfig,y,x))&&(e.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig)),!l||d>l||!gc.has((n=w==null?void 0:w.status)!==null&&n!==void 0?n:500)){(a=this._emitter)===null||a===void 0||a.call(this,{name:"error",error:E,tag:lc.ErrorTag.NetworkError,requestArgs:e});const C=`A networking error occurred during ${o} request to ${p}.`;return xt.Log.error(C,y,E),(i=this._errorBoundary)===null||i===void 0||i.attachErrorIfNoneExists(C),null}return yield Sc(d),this._sendRequest(Object.assign(Object.assign({},e),{retries:l,attempt:d+1}))}})}_getLogEventCompressionMode(e){let r=e==null?void 0:e.logEventCompressionMode;return!r&&(e==null?void 0:e.disableCompression)===!0&&(r=xr.LogEventCompressionMode.Disabled),r||(r=xr.LogEventCompressionMode.Enabled),r}_isRateLimited(e){var r;const n=Date.now(),a=(r=this._leakyBucket[e])!==null&&r!==void 0?r:{count:0,lastRequestTime:n},i=n-a.lastRequestTime,o=Math.floor(i*mc);return a.count=Math.max(0,a.count-o),a.count>=Ds?!0:(a.count+=1,a.lastRequestTime=n,this._leakyBucket[e]=a,!1)}_getPopulatedURL(e){var r;return Ht(this,void 0,void 0,function*(){const n=(r=e.fallbackUrl)!==null&&r!==void 0?r:e.urlConfig.getUrl();(e.urlConfig.endpoint===Ue.Endpoint._initialize||e.urlConfig.endpoint===Ue.Endpoint._download_config_specs)&&(this._lastUsedInitUrl=n);const a=Object.assign({[Ue.NetworkParam.SdkKey]:e.sdkKey,[Ue.NetworkParam.SdkType]:ks.SDKType._get(e.sdkKey),[Ue.NetworkParam.SdkVersion]:Rs.SDK_VERSION,[Ue.NetworkParam.Time]:String(Date.now()),[Ue.NetworkParam.SessionID]:xs.SessionID.get(e.sdkKey)},e.params),i=Object.keys(a).map(o=>`${encodeURIComponent(o)}=${encodeURIComponent(a[o])}`).join("&");return`${n}${i?`?${i}`:""}`})}_tryEncodeBody(e){var r;const n=(0,oc._getWindowSafe)(),a=e.body;if(!(!e.isStatsigEncodable||this._options.disableStatsigEncoding||typeof a!="string"||(0,Cs._getStatsigGlobalFlag)("no-encode")!=null||!(n!=null&&n.btoa)))try{e.body=n.btoa(a).split("").reverse().join(""),e.params=Object.assign(Object.assign({},(r=e.params)!==null&&r!==void 0?r:{}),{[Ue.NetworkParam.StatsigEncoded]:"1"})}catch(i){xt.Log.warn(`Request encoding failed for ${e.urlConfig.getUrl()}`,i)}}_tryToCompressBody(e){var r;return Ht(this,void 0,void 0,function*(){const n=e.body;if(!(typeof n!="string"||!_c(e,this._options)))try{const a=new TextEncoder().encode(n),i=new CompressionStream("gzip"),o=i.writable.getWriter();o.write(a).catch(xt.Log.error),o.close().catch(xt.Log.error);const s=i.readable.getReader(),l=[];let u;for(;!(u=yield s.read()).done;)l.push(u.value);const c=l.reduce((h,p)=>h+p.length,0),d=new Uint8Array(c);let f=0;for(const h of l)d.set(h,f),f+=h.length;e.body=d,e.params=Object.assign(Object.assign({},(r=e.params)!==null&&r!==void 0?r:{}),{[Ue.NetworkParam.IsGzipped]:"1"})}catch(a){xt.Log.warn(`Request compression failed for ${e.urlConfig.getUrl()}`,a)}})}_getInternalRequestArgs(e,r){const n=this._fallbackResolver.getActiveFallbackUrl(r.sdkKey,r.urlConfig),a=Object.assign(Object.assign({},r),{method:e,fallbackUrl:n});return"data"in r&&pc(a,r.data),a}}Wn.NetworkCore=vc;const io=t=>t.sdkKey?!0:(xt.Log.warn("Unable to make request without an SDK key"),!1),pc=(t,e)=>{const{sdkKey:r,fallbackUrl:n}=t,a=sc.StableID.get(r),i=xs.SessionID.get(r),o=ks.SDKType._get(r);t.body=JSON.stringify(Object.assign(Object.assign({},e),{statsigMetadata:Object.assign(Object.assign({},Rs.StatsigMetadataProvider.get()),{stableID:a,sessionID:i,sdkType:o,fallbackUrl:n})}))};function _c(t,e){if(!t.isCompressable||(0,Cs._getStatsigGlobalFlag)("no-compress")!=null||typeof CompressionStream>"u"||typeof TextEncoder>"u")return!1;const r=t.urlConfig.customUrl!=null||t.urlConfig.fallbackUrls!=null,n=ic.SDKFlags.get(t.sdkKey,"enable_log_event_compression")===!0;switch(e.logEventCompressionMode){case xr.LogEventCompressionMode.Disabled:return!1;case xr.LogEventCompressionMode.Enabled:return!(r&&!n);case xr.LogEventCompressionMode.Forced:return!0;default:return!1}}function yc(t,e){return t!=null&&t.signal.aborted&&typeof t.signal.reason=="string"?t.signal.reason:typeof e=="string"?e:e instanceof Error?`${e.name}: ${e.message}`:"Unknown Error"}function bc(t){return(t==null?void 0:t.signal.aborted)&&typeof t.signal.reason=="string"&&t.signal.reason.includes("Timeout")||!1}function wc(t,e){t.urlConfig.endpoint===Ue.Endpoint._initialize&&Fa.Diagnostics._markInitNetworkReqStart(t.sdkKey,{attempt:e})}function oo(t,e,r,n,a){t.urlConfig.endpoint===Ue.Endpoint._initialize&&Fa.Diagnostics._markInitNetworkReqEnd(t.sdkKey,Fa.Diagnostics._getDiagnosticsData(e,r,n,a))}function Sc(t){return Ht(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,Math.min(dc*(t*t),fc)))})}var Os={};Object.defineProperty(Os,"__esModule",{value:!0});var Is={};Object.defineProperty(Is,"__esModule",{value:!0});var Yn={},Ec=X&&X.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.StatsigClientBase=void 0;const Cc=Xt,kc=oi,xc=Kr,Ba=me,Rc=Pt,Dc=vt,Oc=qn,Ca=Ut,Ic=et,hn=tt,Tc=3e3;class Lc{constructor(e,r,n,a){var i,o,s,l;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const u=this.$emt.bind(this);(a==null?void 0:a.logLevel)!=null&&(Ba.Log.level=a.logLevel),a!=null&&a.disableStorage&&hn.Storage._setDisabled(!0),a!=null&&a.initialSessionID&&Oc.StatsigSession.overrideInitialSessionID(a.initialSessionID,e),a!=null&&a.storageProvider&&hn.Storage._setProvider(a.storageProvider),a!=null&&a.enableCookies&&Ca.StableID._setCookiesEnabled(e,a.enableCookies),a!=null&&a.disableStableID&&Ca.StableID._setDisabled(e,!0),this._sdkKey=e,this._options=a??{},this._memoCache={},this.overrideAdapter=(i=a==null?void 0:a.overrideAdapter)!==null&&i!==void 0?i:null,this._logger=new xc.EventLogger(e,u,n,a),this._errorBoundary=new kc.ErrorBoundary(e,a,u),this._errorBoundary.wrap(this),this._errorBoundary.wrap(r),this._errorBoundary.wrap(this._logger),n.setErrorBoundary(this._errorBoundary),this.dataAdapter=r,this.dataAdapter.attach(e,a,n),this.storageProvider=hn.Storage,(l=(s=(o=this.overrideAdapter)===null||o===void 0?void 0:o.loadFromStorage)===null||s===void 0?void 0:s.call(o))===null||l===void 0||l.catch(c=>this._errorBoundary.logError("OA::loadFromStorage",c)),this._primeReadyRipcord(),Pc(e,this)}updateRuntimeOptions(e){e.loggingEnabled?(this._options.loggingEnabled=e.loggingEnabled,this._logger.setLoggingEnabled(e.loggingEnabled)):e.disableLogging!=null&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingEnabled(e.disableLogging?"disabled":"browser-only")),e.disableStorage!=null&&(this._options.disableStorage=e.disableStorage,hn.Storage._setDisabled(e.disableStorage)),e.enableCookies!=null&&(this._options.enableCookies=e.enableCookies,Ca.StableID._setCookiesEnabled(this._sdkKey,e.enableCookies)),e.logEventCompressionMode?this._logger.setLogEventCompressionMode(e.logEventCompressionMode):e.disableCompression&&this._logger.setLogEventCompressionMode(Ic.LogEventCompressionMode.Disabled)}flush(){return this._logger.flush()}shutdown(){return Ec(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()})}on(e,r){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(r)}off(e,r){if(this._listeners[e]){const n=this._listeners[e].indexOf(r);n!==-1&&this._listeners[e].splice(n,1)}}$on(e,r){r.__isInternal=!0,this.on(e,r)}$emt(e){var r;const n=a=>{try{a(e)}catch(i){if(a.__isInternal===!0){this._errorBoundary.logError(`__emit:${e.name}`,i);return}Ba.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach(a=>n(a)),(r=this._listeners["*"])===null||r===void 0||r.forEach(n)}_setStatus(e,r){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:r})}_enqueueExposure(e,r,n){if((n==null?void 0:n.disableExposureLog)===!0){this._logger.incrementNonExposureCount(e);return}this._logger.enqueue(r)}_memoize(e,r){return(n,a)=>{if(this._options.disableEvaluationMemoization)return r(n,a);const i=(0,Rc.createMemoKey)(e,n,a);return i?(i in this._memoCache||(Object.keys(this._memoCache).length>=Tc&&(this._memoCache={}),this._memoCache[i]=r(n,a)),this._memoCache[i]):r(n,a)}}}Yn.StatsigClientBase=Lc;function Pc(t,e){var r;if((0,Dc._isServerEnv)())return;const n=(0,Cc._getStatsigGlobal)(),a=(r=n.instances)!==null&&r!==void 0?r:{},i=e;a[t]!=null&&Ba.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),a[t]=i,n.firstInstance||(n.firstInstance=i),n.instances=a,__STATSIG__=n}var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.DataAdapterCachePrefix=void 0;Xn.DataAdapterCachePrefix="statsig.cached";var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});var be={};Object.defineProperty(be,"__esModule",{value:!0});be._makeTypedGet=be._mergeOverride=be._makeLayer=be._makeExperiment=be._makeDynamicConfig=be._makeFeatureGate=void 0;const Mc=me,Ac=ut,Nc="default";function si(t,e,r,n){var a;return{name:t,details:e,ruleID:(a=r==null?void 0:r.rule_id)!==null&&a!==void 0?a:Nc,__evaluation:r,value:n}}function jc(t,e,r){return si(t,e,r,(r==null?void 0:r.value)===!0)}be._makeFeatureGate=jc;function Ls(t,e,r){var n;const a=(n=r==null?void 0:r.value)!==null&&n!==void 0?n:{};return Object.assign(Object.assign({},si(t,e,r,a)),{get:Qn(t,r==null?void 0:r.value)})}be._makeDynamicConfig=Ls;function Uc(t,e,r){var n;const a=Ls(t,e,r);return Object.assign(Object.assign({},a),{groupName:(n=r==null?void 0:r.group_name)!==null&&n!==void 0?n:null})}be._makeExperiment=Uc;function $c(t,e,r,n){var a,i;return Object.assign(Object.assign({},si(t,e,r,void 0)),{get:Qn(t,r==null?void 0:r.value,n),groupName:(a=r==null?void 0:r.group_name)!==null&&a!==void 0?a:null,__value:(i=r==null?void 0:r.value)!==null&&i!==void 0?i:{}})}be._makeLayer=$c;function Fc(t,e,r,n){return Object.assign(Object.assign(Object.assign({},t),e),{get:Qn(t.name,r,n)})}be._mergeOverride=Fc;function Qn(t,e,r){return(n,a)=>{var i;const o=(i=e==null?void 0:e[n])!==null&&i!==void 0?i:null;return o==null?a??null:a!=null&&!(0,Ac._isTypeMatch)(o,a)?(Mc.Log.warn(`Parameter type mismatch. '${t}.${n}' was found to be type '${typeof o}' but fallback/return type is '${typeof a}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),a??null):(r==null||r(n),o)}}be._makeTypedGet=Qn;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});var tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.UPDATE_DETAIL_ERROR_MESSAGES=tr.createUpdateDetails=void 0;const Bc=(t,e,r,n,a,i)=>({duration:r,source:e,success:t,error:n,sourceUrl:a,warnings:i});tr.createUpdateDetails=Bc;tr.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."};(function(t){var e=X&&X.__createBinding||(Object.create?function(u,c,d,f){f===void 0&&(f=d);var h=Object.getOwnPropertyDescriptor(c,d);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(u,f,h)}:function(u,c,d,f){f===void 0&&(f=d),u[f]=c[d]}),r=X&&X.__exportStar||function(u,c){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&e(c,u,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Log=t.EventLogger=t.Diagnostics=void 0;const n=Xt,a=Tn;Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return a.Diagnostics}});const i=Kr;Object.defineProperty(t,"EventLogger",{enumerable:!0,get:function(){return i.EventLogger}});const o=me;Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return o.Log}});const s=Rr,l=tt;Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return l.Storage}}),r(Xt,t),r(Qe,t),r(ds,t),r(Qt,t),r(Tn,t),r(_s,t),r(oi,t),r(ys,t),r(bs,t),r(jt,t),r(ws,t),r(me,t),r(Pt,t),r(Zr,t),r(Wn,t),r(Os,t),r(Is,t),r(vt,t),r(or,t),r(qn,t),r(Ut,t),r(Yn,t),r(Jr,t),r(Xn,t),r(ke,t),r(Rr,t),r(et,t),r(Ts,t),r(be,t),r(Ps,t),r(Lt,t),r(tt,t),r(Gr,t),r(ut,t),r(Hr,t),r(ir,t),r(Gn,t),r(tr,t),r(Wr,t),Object.assign((0,n._getStatsigGlobal)(),{Log:o.Log,SDK_VERSION:s.SDK_VERSION})})(le);var li={},ui={};Object.defineProperty(ui,"__esModule",{value:!0});const Ct=le;class zc{constructor(e){this._sdkKey=e,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,Ct._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(e,r){var n;if(!e)return!1;const a=(0,Ct._typedJsonParse)(e.data,"has_updates","EvaluationResponse");return a==null?!1:(this._source=e.source,(a==null?void 0:a.has_updates)!==!0||(this._rawValues=e.data,this._lcut=a.time,this._receivedAt=e.receivedAt,this._values=a,this._bootstrapMetadata=this._extractBootstrapMetadata(e.source,a),e.source&&a.user&&this._setWarningState(r,a),Ct.SDKFlags.setFlags(this._sdkKey,(n=a.sdk_flags)!==null&&n!==void 0?n:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(e){var r;return this._getDetailedStoreResult((r=this._values)===null||r===void 0?void 0:r.feature_gates,e)}getConfig(e){var r;return this._getDetailedStoreResult((r=this._values)===null||r===void 0?void 0:r.dynamic_configs,e)}getLayer(e){var r;return this._getDetailedStoreResult((r=this._values)===null||r===void 0?void 0:r.layer_configs,e)}getParamStore(e){var r;return this._getDetailedStoreResult((r=this._values)===null||r===void 0?void 0:r.param_stores,e)}getSource(){return this._source}getExposureMapping(){var e;return(e=this._values)===null||e===void 0?void 0:e.exposures}_extractBootstrapMetadata(e,r){if(e!=="Bootstrap")return null;const n={};return r.user&&(n.user=r.user),r.sdkInfo&&(n.generatorSDKInfo=r.sdkInfo),n.lcut=r.time,n}_getDetailedStoreResult(e,r){let n=null;return e&&(n=e[r]?e[r]:e[(0,Ct._DJB2)(r)]),{result:n,details:this._getDetails(n==null)}}_setWarningState(e,r){var n,a;const i=Ct.StableID.get(this._sdkKey);if(((n=e.customIDs)===null||n===void 0?void 0:n.stableID)!==i&&(!((a=e.customIDs)===null||a===void 0)&&a.stableID||i)){this._warnings.add("StableIDMismatch");return}if("user"in r){const o=r.user;(0,Ct._getFullUserHash)(e)!==(0,Ct._getFullUserHash)(o)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}_getDetails(e){var r,n;const a=this.getCurrentSourceDetails();let i=a.reason;const o=(r=a.warnings)!==null&&r!==void 0?r:[];this._source==="Bootstrap"&&o.length>0&&(i=i+o[0]),i!=="Uninitialized"&&i!=="NoValues"&&(i=`${i}:${e?"Unrecognized":"Recognized"}`);const s=this._source==="Bootstrap"&&(n=this._bootstrapMetadata)!==null&&n!==void 0?n:void 0;return s&&(a.bootstrapMetadata=s),Object.assign(Object.assign({},a),{reason:i})}}ui.default=zc;var ea={},ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta._resolveDeltasResponse=void 0;const so=le,Vc=2;function Kc(t,e){const r=(0,so._typedJsonParse)(e,"checksum","DeltasEvaluationResponse");if(!r)return{hadBadDeltaChecksum:!0};const n=Zc(t,r),a=Hc(n),i=(0,so._DJB2Object)({feature_gates:a.feature_gates,dynamic_configs:a.dynamic_configs,layer_configs:a.layer_configs},Vc);return i===r.checksumV2?JSON.stringify(a):{hadBadDeltaChecksum:!0,badChecksum:i,badMergedConfigs:a,badFullResponse:r.deltas_full_response}}ta._resolveDeltasResponse=Kc;function Zc(t,e){return Object.assign(Object.assign(Object.assign({},t),e),{feature_gates:Object.assign(Object.assign({},t.feature_gates),e.feature_gates),layer_configs:Object.assign(Object.assign({},t.layer_configs),e.layer_configs),dynamic_configs:Object.assign(Object.assign({},t.dynamic_configs),e.dynamic_configs)})}function Hc(t){const e=t;return ka(t.deleted_gates,e.feature_gates),delete e.deleted_gates,ka(t.deleted_configs,e.dynamic_configs),delete e.deleted_configs,ka(t.deleted_layers,e.layer_configs),delete e.deleted_layers,e}function ka(t,e){t==null||t.forEach(r=>{delete e[r]})}var lo=X&&X.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(ea,"__esModule",{value:!0});const mn=le,Gc=ta;class Wc extends mn.NetworkCore{constructor(e,r){super(e,r);const n=e==null?void 0:e.networkConfig;this._option=e,this._initializeUrlConfig=new mn.UrlConfiguration(mn.Endpoint._initialize,n==null?void 0:n.initializeUrl,n==null?void 0:n.api,n==null?void 0:n.initializeFallbackUrls)}fetchEvaluations(e,r,n,a,i){var o,s,l,u,c,d;return lo(this,void 0,void 0,function*(){const f=r?(0,mn._typedJsonParse)(r,"has_updates","InitializeResponse"):null;let h={user:a,hash:(l=(s=(o=this._option)===null||o===void 0?void 0:o.networkConfig)===null||s===void 0?void 0:s.initializeHashAlgorithm)!==null&&l!==void 0?l:"djb2",deltasResponseRequested:!1,full_checksum:null};if(f!=null&&f.has_updates){const p=(f==null?void 0:f.hash_used)!==((d=(c=(u=this._option)===null||u===void 0?void 0:u.networkConfig)===null||c===void 0?void 0:c.initializeHashAlgorithm)!==null&&d!==void 0?d:"djb2");h=Object.assign(Object.assign({},h),{sinceTime:i&&!p?f.time:0,previousDerivedFields:"derived_fields"in f&&i?f.derived_fields:{},deltasResponseRequested:!0,full_checksum:f.full_checksum,partialUserMatchSinceTime:p?0:f.time})}return this._fetchEvaluations(e,f,h,n)})}_fetchEvaluations(e,r,n,a){var i,o;return lo(this,void 0,void 0,function*(){const s=yield this.post({sdkKey:e,urlConfig:this._initializeUrlConfig,data:n,retries:2,isStatsigEncodable:!0,priority:a});if((s==null?void 0:s.code)===204)return'{"has_updates": false}';if((s==null?void 0:s.code)!==200)return(i=s==null?void 0:s.body)!==null&&i!==void 0?i:null;if((r==null?void 0:r.has_updates)!==!0||((o=s.body)===null||o===void 0?void 0:o.includes('"is_delta":true'))!==!0||n.deltasResponseRequested!==!0)return s.body;const l=(0,Gc._resolveDeltasResponse)(r,s.body);return typeof l=="string"?l:this._fetchEvaluations(e,r,Object.assign(Object.assign(Object.assign({},n),l),{deltasResponseRequested:!1}),a)})}}ea.default=Wc;var ra={};Object.defineProperty(ra,"__esModule",{value:!0});ra._makeParamStoreGetter=void 0;const Ms=le,na={disableExposureLog:!0};function aa(t){return t==null||t.disableExposureLog===!1}function ci(t,e){return e!=null&&!(0,Ms._isTypeMatch)(t,e)}function Jc(t,e){return t.value}function qc(t,e,r){return t.getFeatureGate(e.gate_name,aa(r)?void 0:na).value?e.pass_value:e.fail_value}function Yc(t,e,r,n){const i=t.getDynamicConfig(e.config_name,aa(n)?void 0:na).get(e.param_name);return ci(i,r)?r:i}function Xc(t,e,r,n){const i=t.getExperiment(e.experiment_name,aa(n)?void 0:na).get(e.param_name);return ci(i,r)?r:i}function Qc(t,e,r,n){const i=t.getLayer(e.layer_name,aa(n)?void 0:na).get(e.param_name);return ci(i,r)?r:i}function ed(t,e,r){return(n,a)=>{if(e==null)return a;const i=e[n];if(i==null||a!=null&&(0,Ms._typeOf)(a)!==i.param_type)return a;switch(i.ref_type){case"static":return Jc(i);case"gate":return qc(t,i,r);case"dynamic_config":return Yc(t,i,a,r);case"experiment":return Xc(t,i,a,r);case"layer":return Qc(t,i,a,r);default:return a}}}ra._makeParamStoreGetter=ed;var ia={},td=X&&X.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(ia,"__esModule",{value:!0});ia.StatsigEvaluationsDataAdapter=void 0;const kt=le,uo=ea;class rd extends kt.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(e,r,n){super.attach(e,r,n),n!==null&&n instanceof uo.default?this._network=n:this._network=new uo.default(r??{})}getDataAsync(e,r,n){return this._getDataAsyncImpl(e,(0,kt._normalizeUser)(r,this._options),n)}prefetchData(e,r){return this._prefetchDataImpl(e,r)}setData(e){const r=(0,kt._typedJsonParse)(e,"has_updates","data");r&&"user"in r?super.setData(e,r.user):kt.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(e,r){super.setData(e,r)}_fetchFromNetwork(e,r,n,a){var i;return td(this,void 0,void 0,function*(){const o=yield(i=this._network)===null||i===void 0?void 0:i.fetchEvaluations(this._getSdkKey(),e,n==null?void 0:n.priority,r,a);return o??null})}_getCacheKey(e){var r;const n=(0,kt._getStorageKey)(this._getSdkKey(),e,(r=this._options)===null||r===void 0?void 0:r.customUserCacheKeyFunc);return`${kt.DataAdapterCachePrefix}.${this._cacheSuffix}.${n}`}_isCachedResultValidFor204(e,r){return e.fullUserHash!=null&&e.fullUserHash===(0,kt._getFullUserHash)(r)}}ia.StatsigEvaluationsDataAdapter=rd;var xa=X&&X.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(li,"__esModule",{value:!0});const J=le,nd=ui,ad=ea,co=ra,id=ia;class Ln extends J.StatsigClientBase{static instance(e){const r=(0,J._getStatsigGlobal)().instance(e);return r instanceof Ln?r:(J.Log.warn((0,J._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new Ln(e??"",{}))}constructor(e,r,n=null){var a,i;J.SDKType._setClientType(e,"javascript-client");const o=new ad.default(n,l=>{this.$emt(l)});super(e,(a=n==null?void 0:n.dataAdapter)!==null&&a!==void 0?a:new id.StatsigEvaluationsDataAdapter,o,n),this.getFeatureGate=this._memoize(J.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(J.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(J.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getLayer=this._memoize(J.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(J.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new nd.default(e),this._network=o,this._user=this._configureUser(r,n);const s=(i=n==null?void 0:n.plugins)!==null&&i!==void 0?i:[];for(const l of s)l.bind(this)}initializeSync(e){var r;return this.loadingStatus!=="Uninitialized"?(0,J.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(r=this._store.getWarnings())!==null&&r!==void 0?r:[]]):(this._logger.start(),this.updateUserSync(this._user,e))}initializeAsync(e){return xa(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(e),this._initializePromise)})}updateUserSync(e,r){var n;const a=performance.now(),i=[...(n=this._store.getWarnings())!==null&&n!==void 0?n:[]];this._resetForUser(e);const o=this.dataAdapter.getDataSync(this._user);o==null&&i.push("NoCachedValues"),this._store.setValues(o,this._user),this._finalizeUpdate(o);const s=r==null?void 0:r.disableBackgroundCacheRefresh;return s===!0||s==null&&(o==null?void 0:o.source)==="Bootstrap"?(0,J.createUpdateDetails)(!0,this._store.getSource(),performance.now()-a,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),i):(this._runPostUpdate(o??null,this._user),(0,J.createUpdateDetails)(!0,this._store.getSource(),performance.now()-a,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),i))}updateUserAsync(e,r){return xa(this,void 0,void 0,function*(){this._resetForUser(e);const n=this._user;J.Diagnostics._markInitOverallStart(this._sdkKey);let a=this.dataAdapter.getDataSync(n);if(this._store.setValues(a,this._user),this._setStatus("Loading",a),a=yield this.dataAdapter.getDataAsync(a,n,r),n!==this._user)return(0,J.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let i=!1;a!=null&&(J.Diagnostics._markInitProcessStart(this._sdkKey),i=this._store.setValues(a,this._user),J.Diagnostics._markInitProcessEnd(this._sdkKey,{success:i})),this._finalizeUpdate(a),i||(this._errorBoundary.attachErrorIfNoneExists(J.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),J.Diagnostics._markInitOverallEnd(this._sdkKey,i,this._store.getCurrentSourceDetails());const o=J.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,J.createUpdateDetails)(i,this._store.getSource(),o,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:J.StatsigSession.get(this._sdkKey),stableID:J.StableID.get(this._sdkKey)}}checkGate(e,r){return this.getFeatureGate(e,r).value}logEvent(e,r,n){const a=typeof e=="string"?{eventName:e,value:r,metadata:n}:e;this.$emt({name:"log_event_called",event:a}),this._logger.enqueue(Object.assign(Object.assign({},a),{user:this._user,time:Date.now()}))}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(e){return xa(this,void 0,void 0,function*(){return J.Storage.isReady()||(yield J.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,e)})}_finalizeUpdate(e){this._store.finalize(),this._setStatus("Ready",e)}_runPostUpdate(e,r){this.dataAdapter.getDataAsync(e,r,{priority:"low"}).catch(n=>{J.Log.error("An error occurred after update.",n)})}_resetForUser(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}_configureUser(e,r){var n;const a=(0,J._normalizeUser)(e,r),i=(n=a.customIDs)===null||n===void 0?void 0:n.stableID;return i&&J.StableID.setOverride(i,this._sdkKey),a}_getFeatureGateImpl(e,r){var n,a;const{result:i,details:o}=this._store.getGate(e),s=(0,J._makeFeatureGate)(e,o,i),l=(a=(n=this.overrideAdapter)===null||n===void 0?void 0:n.getGateOverride)===null||a===void 0?void 0:a.call(n,s,this._user,r),u=l??s;return this._enqueueExposure(e,(0,J._createGateExposure)(this._user,u,this._store.getExposureMapping()),r),this.$emt({name:"gate_evaluation",gate:u}),u}_getDynamicConfigImpl(e,r){var n,a;const{result:i,details:o}=this._store.getConfig(e),s=(0,J._makeDynamicConfig)(e,o,i),l=(a=(n=this.overrideAdapter)===null||n===void 0?void 0:n.getDynamicConfigOverride)===null||a===void 0?void 0:a.call(n,s,this._user,r),u=l??s;return this._enqueueExposure(e,(0,J._createConfigExposure)(this._user,u,this._store.getExposureMapping()),r),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:u}),u}_getExperimentImpl(e,r){var n,a,i,o;const{result:s,details:l}=this._store.getConfig(e),u=(0,J._makeExperiment)(e,l,s);u.__evaluation!=null&&(u.__evaluation.secondary_exposures=(0,J._mapExposures)((a=(n=u.__evaluation)===null||n===void 0?void 0:n.secondary_exposures)!==null&&a!==void 0?a:[],this._store.getExposureMapping()));const c=(o=(i=this.overrideAdapter)===null||i===void 0?void 0:i.getExperimentOverride)===null||o===void 0?void 0:o.call(i,u,this._user,r),d=c??u;return this._enqueueExposure(e,(0,J._createConfigExposure)(this._user,d,this._store.getExposureMapping()),r),this.$emt({name:"experiment_evaluation",experiment:d}),d}_getLayerImpl(e,r){var n,a,i;const{result:o,details:s}=this._store.getLayer(e),l=(0,J._makeLayer)(e,s,o),u=(a=(n=this.overrideAdapter)===null||n===void 0?void 0:n.getLayerOverride)===null||a===void 0?void 0:a.call(n,l,this._user,r);r!=null&&r.disableExposureLog&&this._logger.incrementNonExposureCount(e);const c=(0,J._mergeOverride)(l,u,(i=u==null?void 0:u.__value)!==null&&i!==void 0?i:l.__value,d=>{r!=null&&r.disableExposureLog||this._enqueueExposure(e,(0,J._createLayerParameterExposure)(this._user,c,d,this._store.getExposureMapping()),r)});return this.$emt({name:"layer_evaluation",layer:c}),c}_getParameterStoreImpl(e,r){var n,a;const{result:i,details:o}=this._store.getParamStore(e);this._logger.incrementNonExposureCount(e);const s={name:e,details:o,__configuration:i,get:(0,co._makeParamStoreGetter)(this,i,r)},l=(a=(n=this.overrideAdapter)===null||n===void 0?void 0:n.getParamStoreOverride)===null||a===void 0?void 0:a.call(n,s,r);return l!=null&&(s.__configuration=l.config,s.details=l.details,s.get=(0,co._makeParamStoreGetter)(this,l.config,r)),s}}li.default=Ln;(function(t){var e=X&&X.__createBinding||(Object.create?function(o,s,l,u){u===void 0&&(u=l);var c=Object.getOwnPropertyDescriptor(s,l);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(o,u,c)}:function(o,s,l,u){u===void 0&&(u=l),o[u]=s[l]}),r=X&&X.__exportStar||function(o,s){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(s,l)&&e(s,o,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClient=void 0;const n=le,a=li;t.StatsigClient=a.default,r(le,t);const i=Object.assign((0,n._getStatsigGlobal)(),{StatsigClient:a.default});t.default=i})(Zn);var od={},Pe={},Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.isNoopClient=Re.NoopEvaluationsClient=void 0;const kn=le,As={success:!1,error:Error("NoClient"),duration:0,source:"Uninitialized",sourceUrl:null},Xe=()=>{},fo=()=>As,za=()=>Promise.resolve(),ho=()=>Promise.resolve(As),Ra={reason:"Error:NoClient"},_r=t=>(...e)=>{const r=typeof e[0]=="string"?e[0]:e[1];switch(t){case"gate":return(0,kn._makeFeatureGate)(r,Ra,null);case"config":return(0,kn._makeDynamicConfig)(r,Ra,null);case"layer":return(0,kn._makeLayer)(r,Ra,null);case"param_store":return{name:r}}},sd={attach:Xe,getDataSync:()=>null,getDataAsync:()=>Promise.resolve(null),setData:Xe,setDataLegacy:Xe,prefetchData:za},ld={sdkKey:"",options:{},values:null,user:{userID:""},errorBoundary:{},session:{data:{sessionID:"",startTime:0,lastUpdate:0},sdkKey:""},stableID:"",storageProvider:kn.Storage},ud={isNoop:!0,loadingStatus:"Uninitialized",initializeSync:fo,initializeAsync:ho,shutdown:za,flush:za,updateRuntimeOptions:Xe,updateUserSync:fo,updateUserAsync:ho,getContext:()=>Object.assign({},ld),checkGate:()=>!1,getFeatureGate:_r("gate"),getDynamicConfig:_r("config"),getExperiment:_r("config"),getLayer:_r("layer"),getParameterStore:_r("param_store"),logEvent:Xe,on:Xe,off:Xe,$on:Xe,$emt:Xe,dataAdapter:sd};Re.NoopEvaluationsClient=ud;function cd(t){return"isNoop"in t}Re.isNoopClient=cd;Object.defineProperty(Pe,"__esModule",{value:!0});const dd=m,fd=Re;Pe.default=(0,dd.createContext)({renderVersion:0,client:fd.NoopEvaluationsClient,isLoading:!0});var oa={},qr={},Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.useStatsigInternalClientFactoryAsync=void 0;const Da=m,mo=le;function hd(t,e){const r=(0,Da.useMemo)(()=>{var i;return(i=(0,mo._getInstance)(e.sdkKey))!==null&&i!==void 0?i:t(e)},[]),[n,a]=(0,Da.useState)(r.loadingStatus!=="Ready");return(0,Da.useMemo)(()=>{r.loadingStatus!=="Ready"&&r.initializeAsync().catch(mo.Log.error).finally(()=>a(!1))},[]),{client:r,isLoading:n}}Yr.useStatsigInternalClientFactoryAsync=hd;Object.defineProperty(qr,"__esModule",{value:!0});qr.useClientAsyncInit=void 0;const md=Zn,gd=Yr;function vd(t,e,r=null){return(0,gd.useStatsigInternalClientFactoryAsync)(n=>new md.StatsigClient(n.sdkKey,n.initialUser,n.statsigOptions),{sdkKey:t,initialUser:e,statsigOptions:r})}qr.useClientAsyncInit=vd;Object.defineProperty(oa,"__esModule",{value:!0});oa.StatsigProvider=void 0;const Pn=is,It=m,Va=le,Ns=Pe,pd=qr;function _d(t){return"client"in t?(("sdkKey"in t||"user"in t)&&Va.Log.warn("Both client and configuration props (sdkKey, user) were provided to StatsigProvider. The client prop will be used and the configuration props will be ignored."),(0,Pn.jsx)(bd,Object.assign({},t))):(0,Pn.jsx)(yd,Object.assign({},t))}oa.StatsigProvider=_d;function yd(t){const[e,r]=(0,It.useState)(0),n=(0,pd.useClientAsyncInit)(t.sdkKey,t.user,t.options).client,[a,i]=(0,It.useState)(!di(n));js(n,r,i);const o=(0,It.useMemo)(()=>({renderVersion:e,client:n,isLoading:a}),[e,n,a]);return(0,Pn.jsx)(Ns.default.Provider,{value:o,children:t.loadingComponent==null||!o.isLoading?t.children:t.loadingComponent})}function bd(t){const[e,r]=(0,It.useState)(0),n=t.client,[a,i]=(0,It.useState)(!di(n));js(n,r,i);const o=(0,It.useMemo)(()=>({renderVersion:e,client:n,isLoading:a}),[e,n,a]);return(0,Pn.jsx)(Ns.default.Provider,{value:o,children:t.loadingComponent==null||!o.isLoading?t.children:t.loadingComponent})}function js(t,e,r){(0,It.useEffect)(()=>{const n=()=>{e(a=>a+1),r(!di(t))};return Va.SDKType._setBindingType("react"),t.$on("values_updated",n),()=>{t.flush().catch(a=>Va.Log.error("An error occurred during flush",a)),t.off("values_updated",n)}},[t,e])}function di(t){if("isNoop"in t)return!0;switch(t.loadingStatus){case"Ready":return!0;default:return!1}}var sa={},Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.useStatsigInternalClientFactoryBootstrap=void 0;const go=m,wd=le;function Sd(t,e){const r=(0,go.useRef)((0,wd._getInstance)(e.sdkKey));return(0,go.useMemo)(()=>{if(r.current)return r.current;const n=t(e);return r.current=n,n.dataAdapter.setData(e.initialValues),n.initializeSync(),n},[])}Xr.useStatsigInternalClientFactoryBootstrap=Sd;Object.defineProperty(sa,"__esModule",{value:!0});sa.useClientBootstrapInit=void 0;const Ed=Zn,Cd=Xr;function kd(t,e,r,n=null){return(0,Cd.useStatsigInternalClientFactoryBootstrap)(a=>new Ed.StatsigClient(a.sdkKey,a.initialUser,a.statsigOptions),{sdkKey:t,initialUser:e,initialValues:r,statsigOptions:n})}sa.useClientBootstrapInit=kd;var fi={};Object.defineProperty(fi,"__esModule",{value:!0});const vo=m,xd=le,po=Re,Rd=Pe;function Dd(t,e){const{client:r,renderVersion:n}=(0,vo.useContext)(Rd.default);return(0,vo.useMemo)(()=>(0,po.isNoopClient)(r)?(xd.Log.warn(`useDynamicConfig hook failed to find a valid StatsigClient for dynamic config '${t}'.`),po.NoopEvaluationsClient.getDynamicConfig(t,e)):r.getDynamicConfig(t,e),[t,r,n,...e?Object.values(e):[]])}fi.default=Dd;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});const _o=m,Od=le,yo=Re,Id=Pe;function Td(t,e){const{client:r,renderVersion:n}=(0,_o.useContext)(Id.default);return(0,_o.useMemo)(()=>(0,yo.isNoopClient)(r)?(Od.Log.warn(`useExperiment hook failed to find a valid Statsig client for experiment '${t}'.`),yo.NoopEvaluationsClient.getExperiment(t,e)):r.getExperiment(t,e),[t,r,n,...e?Object.values(e):[]])}hi.default=Td;var mi={};Object.defineProperty(mi,"__esModule",{value:!0});const bo=m,Ld=le,wo=Re,Pd=Pe;function Md(t,e){const{client:r,renderVersion:n}=(0,bo.useContext)(Pd.default);return(0,bo.useMemo)(()=>(0,wo.isNoopClient)(r)?(Ld.Log.warn(`useFeatureGate hook failed to find a valid StatsigClient for gate '${t}'.`),wo.NoopEvaluationsClient.getFeatureGate(t,e)):r.getFeatureGate(t,e),[t,r,n,...e?Object.values(e):[]])}mi.default=Md;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});const So=m,Ad=le,Eo=Re,Nd=Pe;function jd(t,e){const{client:r,renderVersion:n}=(0,So.useContext)(Nd.default);return(0,So.useMemo)(()=>(0,Eo.isNoopClient)(r)?(Ad.Log.warn(`useGateValue hook failed to find a valid StatsigClient for gate '${t}'.`),Eo.NoopEvaluationsClient.checkGate(t,e)):r.checkGate(t,e),[t,r,n,...e?Object.values(e):[]])}gi.default=jd;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});const Co=m,Ud=le,ko=Re,$d=Pe;function Fd(t,e){const{client:r,renderVersion:n}=(0,Co.useContext)($d.default);return(0,Co.useMemo)(()=>(0,ko.isNoopClient)(r)?(Ud.Log.warn(`useLayer hook failed to find a valid Statsig client for layer '${t}'.`),ko.NoopEvaluationsClient.getLayer(t,e)):r.getLayer(t,e),[t,r,n,...e?Object.values(e):[]])}vi.default=Fd;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});const xo=m,Bd=le,Ro=Re,zd=Pe;function Vd(t,e){const{client:r,renderVersion:n}=(0,xo.useContext)(zd.default);return(0,xo.useMemo)(()=>(0,Ro.isNoopClient)(r)?(Bd.Log.warn(`useParameterStore hook failed to find a valid StatsigClient for parameter store '${t}'.`),Ro.NoopEvaluationsClient.getParameterStore(t,e)):r.getParameterStore(t,e),[t,r,n,...e?Object.values(e):[]])}pi.default=Vd;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.useStatsigClient=void 0;const Ke=m,Kd=le,Do=Re,Zd=Pe;function Hd(){const{client:t,renderVersion:e,isLoading:r}=(0,Ke.useContext)(Zd.default),n=(0,Ke.useMemo)(()=>(0,Do.isNoopClient)(t)?(Kd.Log.warn("Attempting to retrieve a StatsigClient but none was set."),Do.NoopEvaluationsClient):t,[t,e]),a=[n,e],i=(0,Ke.useCallback)((f,h)=>n.checkGate(f,h),a),o=(0,Ke.useCallback)((f,h)=>n.getFeatureGate(f,h),a),s=(0,Ke.useCallback)((f,h)=>n.getDynamicConfig(f,h),a),l=(0,Ke.useCallback)((f,h)=>n.getExperiment(f,h),a),u=(0,Ke.useCallback)((f,h)=>n.getLayer(f,h),a),c=(0,Ke.useCallback)((f,h)=>n.getParameterStore(f,h),a),d=(0,Ke.useCallback)((f,h,p)=>typeof f=="string"?n.logEvent(f,h,p):n.logEvent(f),a);return(0,Ke.useMemo)(()=>({client:n,checkGate:i,getFeatureGate:o,getDynamicConfig:s,getExperiment:l,getLayer:u,getParameterStore:c,logEvent:d,isLoading:r}),[n,i,o,s,l,u,c,d,r])}Qr.useStatsigClient=Hd;var la={};Object.defineProperty(la,"__esModule",{value:!0});la.useStatsigUser=void 0;const gn=m,Gd=Pe,Wd=Qr;function Oa(t){return t.getContext().user}function Jd(){const{client:t}=(0,Wd.useStatsigClient)(),{renderVersion:e}=(0,gn.useContext)(Gd.default);return{user:(0,gn.useMemo)(()=>Oa(t),[t,e]),updateUserSync:(0,gn.useCallback)(n=>(typeof n=="function"&&(n=n(Oa(t))),t.updateUserSync(n)),[t]),updateUserAsync:(0,gn.useCallback)(n=>(typeof n=="function"&&(n=n(Oa(t))),t.updateUserAsync(n)),[t])}}la.useStatsigUser=Jd;(function(t){var e=X&&X.__createBinding||(Object.create?function(y,x,k,C){C===void 0&&(C=k);var v=Object.getOwnPropertyDescriptor(x,k);(!v||("get"in v?!x.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return x[k]}}),Object.defineProperty(y,C,v)}:function(y,x,k,C){C===void 0&&(C=k),y[C]=x[k]}),r=X&&X.__exportStar||function(y,x){for(var k in y)k!=="default"&&!Object.prototype.hasOwnProperty.call(x,k)&&e(x,y,k)};Object.defineProperty(t,"__esModule",{value:!0}),t.useStatsigUser=t.useStatsigInternalClientFactoryBootstrap=t.useStatsigInternalClientFactoryAsync=t.useStatsigClient=t.useParameterStore=t.useLayer=t.useGateValue=t.useFeatureGate=t.useExperiment=t.useDynamicConfig=t.useClientBootstrapInit=t.useClientAsyncInit=t.StatsigProvider=t.StatsigContext=void 0;const n=le,a=Pe;t.StatsigContext=a.default;const i=oa;Object.defineProperty(t,"StatsigProvider",{enumerable:!0,get:function(){return i.StatsigProvider}});const o=qr;Object.defineProperty(t,"useClientAsyncInit",{enumerable:!0,get:function(){return o.useClientAsyncInit}});const s=sa;Object.defineProperty(t,"useClientBootstrapInit",{enumerable:!0,get:function(){return s.useClientBootstrapInit}});const l=fi;t.useDynamicConfig=l.default;const u=hi;t.useExperiment=u.default;const c=mi;t.useFeatureGate=c.default;const d=gi;t.useGateValue=d.default;const f=vi;t.useLayer=f.default;const h=pi;t.useParameterStore=h.default;const p=Qr;Object.defineProperty(t,"useStatsigClient",{enumerable:!0,get:function(){return p.useStatsigClient}});const w=Yr;Object.defineProperty(t,"useStatsigInternalClientFactoryAsync",{enumerable:!0,get:function(){return w.useStatsigInternalClientFactoryAsync}});const S=Xr;Object.defineProperty(t,"useStatsigInternalClientFactoryBootstrap",{enumerable:!0,get:function(){return S.useStatsigInternalClientFactoryBootstrap}});const E=la;Object.defineProperty(t,"useStatsigUser",{enumerable:!0,get:function(){return E.useStatsigUser}}),r(Zn,t),Object.assign((0,n._getStatsigGlobal)(),{StatsigContext:a.default,StatsigProvider:i.StatsigProvider,useClientAsyncInit:o.useClientAsyncInit,useClientBootstrapInit:s.useClientBootstrapInit,useDynamicConfig:l.default,useExperiment:u.default,useFeatureGate:c.default,useGateValue:d.default,useLayer:f.default,useParameterStore:h.default,useStatsigClient:p.useStatsigClient,useStatsigInternalClientFactoryAsync:w.useStatsigInternalClientFactoryAsync,useStatsigInternalClientFactoryBootstrap:S.useStatsigInternalClientFactoryBootstrap,useStatsigUser:E.useStatsigUser})})(od);var qd=-1,Yd=-2,Xd=-3,Qd=-4,ef=-5,tf=-6,rf=-7,nf="B",af="D",Us="E",of="M",sf="N",$s="P",lf="R",uf="S",cf="Y",df="U",ff="Z",Fs=class{constructor(){dn(this,"promise");dn(this,"resolve");dn(this,"reject");this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}};function hf(){const t=new TextDecoder;let e="";return new TransformStream({transform(r,n){const a=t.decode(r,{stream:!0}),i=(e+a).split(`
`);e=i.pop()||"";for(const o of i)n.enqueue(o)},flush(r){e&&r.enqueue(e)}})}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ia=typeof window<"u"?window:typeof globalThis<"u"?globalThis:void 0;function Ka(t){const{hydrated:e,values:r}=this;if(typeof t=="number")return Oo.call(this,t);if(!Array.isArray(t)||!t.length)throw new SyntaxError;const n=r.length;for(const a of t)r.push(a);return e.length=r.length,Oo.call(this,n)}function Oo(t){const{hydrated:e,values:r,deferred:n,plugins:a}=this;let i;const o=[[t,l=>{i=l}]];let s=[];for(;o.length>0;){const[l,u]=o.pop();switch(l){case rf:u(void 0);continue;case ef:u(null);continue;case Yd:u(NaN);continue;case tf:u(1/0);continue;case Xd:u(-1/0);continue;case Qd:u(-0);continue}if(e[l]){u(e[l]);continue}const c=r[l];if(!c||typeof c!="object"){e[l]=c,u(c);continue}if(Array.isArray(c))if(typeof c[0]=="string"){const[d,f,h]=c;switch(d){case af:u(e[l]=new Date(f));continue;case df:u(e[l]=new URL(f));continue;case nf:u(e[l]=BigInt(f));continue;case lf:u(e[l]=new RegExp(f,h));continue;case cf:u(e[l]=Symbol.for(f));continue;case uf:const p=new Set;e[l]=p;for(let k=1;k<c.length;k++)o.push([c[k],C=>{p.add(C)}]);u(p);continue;case of:const w=new Map;e[l]=w;for(let k=1;k<c.length;k+=2){const C=[];o.push([c[k+1],v=>{C[1]=v}]),o.push([c[k],v=>{C[0]=v}]),s.push(()=>{w.set(C[0],C[1])})}u(w);continue;case sf:const S=Object.create(null);e[l]=S;for(const k of Object.keys(f).reverse()){const C=[];o.push([f[k],v=>{C[1]=v}]),o.push([Number(k.slice(1)),v=>{C[0]=v}]),s.push(()=>{S[C[0]]=C[1]})}u(S);continue;case $s:if(e[f])u(e[l]=e[f]);else{const k=new Fs;n[f]=k,u(e[l]=k.promise)}continue;case Us:const[,E,y]=c;let x=y&&Ia&&Ia[y]?new Ia[y](E):new Error(E);e[l]=x,u(x);continue;case ff:u(e[l]=e[f]);continue;default:if(Array.isArray(a)){const k=[],C=c.slice(1);for(let v=0;v<C.length;v++){const P=C[v];o.push([P,V=>{k[v]=V}])}s.push(()=>{for(const v of a){const P=v(c[0],...k);if(P){u(e[l]=P.value);return}}throw new SyntaxError});continue}throw new SyntaxError}}else{const d=[];e[l]=d;for(let f=0;f<c.length;f++){const h=c[f];h!==qd&&o.push([h,p=>{d[f]=p}])}u(d);continue}else{const d={};e[l]=d;for(const f of Object.keys(c).reverse()){const h=[];o.push([c[f],p=>{h[1]=p}]),o.push([Number(f.slice(1)),p=>{h[0]=p}]),s.push(()=>{d[h[0]]=h[1]})}u(d);continue}}for(;s.length>0;)s.pop()();return i}async function mf(t,e){const{plugins:r}=e??{},n=new Fs,a=t.pipeThrough(hf()).getReader(),i={values:[],hydrated:[],deferred:{},plugins:r},o=await gf.call(i,a);let s=n.promise;return o.done?n.resolve():s=vf.call(i,a).then(n.resolve).catch(l=>{for(const u of Object.values(i.deferred))u.reject(l);n.reject(l)}),{done:s.then(()=>a.closed),value:o.value}}async function gf(t){const e=await t.read();if(!e.value)throw new SyntaxError;let r;try{r=JSON.parse(e.value)}catch{throw new SyntaxError}return{done:e.done,value:Ka.call(this,r)}}async function vf(t){let e=await t.read();for(;!e.done;){if(!e.value)continue;const r=e.value;switch(r[0]){case $s:{const n=r.indexOf(":"),a=Number(r.slice(1,n)),i=this.deferred[a];if(!i)throw new Error(`Deferred ID ${a} not found in stream`);const o=r.slice(n+1);let s;try{s=JSON.parse(o)}catch{throw new SyntaxError}const l=Ka.call(this,s);i.resolve(l);break}case Us:{const n=r.indexOf(":"),a=Number(r.slice(1,n)),i=this.deferred[a];if(!i)throw new Error(`Deferred ID ${a} not found in stream`);const o=r.slice(n+1);let s;try{s=JSON.parse(o)}catch{throw new SyntaxError}const l=Ka.call(this,s);i.reject(l);break}default:throw new SyntaxError}e=await t.read()}}var _i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.parse=Ef;_i.serialize=Cf;const pf=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,_f=/^[\u0021-\u003A\u003C-\u007E]*$/,yf=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,bf=/^[\u0020-\u003A\u003D-\u007E]*$/,wf=Object.prototype.toString,Sf=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function Ef(t,e){const r=new Sf,n=t.length;if(n<2)return r;const a=(e==null?void 0:e.decode)||kf;let i=0;do{const o=t.indexOf("=",i);if(o===-1)break;const s=t.indexOf(";",i),l=s===-1?n:s;if(o>l){i=t.lastIndexOf(";",o-1)+1;continue}const u=Io(t,i,o),c=To(t,o,u),d=t.slice(u,c);if(r[d]===void 0){let f=Io(t,o+1,l),h=To(t,l,f);const p=a(t.slice(f,h));r[d]=p}i=l+1}while(i<n);return r}function Io(t,e,r){do{const n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<r);return r}function To(t,e,r){for(;e>r;){const n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return r}function Cf(t,e,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!pf.test(t))throw new TypeError(`argument name is invalid: ${t}`);const a=n(e);if(!_f.test(a))throw new TypeError(`argument val is invalid: ${e}`);let i=t+"="+a;if(!r)return i;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);i+="; Max-Age="+r.maxAge}if(r.domain){if(!yf.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);i+="; Domain="+r.domain}if(r.path){if(!bf.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);i+="; Path="+r.path}if(r.expires){if(!xf(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return i}function kf(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function xf(t){return wf.call(t)==="[object Date]"}/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bs=t=>{throw TypeError(t)},Rf=(t,e,r)=>e.has(t)||Bs("Cannot "+r),Ta=(t,e,r)=>(Rf(t,e,"read from private field"),r?r.call(t):e.get(t)),Df=(t,e,r)=>e.has(t)?Bs("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Lo="popstate";function Gg(t={}){function e(n,a){let{pathname:i,search:o,hash:s}=n.location;return Dr("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ct(a)}return If(e,r,null,t)}function Z(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function se(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Of(){return Math.random().toString(36).substring(2,10)}function Po(t,e){return{usr:t.state,key:t.key,idx:e}}function Dr(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pt(e):e,state:r,key:e&&e.key||n||Of()}}function ct({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function pt(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function If(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){s="POP";let S=c(),E=S==null?null:S-u;u=S,l&&l({action:s,location:w.location,delta:E})}function f(S,E){s="PUSH";let y=Dr(w.location,S,E);u=c()+1;let x=Po(y,u),k=w.createHref(y);try{o.pushState(x,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(k)}i&&l&&l({action:s,location:w.location,delta:1})}function h(S,E){s="REPLACE";let y=Dr(w.location,S,E);u=c();let x=Po(y,u),k=w.createHref(y);o.replaceState(x,"",k),i&&l&&l({action:s,location:w.location,delta:0})}function p(S){let E=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof S=="string"?S:ct(S);return y=y.replace(/ $/,"%20"),Z(E,`No window.location.(origin|href) available to create URL for href: ${y}`),new URL(y,E)}let w={get action(){return s},get location(){return t(a,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Lo,d),l=S,()=>{a.removeEventListener(Lo,d),l=null}},createHref(S){return e(a,S)},createURL:p,encodeLocation(S){let E=p(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:h,go(S){return o.go(S)}};return w}var Sr,Mo=class{constructor(t){if(Df(this,Sr,new Map),t)for(let[e,r]of t)this.set(e,r)}get(t){if(Ta(this,Sr).has(t))return Ta(this,Sr).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Ta(this,Sr).set(t,e)}};Sr=new WeakMap;var Tf=new Set(["lazy","caseSensitive","path","id","index","children"]);function Lf(t){return Tf.has(t)}var Pf=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Mf(t){return Pf.has(t)}function Af(t){return t.index===!0}function Mn(t,e,r=[],n={}){return t.map((a,i)=>{let o=[...r,String(i)],s=typeof a.id=="string"?a.id:o.join("-");if(Z(a.index!==!0||!a.children,"Cannot specify children on an index route"),Z(!n[s],`Found a route id collision on id "${s}".  Route id's must be globally unique within Data Router usages`),Af(a)){let l={...a,...e(a),id:s};return n[s]=l,l}else{let l={...a,...e(a),id:s,children:void 0};return n[s]=l,a.children&&(l.children=Mn(a.children,e,o,n)),l}})}function Ze(t,e,r="/"){return xn(t,e,r,!1)}function xn(t,e,r,n){let a=typeof e=="string"?pt(e):e,i=De(a.pathname||"/",r);if(i==null)return null;let o=Vs(t);Nf(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=Hf(i);s=Zf(o[l],u,n)}return s}function zs(t,e){let{route:r,pathname:n,params:a}=t;return{id:r.id,pathname:n,params:a,data:e[r.id],handle:r.handle}}function Vs(t,e=[],r=[],n=""){let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Z(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=He([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(Z(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Vs(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Vf(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of Ks(i.path))a(i,o,l)}),e}function Ks(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Ks(n.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function Nf(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Kf(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var jf=/^:[\w-]+$/,Uf=3,$f=2,Ff=1,Bf=10,zf=-2,Ao=t=>t==="*";function Vf(t,e){let r=t.split("/"),n=r.length;return r.some(Ao)&&(n+=zf),e&&(n+=$f),r.filter(a=>!Ao(a)).reduce((a,i)=>a+(jf.test(i)?Uf:i===""?Ff:Bf),n)}function Kf(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function Zf(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=An({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=An({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:He([i,d.pathname]),pathnameBase:Jf(He([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=He([i,d.pathnameBase]))}return o}function An(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Zs(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let p=s[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const h=s[f];return d&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Zs(t,e=!1,r=!0){se(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function Hf(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return se(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function De(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Gf(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?pt(t):t;return{pathname:r?r.startsWith("/")?r:Wf(r,e):e,search:qf(n),hash:Yf(a)}}function Wf(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function La(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hs(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function yi(t){let e=Hs(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function bi(t,e,r,n=!1){let a;typeof t=="string"?a=pt(t):(a={...t},Z(!a.pathname||!a.pathname.includes("?"),La("?","pathname","search",a)),Z(!a.pathname||!a.pathname.includes("#"),La("#","pathname","hash",a)),Z(!a.search||!a.search.includes("#"),La("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;a.pathname=f.join("/")}s=d>=0?e[d]:"/"}let l=Gf(a,s),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var He=t=>t.join("/").replace(/\/\/+/g,"/"),Jf=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qf=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Yf=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Xf=class{constructor(t,e){this.type="DataWithResponseInit",this.data=t,this.init=e||null}};function Qf(t,e){return new Xf(t,typeof e=="number"?{status:e}:e)}var Gs=(t,e=302)=>{let r=e;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let n=new Headers(r.headers);return n.set("Location",t),new Response(null,{...r,headers:n})},Wg=(t,e)=>{let r=Gs(t,e);return r.headers.set("X-Remix-Reload-Document","true"),r},dt=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Mt(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Ws=["POST","PUT","PATCH","DELETE"],eh=new Set(Ws),th=["GET",...Ws],rh=new Set(th),nh=new Set([301,302,303,307,308]),ah=new Set([307,308]),Pa={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Js={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wi=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ih=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),qs="remix-router-transitions",Ys=Symbol("ResetLoaderData");function Jg(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Z(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=t.hydrationRouteProperties||[],a=t.mapRouteProperties||ih,i={},o=Mn(t.routes,a,void 0,i),s,l=t.basename||"/",u=t.dataStrategy||ch,c={unstable_middleware:!1,...t.future},d=null,f=new Set,h=null,p=null,w=null,S=t.hydrationData!=null,E=Ze(o,t.history.location,l),y=!1,x=null;if(E==null&&!t.patchRoutesOnNavigation){let g=Le(404,{pathname:t.history.location.pathname}),{matches:_,route:b}=Go(o);E=_,x={[b.id]:g}}E&&!t.hydrationData&&sn(E,o,t.history.location.pathname).active&&(E=null);let k;if(E)if(E.some(g=>g.route.lazy))k=!1;else if(!E.some(g=>g.route.loader))k=!0;else{let g=t.hydrationData?t.hydrationData.loaderData:null,_=t.hydrationData?t.hydrationData.errors:null;if(_){let b=E.findIndex(R=>_[R.route.id]!==void 0);k=E.slice(0,b+1).every(R=>!Ha(R.route,g,_))}else k=E.every(b=>!Ha(b.route,g,_))}else{k=!1,E=[];let g=sn(null,o,t.history.location.pathname);g.active&&g.matches&&(y=!0,E=g.matches)}let C,v={historyAction:t.history.action,location:t.history.location,matches:E,initialized:k,navigation:Pa,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},P="POP",V=!1,z,re=!1,ie=new Map,fe=null,q=!1,ne=!1,ce=new Set,ee=new Map,Oe=0,Ne=-1,we=new Map,ve=new Set,je=new Map,cr=new Map,Ve=new Set,_t=new Map,an,yt=null;function Bl(){if(d=t.history.listen(({action:g,location:_,delta:b})=>{if(an){an(),an=void 0;return}se(_t.size===0||b!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let R=Ki({currentLocation:v.location,nextLocation:_,historyAction:g});if(R&&b!=null){let O=new Promise(A=>{an=A});t.history.go(b*-1),on(R,{state:"blocked",location:_,proceed(){on(R,{state:"proceeding",proceed:void 0,reset:void 0,location:_}),O.then(()=>t.history.go(b))},reset(){let A=new Map(v.blockers);A.set(R,yr),pe({blockers:A})}});return}return bt(g,_)}),r){wh(e,ie);let g=()=>Sh(e,ie);e.addEventListener("pagehide",g),fe=()=>e.removeEventListener("pagehide",g)}return v.initialized||bt("POP",v.location,{initialHydration:!0}),C}function zl(){d&&d(),fe&&fe(),f.clear(),z&&z.abort(),v.fetchers.forEach((g,_)=>va(_)),v.blockers.forEach((g,_)=>Vi(_))}function Vl(g){return f.add(g),()=>f.delete(g)}function pe(g,_={}){v={...v,...g};let b=[],R=[];v.fetchers.forEach((O,A)=>{O.state==="idle"&&(Ve.has(A)?b.push(A):R.push(A))}),Ve.forEach(O=>{!v.fetchers.has(O)&&!ee.has(O)&&b.push(O)}),[...f].forEach(O=>O(v,{deletedFetchers:b,viewTransitionOpts:_.viewTransitionOpts,flushSync:_.flushSync===!0})),b.forEach(O=>va(O)),R.forEach(O=>v.fetchers.delete(O))}function Ft(g,_,{flushSync:b}={}){var U,K;let R=v.actionData!=null&&v.navigation.formMethod!=null&&Ce(v.navigation.formMethod)&&v.navigation.state==="loading"&&((U=g.state)==null?void 0:U._isRedirect)!==!0,O;_.actionData?Object.keys(_.actionData).length>0?O=_.actionData:O=null:R?O=v.actionData:O=null;let A=_.loaderData?Zo(v.loaderData,_.loaderData,_.matches||[],_.errors):v.loaderData,B=v.blockers;B.size>0&&(B=new Map(B),B.forEach((j,G)=>B.set(G,yr)));let L=V===!0||v.navigation.formMethod!=null&&Ce(v.navigation.formMethod)&&((K=g.state)==null?void 0:K._isRedirect)!==!0;s&&(o=s,s=void 0),q||P==="POP"||(P==="PUSH"?t.history.push(g,g.state):P==="REPLACE"&&t.history.replace(g,g.state));let N;if(P==="POP"){let j=ie.get(v.location.pathname);j&&j.has(g.pathname)?N={currentLocation:v.location,nextLocation:g}:ie.has(g.pathname)&&(N={currentLocation:g,nextLocation:v.location})}else if(re){let j=ie.get(v.location.pathname);j?j.add(g.pathname):(j=new Set([g.pathname]),ie.set(v.location.pathname,j)),N={currentLocation:v.location,nextLocation:g}}pe({..._,actionData:O,loaderData:A,historyAction:P,location:g,initialized:!0,navigation:Pa,revalidation:"idle",restoreScrollPosition:Hi(g,_.matches||v.matches),preventScrollReset:L,blockers:B},{viewTransitionOpts:N,flushSync:b===!0}),P="POP",V=!1,re=!1,q=!1,ne=!1,yt==null||yt.resolve(),yt=null}async function Ni(g,_){if(typeof g=="number"){t.history.go(g);return}let b=Za(v.location,v.matches,l,g,_==null?void 0:_.fromRouteId,_==null?void 0:_.relative),{path:R,submission:O,error:A}=No(!1,b,_),B=v.location,L=Dr(v.location,R,_&&_.state);L={...L,...t.history.encodeLocation(L)};let N=_&&_.replace!=null?_.replace:void 0,U="PUSH";N===!0?U="REPLACE":N===!1||O!=null&&Ce(O.formMethod)&&O.formAction===v.location.pathname+v.location.search&&(U="REPLACE");let K=_&&"preventScrollReset"in _?_.preventScrollReset===!0:void 0,j=(_&&_.flushSync)===!0,G=Ki({currentLocation:B,nextLocation:L,historyAction:U});if(G){on(G,{state:"blocked",location:L,proceed(){on(G,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),Ni(g,_)},reset(){let ae=new Map(v.blockers);ae.set(G,yr),pe({blockers:ae})}});return}await bt(U,L,{submission:O,pendingError:A,preventScrollReset:K,replace:_&&_.replace,enableViewTransition:_&&_.viewTransition,flushSync:j})}function Kl(){yt||(yt=Eh()),ga(),pe({revalidation:"loading"});let g=yt.promise;return v.navigation.state==="submitting"?g:v.navigation.state==="idle"?(bt(v.historyAction,v.location,{startUninterruptedRevalidation:!0}),g):(bt(P||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation,enableViewTransition:re===!0}),g)}async function bt(g,_,b){z&&z.abort(),z=null,P=g,q=(b&&b.startUninterruptedRevalidation)===!0,eu(v.location,v.matches),V=(b&&b.preventScrollReset)===!0,re=(b&&b.enableViewTransition)===!0;let R=s||o,O=b&&b.overrideNavigation,A=b!=null&&b.initialHydration&&v.matches&&v.matches.length>0&&!y?v.matches:Ze(R,_,l),B=(b&&b.flushSync)===!0;if(A&&v.initialized&&!ne&&vh(v.location,_)&&!(b&&b.submission&&Ce(b.submission.formMethod))){Ft(_,{matches:A},{flushSync:B});return}let L=sn(A,R,_.pathname);if(L.active&&L.matches&&(A=L.matches),!A){let{error:he,notFoundMatches:Se,route:Q}=pa(_.pathname);Ft(_,{matches:Se,loaderData:{},errors:{[Q.id]:he}},{flushSync:B});return}z=new AbortController;let N=Gt(t.history,_,z.signal,b&&b.submission),U=new Mo(t.unstable_getContext?await t.unstable_getContext():void 0),K;if(b&&b.pendingError)K=[Dt(A).route.id,{type:"error",error:b.pendingError}];else if(b&&b.submission&&Ce(b.submission.formMethod)){let he=await Zl(N,_,b.submission,A,U,L.active,b&&b.initialHydration===!0,{replace:b.replace,flushSync:B});if(he.shortCircuited)return;if(he.pendingActionResult){let[Se,Q]=he.pendingActionResult;if(Ee(Q)&&Mt(Q.error)&&Q.error.status===404){z=null,Ft(_,{matches:he.matches,loaderData:{},errors:{[Se]:Q.error}});return}}A=he.matches||A,K=he.pendingActionResult,O=Ma(_,b.submission),B=!1,L.active=!1,N=Gt(t.history,N.url,N.signal)}let{shortCircuited:j,matches:G,loaderData:ae,errors:de}=await Hl(N,_,A,U,L.active,O,b&&b.submission,b&&b.fetcherSubmission,b&&b.replace,b&&b.initialHydration===!0,B,K);j||(z=null,Ft(_,{matches:G||A,...Ho(K),loaderData:ae,errors:de}))}async function Zl(g,_,b,R,O,A,B,L={}){ga();let N=yh(_,b);if(pe({navigation:N},{flushSync:L.flushSync===!0}),A){let j=await ln(R,_.pathname,g.signal);if(j.type==="aborted")return{shortCircuited:!0};if(j.type==="error"){let G=Dt(j.partialMatches).route.id;return{matches:j.partialMatches,pendingActionResult:[G,{type:"error",error:j.error}]}}else if(j.matches)R=j.matches;else{let{notFoundMatches:G,error:ae,route:de}=pa(_.pathname);return{matches:G,pendingActionResult:[de.id,{type:"error",error:ae}]}}}let U,K=Er(R,_);if(!K.route.action&&!K.route.lazy)U={type:"error",error:Le(405,{method:g.method,pathname:_.pathname,routeId:K.route.id})};else{let j=qt(a,i,g,R,K,B?[]:n,O),G=await dr(g,j,O,null);if(U=G[K.route.id],!U){for(let ae of R)if(G[ae.route.id]){U=G[ae.route.id];break}}if(g.signal.aborted)return{shortCircuited:!0}}if(Ot(U)){let j;return L&&L.replace!=null?j=L.replace:j=zo(U.response.headers.get("Location"),new URL(g.url),l)===v.location.pathname+v.location.search,await wt(g,U,!0,{submission:b,replace:j}),{shortCircuited:!0}}if(Ee(U)){let j=Dt(R,K.route.id);return(L&&L.replace)!==!0&&(P="PUSH"),{matches:R,pendingActionResult:[j.route.id,U,K.route.id]}}return{matches:R,pendingActionResult:[K.route.id,U]}}async function Hl(g,_,b,R,O,A,B,L,N,U,K,j){let G=A||Ma(_,B),ae=B||L||Jo(G),de=!q&&!U;if(O){if(de){let Te=ji(j);pe({navigation:G,...Te!==void 0?{actionData:Te}:{}},{flushSync:K})}let te=await ln(b,_.pathname,g.signal);if(te.type==="aborted")return{shortCircuited:!0};if(te.type==="error"){let Te=Dt(te.partialMatches).route.id;return{matches:te.partialMatches,loaderData:{},errors:{[Te]:te.error}}}else if(te.matches)b=te.matches;else{let{error:Te,notFoundMatches:it,route:cn}=pa(_.pathname);return{matches:it,loaderData:{},errors:{[cn.id]:Te}}}}let he=s||o,{dsMatches:Se,revalidatingFetchers:Q}=jo(g,R,a,i,t.history,v,b,ae,_,U?[]:n,U===!0,ne,ce,Ve,je,ve,he,l,j);if(Ne=++Oe,!t.dataStrategy&&!Se.some(te=>te.shouldLoad)&&Q.length===0){let te=Bi();return Ft(_,{matches:b,loaderData:{},errors:j&&Ee(j[1])?{[j[0]]:j[1].error}:null,...Ho(j),...te?{fetchers:new Map(v.fetchers)}:{}},{flushSync:K}),{shortCircuited:!0}}if(de){let te={};if(!O){te.navigation=G;let Te=ji(j);Te!==void 0&&(te.actionData=Te)}Q.length>0&&(te.fetchers=Gl(Q)),pe(te,{flushSync:K})}Q.forEach(te=>{at(te.key),te.controller&&ee.set(te.key,te.controller)});let fr=()=>Q.forEach(te=>at(te.key));z&&z.signal.addEventListener("abort",fr);let{loaderResults:St,fetcherResults:hr}=await Ui(Se,Q,g,R);if(g.signal.aborted)return{shortCircuited:!0};z&&z.signal.removeEventListener("abort",fr),Q.forEach(te=>ee.delete(te.key));let Ie=vn(St);if(Ie)return await wt(g,Ie.result,!0,{replace:N}),{shortCircuited:!0};if(Ie=vn(hr),Ie)return ve.add(Ie.key),await wt(g,Ie.result,!0,{replace:N}),{shortCircuited:!0};let{loaderData:mr,errors:gr}=Ko(v,b,St,j,Q,hr);U&&v.errors&&(gr={...v.errors,...gr});let _a=Bi(),Et=zi(Ne),un=_a||Et||Q.length>0;return{matches:b,loaderData:mr,errors:gr,...un?{fetchers:new Map(v.fetchers)}:{}}}function ji(g){if(g&&!Ee(g[1]))return{[g[0]]:g[1].data};if(v.actionData)return Object.keys(v.actionData).length===0?null:v.actionData}function Gl(g){return g.forEach(_=>{let b=v.fetchers.get(_.key),R=br(void 0,b?b.data:void 0);v.fetchers.set(_.key,R)}),new Map(v.fetchers)}async function Wl(g,_,b,R){at(g);let O=(R&&R.flushSync)===!0,A=s||o,B=Za(v.location,v.matches,l,b,_,R==null?void 0:R.relative),L=Ze(A,B,l),N=sn(L,A,B);if(N.active&&N.matches&&(L=N.matches),!L){qe(g,_,Le(404,{pathname:B}),{flushSync:O});return}let{path:U,submission:K,error:j}=No(!0,B,R);if(j){qe(g,_,j,{flushSync:O});return}let G=Er(L,U),ae=new Mo(t.unstable_getContext?await t.unstable_getContext():void 0),de=(R&&R.preventScrollReset)===!0;if(K&&Ce(K.formMethod)){await Jl(g,_,U,G,L,ae,N.active,O,de,K);return}je.set(g,{routeId:_,path:U}),await ql(g,_,U,G,L,ae,N.active,O,de,K)}async function Jl(g,_,b,R,O,A,B,L,N,U){ga(),je.delete(g);function K(ue){if(!ue.route.action&&!ue.route.lazy){let Bt=Le(405,{method:U.formMethod,pathname:b,routeId:_});return qe(g,_,Bt,{flushSync:L}),!0}return!1}if(!B&&K(R))return;let j=v.fetchers.get(g);nt(g,bh(U,j),{flushSync:L});let G=new AbortController,ae=Gt(t.history,b,G.signal,U);if(B){let ue=await ln(O,b,ae.signal,g);if(ue.type==="aborted")return;if(ue.type==="error"){qe(g,_,ue.error,{flushSync:L});return}else if(ue.matches){if(O=ue.matches,R=Er(O,b),K(R))return}else{qe(g,_,Le(404,{pathname:b}),{flushSync:L});return}}ee.set(g,G);let de=Oe,he=qt(a,i,ae,O,R,n,A),Q=(await dr(ae,he,A,g))[R.route.id];if(ae.signal.aborted){ee.get(g)===G&&ee.delete(g);return}if(Ve.has(g)){if(Ot(Q)||Ee(Q)){nt(g,st(void 0));return}}else{if(Ot(Q))if(ee.delete(g),Ne>de){nt(g,st(void 0));return}else return ve.add(g),nt(g,br(U)),wt(ae,Q,!1,{fetcherSubmission:U,preventScrollReset:N});if(Ee(Q)){qe(g,_,Q.error);return}}let fr=v.navigation.location||v.location,St=Gt(t.history,fr,G.signal),hr=s||o,Ie=v.navigation.state!=="idle"?Ze(hr,v.navigation.location,l):v.matches;Z(Ie,"Didn't find any matches after fetcher action");let mr=++Oe;we.set(g,mr);let gr=br(U,Q.data);v.fetchers.set(g,gr);let{dsMatches:_a,revalidatingFetchers:Et}=jo(St,A,a,i,t.history,v,Ie,U,fr,n,!1,ne,ce,Ve,je,ve,hr,l,[R.route.id,Q]);Et.filter(ue=>ue.key!==g).forEach(ue=>{let Bt=ue.key,Gi=v.fetchers.get(Bt),nu=br(void 0,Gi?Gi.data:void 0);v.fetchers.set(Bt,nu),at(Bt),ue.controller&&ee.set(Bt,ue.controller)}),pe({fetchers:new Map(v.fetchers)});let un=()=>Et.forEach(ue=>at(ue.key));G.signal.addEventListener("abort",un);let{loaderResults:te,fetcherResults:Te}=await Ui(_a,Et,St,A);if(G.signal.aborted)return;G.signal.removeEventListener("abort",un),we.delete(g),ee.delete(g),Et.forEach(ue=>ee.delete(ue.key));let it=vn(te);if(it)return wt(St,it.result,!1,{preventScrollReset:N});if(it=vn(Te),it)return ve.add(it.key),wt(St,it.result,!1,{preventScrollReset:N});let{loaderData:cn,errors:ya}=Ko(v,Ie,te,void 0,Et,Te);if(v.fetchers.has(g)){let ue=st(Q.data);v.fetchers.set(g,ue)}zi(mr),v.navigation.state==="loading"&&mr>Ne?(Z(P,"Expected pending action"),z&&z.abort(),Ft(v.navigation.location,{matches:Ie,loaderData:cn,errors:ya,fetchers:new Map(v.fetchers)})):(pe({errors:ya,loaderData:Zo(v.loaderData,cn,Ie,ya),fetchers:new Map(v.fetchers)}),ne=!1)}async function ql(g,_,b,R,O,A,B,L,N,U){let K=v.fetchers.get(g);nt(g,br(U,K?K.data:void 0),{flushSync:L});let j=new AbortController,G=Gt(t.history,b,j.signal);if(B){let Q=await ln(O,b,G.signal,g);if(Q.type==="aborted")return;if(Q.type==="error"){qe(g,_,Q.error,{flushSync:L});return}else if(Q.matches)O=Q.matches,R=Er(O,b);else{qe(g,_,Le(404,{pathname:b}),{flushSync:L});return}}ee.set(g,j);let ae=Oe,de=qt(a,i,G,O,R,n,A),Se=(await dr(G,de,A,g))[R.route.id];if(ee.get(g)===j&&ee.delete(g),!G.signal.aborted){if(Ve.has(g)){nt(g,st(void 0));return}if(Ot(Se))if(Ne>ae){nt(g,st(void 0));return}else{ve.add(g),await wt(G,Se,!1,{preventScrollReset:N});return}if(Ee(Se)){qe(g,_,Se.error);return}nt(g,st(Se.data))}}async function wt(g,_,b,{submission:R,fetcherSubmission:O,preventScrollReset:A,replace:B}={}){_.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let L=_.response.headers.get("Location");Z(L,"Expected a Location header on the redirect Response"),L=zo(L,new URL(g.url),l);let N=Dr(v.location,L,{_isRedirect:!0});if(r){let de=!1;if(_.response.headers.has("X-Remix-Reload-Document"))de=!0;else if(wi.test(L)){const he=t.history.createURL(L);de=he.origin!==e.location.origin||De(he.pathname,l)==null}if(de){B?e.location.replace(L):e.location.assign(L);return}}z=null;let U=B===!0||_.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:K,formAction:j,formEncType:G}=v.navigation;!R&&!O&&K&&j&&G&&(R=Jo(v.navigation));let ae=R||O;if(ah.has(_.response.status)&&ae&&Ce(ae.formMethod))await bt(U,N,{submission:{...ae,formAction:L},preventScrollReset:A||V,enableViewTransition:b?re:void 0});else{let de=Ma(N,R);await bt(U,N,{overrideNavigation:de,fetcherSubmission:O,preventScrollReset:A||V,enableViewTransition:b?re:void 0})}}async function dr(g,_,b,R){let O,A={};try{O=await dh(u,g,_,R,b,!1)}catch(B){return _.filter(L=>L.shouldLoad).forEach(L=>{A[L.route.id]={type:"error",error:B}}),A}for(let[B,L]of Object.entries(O))if(ph(L)){let N=L.result;A[B]={type:"redirect",response:mh(N,g,B,_,l)}}else A[B]=await hh(L);return A}async function Ui(g,_,b,R){let O=dr(b,g,R,null),A=Promise.all(_.map(async N=>{if(N.matches&&N.match&&N.request&&N.controller){let K=(await dr(N.request,N.matches,R,N.key))[N.match.route.id];return{[N.key]:K}}else return Promise.resolve({[N.key]:{type:"error",error:Le(404,{pathname:N.path})}})})),B=await O,L=(await A).reduce((N,U)=>Object.assign(N,U),{});return{loaderResults:B,fetcherResults:L}}function ga(){ne=!0,je.forEach((g,_)=>{ee.has(_)&&ce.add(_),at(_)})}function nt(g,_,b={}){v.fetchers.set(g,_),pe({fetchers:new Map(v.fetchers)},{flushSync:(b&&b.flushSync)===!0})}function qe(g,_,b,R={}){let O=Dt(v.matches,_);va(g),pe({errors:{[O.route.id]:b},fetchers:new Map(v.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function $i(g){return cr.set(g,(cr.get(g)||0)+1),Ve.has(g)&&Ve.delete(g),v.fetchers.get(g)||Js}function va(g){let _=v.fetchers.get(g);ee.has(g)&&!(_&&_.state==="loading"&&we.has(g))&&at(g),je.delete(g),we.delete(g),ve.delete(g),Ve.delete(g),ce.delete(g),v.fetchers.delete(g)}function Yl(g){let _=(cr.get(g)||0)-1;_<=0?(cr.delete(g),Ve.add(g)):cr.set(g,_),pe({fetchers:new Map(v.fetchers)})}function at(g){let _=ee.get(g);_&&(_.abort(),ee.delete(g))}function Fi(g){for(let _ of g){let b=$i(_),R=st(b.data);v.fetchers.set(_,R)}}function Bi(){let g=[],_=!1;for(let b of ve){let R=v.fetchers.get(b);Z(R,`Expected fetcher: ${b}`),R.state==="loading"&&(ve.delete(b),g.push(b),_=!0)}return Fi(g),_}function zi(g){let _=[];for(let[b,R]of we)if(R<g){let O=v.fetchers.get(b);Z(O,`Expected fetcher: ${b}`),O.state==="loading"&&(at(b),we.delete(b),_.push(b))}return Fi(_),_.length>0}function Xl(g,_){let b=v.blockers.get(g)||yr;return _t.get(g)!==_&&_t.set(g,_),b}function Vi(g){v.blockers.delete(g),_t.delete(g)}function on(g,_){let b=v.blockers.get(g)||yr;Z(b.state==="unblocked"&&_.state==="blocked"||b.state==="blocked"&&_.state==="blocked"||b.state==="blocked"&&_.state==="proceeding"||b.state==="blocked"&&_.state==="unblocked"||b.state==="proceeding"&&_.state==="unblocked",`Invalid blocker state transition: ${b.state} -> ${_.state}`);let R=new Map(v.blockers);R.set(g,_),pe({blockers:R})}function Ki({currentLocation:g,nextLocation:_,historyAction:b}){if(_t.size===0)return;_t.size>1&&se(!1,"A router only supports one blocker at a time");let R=Array.from(_t.entries()),[O,A]=R[R.length-1],B=v.blockers.get(O);if(!(B&&B.state==="proceeding")&&A({currentLocation:g,nextLocation:_,historyAction:b}))return O}function pa(g){let _=Le(404,{pathname:g}),b=s||o,{matches:R,route:O}=Go(b);return{notFoundMatches:R,route:O,error:_}}function Ql(g,_,b){if(h=g,w=_,p=b||null,!S&&v.navigation===Pa){S=!0;let R=Hi(v.location,v.matches);R!=null&&pe({restoreScrollPosition:R})}return()=>{h=null,w=null,p=null}}function Zi(g,_){return p&&p(g,_.map(R=>zs(R,v.loaderData)))||g.key}function eu(g,_){if(h&&w){let b=Zi(g,_);h[b]=w()}}function Hi(g,_){if(h){let b=Zi(g,_),R=h[b];if(typeof R=="number")return R}return null}function sn(g,_,b){if(t.patchRoutesOnNavigation)if(g){if(Object.keys(g[0].params).length>0)return{active:!0,matches:xn(_,b,l,!0)}}else return{active:!0,matches:xn(_,b,l,!0)||[]};return{active:!1,matches:null}}async function ln(g,_,b,R){if(!t.patchRoutesOnNavigation)return{type:"success",matches:g};let O=g;for(;;){let A=s==null,B=s||o,L=i;try{await t.patchRoutesOnNavigation({signal:b,path:_,matches:O,fetcherKey:R,patch:(K,j)=>{b.aborted||Uo(K,j,B,L,a)}})}catch(K){return{type:"error",error:K,partialMatches:O}}finally{A&&!b.aborted&&(o=[...o])}if(b.aborted)return{type:"aborted"};let N=Ze(B,_,l);if(N)return{type:"success",matches:N};let U=xn(B,_,l,!0);if(!U||O.length===U.length&&O.every((K,j)=>K.route.id===U[j].route.id))return{type:"success",matches:null};O=U}}function tu(g){i={},s=Mn(g,a,void 0,i)}function ru(g,_){let b=s==null;Uo(g,_,s||o,i,a),b&&(o=[...o],pe({}))}return C={get basename(){return l},get future(){return c},get state(){return v},get routes(){return o},get window(){return e},initialize:Bl,subscribe:Vl,enableScrollRestoration:Ql,navigate:Ni,fetch:Wl,revalidate:Kl,createHref:g=>t.history.createHref(g),encodeLocation:g=>t.history.encodeLocation(g),getFetcher:$i,deleteFetcher:Yl,dispose:zl,getBlocker:Xl,deleteBlocker:Vi,patchRoutes:ru,_internalFetchControllers:ee,_internalSetRoutes:tu},C}function oh(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Za(t,e,r,n,a,i){let o,s;if(a){o=[];for(let u of e)if(o.push(u),u.route.id===a){s=u;break}}else o=e,s=e[e.length-1];let l=bi(n||".",yi(o),De(t.pathname,r)||t.pathname,i==="path");if(n==null&&(l.search=t.search,l.hash=t.hash),(n==null||n===""||n===".")&&s){let u=Ei(l.search);if(s.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&u){let c=new URLSearchParams(l.search),d=c.getAll("index");c.delete("index"),d.filter(h=>h).forEach(h=>c.append("index",h));let f=c.toString();l.search=f?`?${f}`:""}}return r!=="/"&&(l.pathname=l.pathname==="/"?r:He([r,l.pathname])),ct(l)}function No(t,e,r){if(!r||!oh(r))return{path:e};if(r.formMethod&&!_h(r.formMethod))return{path:e,error:Le(405,{method:r.formMethod})};let n=()=>({path:e,error:Le(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),o=nl(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ce(i))return n();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,[h,p])=>`${f}${h}=${p}
`,""):String(r.body);return{path:e,submission:{formMethod:i,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Ce(i))return n();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:i,formAction:o,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return n()}}}Z(typeof FormData=="function","FormData is not available in this environment");let s,l;if(r.formData)s=Wa(r.formData),l=r.formData;else if(r.body instanceof FormData)s=Wa(r.body),l=r.body;else if(r.body instanceof URLSearchParams)s=r.body,l=Vo(s);else if(r.body==null)s=new URLSearchParams,l=new FormData;else try{s=new URLSearchParams(r.body),l=Vo(s)}catch{return n()}let u={formMethod:i,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Ce(u.formMethod))return{path:e,submission:u};let c=pt(e);return t&&c.search&&Ei(c.search)&&s.append("index",""),c.search=`?${s}`,{path:ct(c),submission:u}}function jo(t,e,r,n,a,i,o,s,l,u,c,d,f,h,p,w,S,E,y){var fe;let x=y?Ee(y[1])?y[1].error:y[1].data:void 0,k=a.createURL(i.location),C=a.createURL(l),v;if(c&&i.errors){let q=Object.keys(i.errors)[0];v=o.findIndex(ne=>ne.route.id===q)}else if(y&&Ee(y[1])){let q=y[0];v=o.findIndex(ne=>ne.route.id===q)-1}let P=y?y[1].statusCode:void 0,V=P&&P>=400,z={currentUrl:k,currentParams:((fe=i.matches[0])==null?void 0:fe.params)||{},nextUrl:C,nextParams:o[0].params,...s,actionResult:x,actionStatus:P},re=o.map((q,ne)=>{let{route:ce}=q,ee=null;if(v!=null&&ne>v?ee=!1:ce.lazy?ee=!0:ce.loader==null?ee=!1:c?ee=Ha(ce,i.loaderData,i.errors):sh(i.loaderData,i.matches[ne],q)&&(ee=!0),ee!==null)return Ga(r,n,t,q,u,e,ee);let Oe=V?!1:d||k.pathname+k.search===C.pathname+C.search||k.search!==C.search||lh(i.matches[ne],q),Ne={...z,defaultShouldRevalidate:Oe},we=Nn(q,Ne);return Ga(r,n,t,q,u,e,we,Ne)}),ie=[];return p.forEach((q,ne)=>{if(c||!o.some(je=>je.route.id===q.routeId)||h.has(ne))return;let ce=Ze(S,q.path,E);if(!ce){ie.push({key:ne,routeId:q.routeId,path:q.path,matches:null,match:null,request:null,controller:null});return}if(w.has(ne))return;let ee=i.fetchers.get(ne),Oe=Er(ce,q.path),Ne=new AbortController,we=Gt(a,q.path,Ne.signal),ve=null;if(f.has(ne))f.delete(ne),ve=qt(r,n,we,ce,Oe,u,e);else if(ee&&ee.state!=="idle"&&ee.data===void 0)d&&(ve=qt(r,n,we,ce,Oe,u,e));else{let je={...z,defaultShouldRevalidate:V?!1:d};Nn(Oe,je)&&(ve=qt(r,n,we,ce,Oe,u,e,je))}ve&&ie.push({key:ne,routeId:q.routeId,path:q.path,matches:ve,match:Oe,request:we,controller:Ne})}),{dsMatches:re,revalidatingFetchers:ie}}function Ha(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,a=r!=null&&r[t.id]!==void 0;return!n&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!a}function sh(t,e,r){let n=!e||r.route.id!==e.route.id,a=!t.hasOwnProperty(r.route.id);return n||a}function lh(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function Nn(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function Uo(t,e,r,n,a){let i;if(t){let l=n[t];Z(l,`No route found to patch children into: routeId = ${t}`),l.children||(l.children=[]),i=l.children}else i=r;let o=e.filter(l=>!i.some(u=>Xs(l,u))),s=Mn(o,a,[t||"_","patch",String((i==null?void 0:i.length)||"0")],n);i.push(...s)}function Xs(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var a;return(a=e.children)==null?void 0:a.some(i=>Xs(r,i))}):!1}var $o=new WeakMap,Qs=({key:t,route:e,manifest:r,mapRouteProperties:n})=>{let a=r[e.id];if(Z(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[t];if(!i)return;let o=$o.get(a);o||(o={},$o.set(a,o));let s=o[t];if(s)return s;let l=(async()=>{let u=Lf(t),d=a[t]!==void 0&&t!=="hasErrorBoundary";if(u)se(!u,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),o[t]=Promise.resolve();else if(d)se(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let f=await i();f!=null&&(Object.assign(a,{[t]:f}),Object.assign(a,n(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(f=>f===void 0)&&(a.lazy=void 0))})();return o[t]=l,l},Fo=new WeakMap;function uh(t,e,r,n,a){let i=r[t.id];if(Z(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let c=Fo.get(i);if(c)return{lazyRoutePromise:c,lazyHandlerPromise:c};let d=(async()=>{Z(typeof t.lazy=="function","No lazy route function found");let f=await t.lazy(),h={};for(let p in f){let w=f[p];if(w===void 0)continue;let S=Mf(p),y=i[p]!==void 0&&p!=="hasErrorBoundary";S?se(!S,"Route property "+p+" is not a supported property to be returned from a lazy route function. This property will be ignored."):y?se(!y,`Route "${i.id}" has a static property "${p}" defined but its lazy function is also returning a value for this property. The lazy route property "${p}" will be ignored.`):h[p]=w}Object.assign(i,h),Object.assign(i,{...n(i),lazy:void 0})})();return Fo.set(i,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let o=Object.keys(t.lazy),s=[],l;for(let c of o){if(a&&a.includes(c))continue;let d=Qs({key:c,route:t,manifest:r,mapRouteProperties:n});d&&(s.push(d),c===e&&(l=d))}let u=s.length>0?Promise.all(s).then(()=>{}):void 0;return u==null||u.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function Bo(t){let e=t.matches.filter(a=>a.shouldLoad),r={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,i)=>{r[e[i].route.id]=a}),r}async function ch(t){return t.matches.some(e=>e.route.unstable_middleware)?el(t,!1,()=>Bo(t),(e,r)=>({[r]:{type:"error",result:e}})):Bo(t)}async function el(t,e,r,n){let{matches:a,request:i,params:o,context:s}=t,l={handlerResult:void 0};try{let u=a.flatMap(d=>d.route.unstable_middleware?d.route.unstable_middleware.map(f=>[d.route.id,f]):[]),c=await tl({request:i,params:o,context:s},u,e,l,r);return e?c:l.handlerResult}catch(u){if(!l.middlewareError)throw u;let c=await n(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,c):c}}async function tl(t,e,r,n,a,i=0){let{request:o}=t;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let s=e[i];if(!s)return n.handlerResult=await a(),n.handlerResult;let[l,u]=s,c=!1,d,f=async()=>{if(c)throw new Error("You may only call `next()` once per middleware");c=!0,await tl(t,e,r,n,a,i+1)};try{let h=await u({request:t.request,params:t.params,context:t.context},f);return c?h===void 0?d:h:f()}catch(h){throw n.middlewareError?n.middlewareError.error!==h&&(n.middlewareError={routeId:l,error:h}):n.middlewareError={routeId:l,error:h},h}}function rl(t,e,r,n,a){let i=Qs({key:"unstable_middleware",route:n.route,manifest:e,mapRouteProperties:t}),o=uh(n.route,Ce(r.method)?"action":"loader",e,t,a);return{middleware:i,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Ga(t,e,r,n,a,i,o,s=null){let l=!1,u=rl(t,e,r,n,a);return{...n,_lazyPromises:u,shouldLoad:o,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler(c){return l=!0,s?typeof c=="boolean"?Nn(n,{...s,defaultShouldRevalidate:c}):Nn(n,s):o},resolve(c){return l||o||c&&r.method==="GET"&&(n.route.lazy||n.route.loader)?fh({request:r,match:n,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:c,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function qt(t,e,r,n,a,i,o,s=null){return n.map(l=>l.route.id!==a.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler:()=>!1,_lazyPromises:rl(t,e,r,l,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ga(t,e,r,l,i,o,!0,s))}async function dh(t,e,r,n,a,i){r.some(u=>{var c;return(c=u._lazyPromises)==null?void 0:c.middleware})&&await Promise.all(r.map(u=>{var c;return(c=u._lazyPromises)==null?void 0:c.middleware}));let o={request:e,params:r[0].params,context:a,matches:r},l=await t({...o,fetcherKey:n,unstable_runClientMiddleware:u=>{let c=o;return el(c,!1,()=>u({...c,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(d,f)=>({[f]:{type:"error",result:d}}))}});try{await Promise.all(r.flatMap(u=>{var c,d;return[(c=u._lazyPromises)==null?void 0:c.handler,(d=u._lazyPromises)==null?void 0:d.route]}))}catch{}return l}async function fh({request:t,match:e,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:a,scopedContext:i}){let o,s,l=Ce(t.method),u=l?"action":"loader",c=d=>{let f,h=new Promise((S,E)=>f=E);s=()=>f(),t.signal.addEventListener("abort",s);let p=S=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${e.route.id}]`)):d({request:t,params:e.params,context:i},...S!==void 0?[S]:[]),w=(async()=>{try{return{type:"data",result:await(a?a(E=>p(E)):p())}}catch(S){return{type:"error",result:S}}})();return Promise.race([w,h])};try{let d=l?e.route.action:e.route.loader;if(r||n)if(d){let f,[h]=await Promise.all([c(d).catch(p=>{f=p}),r,n]);if(f!==void 0)throw f;o=h}else{await r;let f=l?e.route.action:e.route.loader;if(f)[o]=await Promise.all([c(f),n]);else if(u==="action"){let h=new URL(t.url),p=h.pathname+h.search;throw Le(405,{method:t.method,pathname:p,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(d)o=await c(d);else{let f=new URL(t.url),h=f.pathname+f.search;throw Le(404,{pathname:h})}}catch(d){return{type:"error",result:d}}finally{s&&t.signal.removeEventListener("abort",s)}return o}async function hh(t){var n,a,i,o,s,l;let{result:e,type:r}=t;if(Si(e)){let u;try{let c=e.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(c){return{type:"error",error:c}}return r==="error"?{type:"error",error:new dt(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}return r==="error"?Wo(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(n=e.init)==null?void 0:n.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new dt(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:Mt(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Mt(e)?e.status:void 0}:Wo(e)?{type:"data",data:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function mh(t,e,r,n,a){let i=t.headers.get("Location");if(Z(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!wi.test(i)){let o=n.slice(0,n.findIndex(s=>s.route.id===r)+1);i=Za(new URL(e.url),o,a,i),t.headers.set("Location",i)}return t}function zo(t,e,r){if(wi.test(t)){let n=t,a=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=De(a.pathname,r)!=null;if(a.origin===e.origin&&i)return a.pathname+a.search+a.hash}return t}function Gt(t,e,r,n){let a=t.createURL(nl(e)).toString(),i={signal:r};if(n&&Ce(n.formMethod)){let{formMethod:o,formEncType:s}=n;i.method=o.toUpperCase(),s==="application/json"?(i.headers=new Headers({"Content-Type":s}),i.body=JSON.stringify(n.json)):s==="text/plain"?i.body=n.text:s==="application/x-www-form-urlencoded"&&n.formData?i.body=Wa(n.formData):i.body=n.formData}return new Request(a,i)}function Wa(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function Vo(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function gh(t,e,r,n=!1,a=!1){let i={},o=null,s,l=!1,u={},c=r&&Ee(r[1])?r[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,h=e[f];if(Z(!Ot(h),"Cannot handle redirect results in processLoaderData"),Ee(h)){let p=h.error;if(c!==void 0&&(p=c,c=void 0),o=o||{},a)o[f]=p;else{let w=Dt(t,f);o[w.route.id]==null&&(o[w.route.id]=p)}n||(i[f]=Ys),l||(l=!0,s=Mt(h.error)?h.error.status:500),h.headers&&(u[f]=h.headers)}else i[f]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(s=h.statusCode),h.headers&&(u[f]=h.headers)}),c!==void 0&&r&&(o={[r[0]]:c},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:o,statusCode:s||200,loaderHeaders:u}}function Ko(t,e,r,n,a,i){let{loaderData:o,errors:s}=gh(e,r,n);return a.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:c,controller:d}=l,f=i[u];if(Z(f,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Ee(f)){let h=Dt(t.matches,c==null?void 0:c.route.id);s&&s[h.route.id]||(s={...s,[h.route.id]:f.error}),t.fetchers.delete(u)}else if(Ot(f))Z(!1,"Unhandled fetcher revalidation redirect");else{let h=st(f.data);t.fetchers.set(u,h)}}),{loaderData:o,errors:s}}function Zo(t,e,r,n){let a=Object.entries(e).filter(([,i])=>i!==Ys).reduce((i,[o,s])=>(i[o]=s,i),{});for(let i of r){let o=i.route.id;if(!e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&i.route.loader&&(a[o]=t[o]),n&&n.hasOwnProperty(o))break}return a}function Ho(t){return t?Ee(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Dt(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function Go(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Le(t,{pathname:e,routeId:r,method:n,type:a,message:i}={}){let o="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(o="Bad Request",n&&e&&r?s=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(s="Unable to encode submission body")):t===403?(o="Forbidden",s=`Route "${r}" does not match URL "${e}"`):t===404?(o="Not Found",s=`No route matches URL "${e}"`):t===405&&(o="Method Not Allowed",n&&e&&r?s=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(s=`Invalid request method "${n.toUpperCase()}"`)),new dt(t||500,o,new Error(s),!0)}function vn(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,a]=e[r];if(Ot(a))return{key:n,result:a}}}function nl(t){let e=typeof t=="string"?pt(t):t;return ct({...e,hash:""})}function vh(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ph(t){return Si(t.result)&&nh.has(t.result.status)}function Ee(t){return t.type==="error"}function Ot(t){return(t&&t.type)==="redirect"}function Wo(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Si(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function _h(t){return rh.has(t.toUpperCase())}function Ce(t){return eh.has(t.toUpperCase())}function Ei(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Er(t,e){let r=typeof e=="string"?pt(e).search:e.search;if(t[t.length-1].route.index&&Ei(r||""))return t[t.length-1];let n=Hs(t);return n[n.length-1]}function Jo(t){let{formMethod:e,formAction:r,formEncType:n,text:a,formData:i,json:o}=t;if(!(!e||!r||!n)){if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function Ma(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function yh(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function br(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function bh(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function st(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function wh(t,e){try{let r=t.sessionStorage.getItem(qs);if(r){let n=JSON.parse(r);for(let[a,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(a,new Set(i||[]))}}catch{}}function Sh(t,e){if(e.size>0){let r={};for(let[n,a]of e)r[n]=[...a];try{t.sessionStorage.setItem(qs,JSON.stringify(r))}catch(n){se(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Eh(){let t,e,r=new Promise((n,a)=>{t=async i=>{n(i);try{await r}catch{}},e=async i=>{a(i);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var $t=m.createContext(null);$t.displayName="DataRouter";var sr=m.createContext(null);sr.displayName="DataRouterState";var Ci=m.createContext({isTransitioning:!1});Ci.displayName="ViewTransition";var ki=m.createContext(new Map);ki.displayName="Fetchers";var Ch=m.createContext(null);Ch.displayName="Await";var Me=m.createContext(null);Me.displayName="Navigation";var ua=m.createContext(null);ua.displayName="Location";var Ae=m.createContext({outlet:null,matches:[],isDataRoute:!1});Ae.displayName="Route";var xi=m.createContext(null);xi.displayName="RouteError";function kh(t,{relative:e}={}){Z(en(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=m.useContext(Me),{hash:a,pathname:i,search:o}=tn(t,{relative:e}),s=i;return r!=="/"&&(s=i==="/"?r:He([r,i])),n.createHref({pathname:s,search:o,hash:a})}function en(){return m.useContext(ua)!=null}function ze(){return Z(en(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(ua).location}var al="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function il(t){m.useContext(Me).static||m.useLayoutEffect(t)}function ol(){let{isDataRoute:t}=m.useContext(Ae);return t?Uh():xh()}function xh(){Z(en(),"useNavigate() may be used only in the context of a <Router> component.");let t=m.useContext($t),{basename:e,navigator:r}=m.useContext(Me),{matches:n}=m.useContext(Ae),{pathname:a}=ze(),i=JSON.stringify(yi(n)),o=m.useRef(!1);return il(()=>{o.current=!0}),m.useCallback((l,u={})=>{if(se(o.current,al),!o.current)return;if(typeof l=="number"){r.go(l);return}let c=bi(l,JSON.parse(i),a,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:He([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,i,a,t])}var Rh=m.createContext(null);function Dh(t){let e=m.useContext(Ae).outlet;return e&&m.createElement(Rh.Provider,{value:t},e)}function qg(){let{matches:t}=m.useContext(Ae),e=t[t.length-1];return e?e.params:{}}function tn(t,{relative:e}={}){let{matches:r}=m.useContext(Ae),{pathname:n}=ze(),a=JSON.stringify(yi(r));return m.useMemo(()=>bi(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function Oh(t,e,r,n){Z(en(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=m.useContext(Me),{matches:o}=m.useContext(Ae),s=o[o.length-1],l=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",d=s&&s.route;{let y=d&&d.path||"";cl(u,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=ze(),h;h=f;let p=h.pathname||"/",w=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let S=!i&&r&&r.matches&&r.matches.length>0?r.matches:Ze(t,{pathname:w});return se(d||S!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),se(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Mh(S&&S.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:He([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:He([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n)}function Ih(){let t=ul(),e=Mt(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:i},"ErrorBoundary")," or"," ",m.createElement("code",{style:i},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),r?m.createElement("pre",{style:a},r):null,o)}var Th=m.createElement(Ih,null),Lh=class extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?m.createElement(Ae.Provider,{value:this.props.routeContext},m.createElement(xi.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ph({routeContext:t,match:e,children:r}){let n=m.useContext($t);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),m.createElement(Ae.Provider,{value:t},r)}function Mh(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,i=r==null?void 0:r.errors;if(i!=null){let l=a.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);Z(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let o=!1,s=-1;if(r)for(let l=0;l<a.length;l++){let u=a[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(s=l),u.route.id){let{loaderData:c,errors:d}=r,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){o=!0,s>=0?a=a.slice(0,s+1):a=[a[0]];break}}}return a.reduceRight((l,u,c)=>{let d,f=!1,h=null,p=null;r&&(d=i&&u.route.id?i[u.route.id]:void 0,h=u.route.errorElement||Th,o&&(s<0&&c===0?(cl("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,p=null):s===c&&(f=!0,p=u.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,c+1)),S=()=>{let E;return d?E=h:f?E=p:u.route.Component?E=m.createElement(u.route.Component,null):u.route.element?E=u.route.element:E=l,m.createElement(Ph,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:r!=null},children:E})};return r&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?m.createElement(Lh,{location:r.location,revalidation:r.revalidation,component:h,error:d,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function Ri(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sl(t){let e=m.useContext($t);return Z(e,Ri(t)),e}function lr(t){let e=m.useContext(sr);return Z(e,Ri(t)),e}function Ah(t){let e=m.useContext(Ae);return Z(e,Ri(t)),e}function rn(t){let e=Ah(t),r=e.matches[e.matches.length-1];return Z(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Nh(){return rn("useRouteId")}function jh(){return lr("useNavigation").navigation}function Yg(){let t=sl("useRevalidator"),e=lr("useRevalidator");return m.useMemo(()=>({async revalidate(){await t.router.revalidate()},state:e.revalidation}),[t.router,e.revalidation])}function ll(){let{matches:t,loaderData:e}=lr("useMatches");return m.useMemo(()=>t.map(r=>zs(r,e)),[t,e])}function Xg(){let t=lr("useLoaderData"),e=rn("useLoaderData");return t.loaderData[e]}function Qg(){let t=lr("useActionData"),e=rn("useLoaderData");return t.actionData?t.actionData[e]:void 0}function ul(){var n;let t=m.useContext(xi),e=lr("useRouteError"),r=rn("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Uh(){let{router:t}=sl("useNavigate"),e=rn("useNavigate"),r=m.useRef(!1);return il(()=>{r.current=!0}),m.useCallback(async(a,i={})=>{se(r.current,al),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var qo={};function cl(t,e,r){!e&&!qo[t]&&(qo[t]=!0,se(!1,r))}var Yo={};function Xo(t,e){!t&&!Yo[e]&&(Yo[e]=!0,console.warn(e))}function ev(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&se(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:m.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&se(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&se(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var tv=["HydrateFallback","hydrateFallbackElement"],$h=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",e(r))}})}};function rv({router:t,flushSync:e}){let[r,n]=m.useState(t.state),[a,i]=m.useState(),[o,s]=m.useState({isTransitioning:!1}),[l,u]=m.useState(),[c,d]=m.useState(),[f,h]=m.useState(),p=m.useRef(new Map),w=m.useCallback((x,{deletedFetchers:k,flushSync:C,viewTransitionOpts:v})=>{x.fetchers.forEach((V,z)=>{V.data!==void 0&&p.current.set(z,V.data)}),k.forEach(V=>p.current.delete(V)),Xo(C===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Xo(v==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!v||!P){e&&C?e(()=>n(x)):m.startTransition(()=>n(x));return}if(e&&C){e(()=>{c&&(l&&l.resolve(),c.skipTransition()),s({isTransitioning:!0,flushSync:!0,currentLocation:v.currentLocation,nextLocation:v.nextLocation})});let V=t.window.document.startViewTransition(()=>{e(()=>n(x))});V.finished.finally(()=>{e(()=>{u(void 0),d(void 0),i(void 0),s({isTransitioning:!1})})}),e(()=>d(V));return}c?(l&&l.resolve(),c.skipTransition(),h({state:x,currentLocation:v.currentLocation,nextLocation:v.nextLocation})):(i(x),s({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}))},[t.window,e,c,l]);m.useLayoutEffect(()=>t.subscribe(w),[t,w]),m.useEffect(()=>{o.isTransitioning&&!o.flushSync&&u(new $h)},[o]),m.useEffect(()=>{if(l&&a&&t.window){let x=a,k=l.promise,C=t.window.document.startViewTransition(async()=>{m.startTransition(()=>n(x)),await k});C.finished.finally(()=>{u(void 0),d(void 0),i(void 0),s({isTransitioning:!1})}),d(C)}},[a,l,t.window]),m.useEffect(()=>{l&&a&&r.location.key===a.location.key&&l.resolve()},[l,c,r.location,a]),m.useEffect(()=>{!o.isTransitioning&&f&&(i(f.state),s({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),h(void 0))},[o.isTransitioning,f]);let S=m.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:x=>t.navigate(x),push:(x,k,C)=>t.navigate(x,{state:k,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(x,k,C)=>t.navigate(x,{replace:!0,state:k,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[t]),E=t.basename||"/",y=m.useMemo(()=>({router:t,navigator:S,static:!1,basename:E}),[t,S,E]);return m.createElement(m.Fragment,null,m.createElement($t.Provider,{value:y},m.createElement(sr.Provider,{value:r},m.createElement(ki.Provider,{value:p.current},m.createElement(Ci.Provider,{value:o},m.createElement(zh,{basename:E,location:r.location,navigationType:r.historyAction,navigator:S},m.createElement(Fh,{routes:t.routes,future:t.future,state:r})))))),null)}var Fh=m.memo(Bh);function Bh({routes:t,future:e,state:r}){return Oh(t,void 0,r,e)}function nv(t){return Dh(t.context)}function zh({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){Z(!en(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),s=m.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=pt(r));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=r,h=m.useMemo(()=>{let p=De(l,o);return p==null?null:{location:{pathname:p,search:u,hash:c,state:d,key:f},navigationType:n}},[o,l,u,c,d,f,n]);return se(h!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:m.createElement(Me.Provider,{value:s},m.createElement(ua.Provider,{children:e,value:h}))}var Rn="get",Dn="application/x-www-form-urlencoded";function ca(t){return t!=null&&typeof t.tagName=="string"}function Vh(t){return ca(t)&&t.tagName.toLowerCase()==="button"}function Kh(t){return ca(t)&&t.tagName.toLowerCase()==="form"}function Zh(t){return ca(t)&&t.tagName.toLowerCase()==="input"}function Hh(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Gh(t,e){return t.button===0&&(!e||e==="_self")&&!Hh(t)}function Ja(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Wh(t,e){let r=Ja(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}var pn=null;function Jh(){if(pn===null)try{new FormData(document.createElement("form"),0),pn=!1}catch{pn=!0}return pn}var qh=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Aa(t){return t!=null&&!qh.has(t)?(se(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dn}"`),null):t}function Yh(t,e){let r,n,a,i,o;if(Kh(t)){let s=t.getAttribute("action");n=s?De(s,e):null,r=t.getAttribute("method")||Rn,a=Aa(t.getAttribute("enctype"))||Dn,i=new FormData(t)}else if(Vh(t)||Zh(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||s.getAttribute("action");if(n=l?De(l,e):null,r=t.getAttribute("formmethod")||s.getAttribute("method")||Rn,a=Aa(t.getAttribute("formenctype"))||Aa(s.getAttribute("enctype"))||Dn,i=new FormData(s,t),!Jh()){let{name:u,type:c,value:d}=t;if(c==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,d)}}else{if(ca(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Rn,n=null,a=Dn,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function dl(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xh(t,e,r){let n=t.map(i=>{var l;let o=e[i.route.id],s=r.routes[i.route.id];return[s&&s.css?s.css.map(u=>({rel:"stylesheet",href:u})):[],((l=o==null?void 0:o.links)==null?void 0:l.call(o))||[]]}).flat(2),a=Oi(t,r);return gl(n,a)}function fl(t){return t.css?t.css.map(e=>({rel:"stylesheet",href:e})):[]}async function Qh(t){if(!t.css)return;let e=fl(t);await Promise.all(e.map(ml))}async function hl(t,e){if(!t.css&&!e.links||!am())return;let r=[];if(t.css&&r.push(...fl(t)),e.links&&r.push(...e.links()),r.length===0)return;let n=[];for(let a of r)!Di(a)&&a.rel==="stylesheet"&&n.push({...a,rel:"preload",as:"style"});await Promise.all(n.map(ml))}async function ml(t){return new Promise(e=>{if(t.media&&!window.matchMedia(t.media).matches||document.querySelector(`link[rel="stylesheet"][href="${t.href}"]`))return e();let r=document.createElement("link");Object.assign(r,t);function n(){document.head.contains(r)&&document.head.removeChild(r)}r.onload=()=>{n(),e()},r.onerror=()=>{n(),e()},document.head.appendChild(r)})}function Di(t){return t!=null&&typeof t.page=="string"}function em(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function tm(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await dl(i,r);return o.links?o.links():[]}return[]}));return gl(n.flat(1).filter(em).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Qo(t,e,r,n,a,i){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,s=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,u)=>o(l,u)||s(l,u)):i==="data"?e.filter((l,u)=>{var d;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||s(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Oi(t,e,{includeHydrateFallback:r}={}){return rm(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function rm(t){return[...new Set(t)]}function nm(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function gl(t,e){let r=new Set,n=new Set(e);return t.reduce((a,i)=>{if(e&&!Di(i)&&i.as==="script"&&i.href&&n.has(i.href))return a;let s=JSON.stringify(nm(i));return r.has(s)||(r.add(s),a.push({key:s,link:i})),a},[])}var _n;function am(){if(_n!==void 0)return _n;let t=document.createElement("link");return _n=t.relList.supports("preload"),t=null,_n}function es(t){return{__html:t}}async function im(t){let e={signal:t.signal};if(t.method!=="GET"){e.method=t.method;let r=t.headers.get("Content-Type");r&&/\bapplication\/json\b/.test(r)?(e.headers={"Content-Type":r},e.body=JSON.stringify(await t.json())):r&&/\btext\/plain\b/.test(r)?(e.headers={"Content-Type":r},e.body=await t.text()):r&&/\bapplication\/x-www-form-urlencoded\b/.test(r)?e.body=new URLSearchParams(await t.text()):e.body=await t.formData()}return e}var qa=Symbol("SingleFetchRedirect"),om=202,vl=new Set([100,101,204,205]);function av(t,e,r,n,a){let i=sm(t,o=>{let s=e.routes[o.route.id];_e(s,"Route not found in manifest");let l=r[o.route.id];return{hasLoader:s.hasLoader,hasClientLoader:s.hasClientLoader,hasShouldRevalidate:!!(l!=null&&l.shouldRevalidate)}},hm,n,a);return async o=>o.unstable_runClientMiddleware(i)}function sm(t,e,r,n,a){return async i=>{let{request:o,matches:s,fetcherKey:l}=i,u=t();if(o.method!=="GET")return lm(i,r,a);let c=s.some(d=>{let{hasLoader:f,hasClientLoader:h}=e(d);return d.unstable_shouldCallHandler()&&f&&!h});return!n&&!c?um(i,e,r,a):l?dm(i,r,a):cm(i,u,e,r,n,a)}}async function lm(t,e,r){let n=t.matches.find(o=>o.unstable_shouldCallHandler());_e(n,"No action match found");let a,i=await n.resolve(async o=>await o(async()=>{let{data:l,status:u}=await e(t,r,[n.route.id]);return a=u,Or(l,n.route.id)}));return Si(i.result)||Mt(i.result)?{[n.route.id]:i}:{[n.route.id]:{type:i.type,result:Qf(i.result,a)}}}async function um(t,e,r,n){let a=t.matches.filter(o=>o.unstable_shouldCallHandler()),i={};return await Promise.all(a.map(o=>o.resolve(async s=>{try{let{hasClientLoader:l}=e(o),u=o.route.id,c=l?await s(async()=>{let{data:d}=await r(t,n,[u]);return Or(d,u)}):await s();i[o.route.id]={type:"data",result:c}}catch(l){i[o.route.id]={type:"error",result:l}}}))),i}async function cm(t,e,r,n,a,i){let o=new Set,s=!1,l=t.matches.map(()=>ts()),u=ts(),c={},d=Promise.all(t.matches.map(async(h,p)=>h.resolve(async w=>{l[p].resolve();let S=h.route.id,{hasLoader:E,hasClientLoader:y,hasShouldRevalidate:x}=r(h),k=!h.unstable_shouldRevalidateArgs||h.unstable_shouldRevalidateArgs.actionStatus==null||h.unstable_shouldRevalidateArgs.actionStatus<400;if(!h.unstable_shouldCallHandler(k)){s||(s=h.unstable_shouldRevalidateArgs!=null&&E&&x===!0);return}if(y){E&&(s=!0);try{let v=await w(async()=>{let{data:P}=await n(t,i,[S]);return Or(P,S)});c[S]={type:"data",result:v}}catch(v){c[S]={type:"error",result:v}}return}E&&o.add(S);try{let v=await w(async()=>{let P=await u.promise;return Or(P,S)});c[S]={type:"data",result:v}}catch(v){c[S]={type:"error",result:v}}})));if(await Promise.all(l.map(h=>h.promise)),(!e.state.initialized&&e.state.navigation.state==="idle"||o.size===0)&&!window.__reactRouterHdrActive)u.resolve({routes:{}});else{let h=a&&s&&o.size>0?[...o.keys()]:void 0;try{let p=await n(t,i,h);u.resolve(p.data)}catch(p){u.reject(p)}}return await d,c}async function dm(t,e,r){let n=t.matches.find(o=>o.unstable_shouldCallHandler());_e(n,"No fetcher match found");let a=n.route.id,i=await n.resolve(async o=>o(async()=>{let{data:s}=await e(t,r,[a]);return Or(s,a)}));return{[n.route.id]:i}}function fm(t){let e=t.searchParams.getAll("index");t.searchParams.delete("index");let r=[];for(let n of e)n&&r.push(n);for(let n of r)t.searchParams.append("index",n);return t}function pl(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&De(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}async function hm(t,e,r){let{request:n}=t,a=pl(n.url,e);n.method==="GET"&&(a=fm(a),r&&a.searchParams.set("_routes",r.join(",")));let i=await fetch(a,await im(n));if(i.status===404&&!i.headers.has("X-Remix-Response"))throw new dt(404,"Not Found",!0);if(i.status===204&&i.headers.has("X-Remix-Redirect"))return{status:om,data:{redirect:{redirect:i.headers.get("X-Remix-Redirect"),status:Number(i.headers.get("X-Remix-Status")||"302"),revalidate:i.headers.get("X-Remix-Revalidate")==="true",reload:i.headers.get("X-Remix-Reload-Document")==="true",replace:i.headers.get("X-Remix-Replace")==="true"}}};if(vl.has(i.status)){let o={};return r&&n.method!=="GET"&&(o[r[0]]={data:void 0}),{status:i.status,data:{routes:o}}}_e(i.body,"No response body to decode");try{let o=await mm(i.body,window),s;if(n.method==="GET"){let l=o.value;qa in l?s={redirect:l[qa]}:s={routes:l}}else{let l=o.value,u=r==null?void 0:r[0];_e(u,"No routeId found for single fetch call decoding"),"redirect"in l?s={redirect:l}:s={routes:{[u]:l}}}return{status:i.status,data:s}}catch{throw new Error("Unable to decode turbo-stream response")}}function mm(t,e){return mf(t,{plugins:[(r,...n)=>{if(r==="SanitizedError"){let[a,i,o]=n,s=Error;a&&a in e&&typeof e[a]=="function"&&(s=e[a]);let l=new s(i);return l.stack=o,{value:l}}if(r==="ErrorResponse"){let[a,i,o]=n;return{value:new dt(i,o,a)}}if(r==="SingleFetchRedirect")return{value:{[qa]:n[0]}};if(r==="SingleFetchClassInstance")return{value:n[0]};if(r==="SingleFetchFallback")return{value:void 0}}]})}function Or(t,e){if("redirect"in t){let{redirect:n,revalidate:a,reload:i,replace:o,status:s}=t.redirect;throw Gs(n,{status:s,headers:{...a?{"X-Remix-Revalidate":"yes"}:null,...i?{"X-Remix-Reload-Document":"yes"}:null,...o?{"X-Remix-Replace":"yes"}:null}})}let r=t.routes[e];if("error"in r)throw r.error;if("data"in r)return r.data;throw new Error(`No response found for routeId "${e}"`)}function ts(){let t,e,r=new Promise((n,a)=>{t=async i=>{n(i);try{await r}catch{}},e=async i=>{a(i);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var iv=class extends m.Component{constructor(t){super(t),this.state={error:t.error||null,location:t.location}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location?{error:t.error||null,location:t.location}:{error:t.error||e.error,location:e.location}}render(){return this.state.error?m.createElement(_l,{error:this.state.error,isOutsideRemixApp:!0}):this.props.children}};function _l({error:t,isOutsideRemixApp:e}){console.error(t);let r=m.createElement("script",{dangerouslySetInnerHTML:{__html:`
        console.log(
          " Hey developer . You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."
        );
      `}});if(Mt(t))return m.createElement(Ya,{title:"Unhandled Thrown Response!"},m.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),r);let n;if(t instanceof Error)n=t;else{let a=t==null?"Unknown Error":typeof t=="object"&&"toString"in t?t.toString():JSON.stringify(t);n=new Error(a)}return m.createElement(Ya,{title:"Application Error!",isOutsideRemixApp:e},m.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),m.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),r)}function Ya({title:t,renderScripts:e,isOutsideRemixApp:r,children:n}){var i;let{routeModules:a}=ur();return(i=a.root)!=null&&i.Layout&&!r?n:m.createElement("html",{lang:"en"},m.createElement("head",null,m.createElement("meta",{charSet:"utf-8"}),m.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),m.createElement("title",null,t)),m.createElement("body",null,m.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},n,e?m.createElement(Dm,null):null)))}function gm(){return m.createElement(Ya,{title:"Loading...",renderScripts:!0},m.createElement("script",{dangerouslySetInnerHTML:{__html:`
              console.log(
                " Hey developer . You can provide a way better UX than this " +
                "when your app is loading JS modules and/or running \`clientLoader\` " +
                "functions. Check out https://remix.run/route/hydrate-fallback " +
                "for more information."
              );
            `}}))}function yl(t){let e={};return Object.values(t).forEach(r=>{if(r){let n=r.parentId||"";e[n]||(e[n]=[]),e[n].push(r)}}),e}function vm(t,e,r){let n=bl(e),a=e.HydrateFallback&&(!r||t.id==="root")?e.HydrateFallback:t.id==="root"?gm:void 0,i=e.ErrorBoundary?e.ErrorBoundary:t.id==="root"?()=>m.createElement(_l,{error:ul()}):void 0;return t.id==="root"&&e.Layout?{...n?{element:m.createElement(e.Layout,null,m.createElement(n,null))}:{Component:n},...i?{errorElement:m.createElement(e.Layout,null,m.createElement(i,null))}:{ErrorBoundary:i},...a?{hydrateFallbackElement:m.createElement(e.Layout,null,m.createElement(a,null))}:{HydrateFallback:a}}:{Component:n,ErrorBoundary:i,HydrateFallback:a}}function ov(t,e,r,n,a,i){return Ii(e,r,n,a,i,"",yl(e),t)}function yn(t,e){if(t==="loader"&&!e.hasLoader||t==="action"&&!e.hasAction){let n=`You are trying to call ${t==="action"?"serverAction()":"serverLoader()"} on a route that does not have a server ${t} (routeId: "${e.id}")`;throw console.error(n),new dt(400,"Bad Request",new Error(n),!0)}}function Na(t,e){let r=t==="clientAction"?"a":"an",n=`Route "${e}" does not have ${r} ${t}, but you are trying to submit to it. To fix this, please add ${r} \`${t}\` function to the route`;throw console.error(n),new dt(405,"Method Not Allowed",new Error(n),!0)}function Ii(t,e,r,n,a,i="",o=yl(t),s){return(o[i]||[]).map(l=>{var y,x,k;let u=e[l.id];function c(C){return _e(typeof C=="function","No single fetch function available for route handler"),C()}function d(C){return l.hasLoader?c(C):Promise.resolve(null)}function f(C){if(!l.hasAction)throw Na("action",l.id);return c(C)}function h(C){import(C)}function p(C){C.clientActionModule&&h(C.clientActionModule),C.clientLoaderModule&&h(C.clientLoaderModule)}async function w(C){let v=e[l.id],P=v?hl(l,v):Promise.resolve();try{return C()}finally{await P}}let S={id:l.id,index:l.index,path:l.path};if(u){Object.assign(S,{...S,...vm(l,u,a),unstable_middleware:u.unstable_clientMiddleware,handle:u.handle,shouldRevalidate:rs(S.path,u,l,n,s)});let C=r&&r.loaderData&&l.id in r.loaderData,v=C?(y=r==null?void 0:r.loaderData)==null?void 0:y[l.id]:void 0,P=r&&r.errors&&l.id in r.errors,V=P?(x=r==null?void 0:r.errors)==null?void 0:x[l.id]:void 0,z=s==null&&(((k=u.clientLoader)==null?void 0:k.hydrate)===!0||!l.hasLoader);S.loader=async({request:re,params:ie,context:fe},q)=>{try{return await w(async()=>(_e(u,"No `routeModule` available for critical-route loader"),u.clientLoader?u.clientLoader({request:re,params:ie,context:fe,async serverLoader(){if(yn("loader",l),z){if(C)return v;if(P)throw V}return d(q)}}):d(q)))}finally{z=!1}},S.loader.hydrate=wl(l.id,u.clientLoader,l.hasLoader,a),S.action=({request:re,params:ie,context:fe},q)=>w(async()=>{if(_e(u,"No `routeModule` available for critical-route action"),!u.clientAction){if(a)throw Na("clientAction",l.id);return f(q)}return u.clientAction({request:re,params:ie,context:fe,async serverAction(){return yn("action",l),f(q)}})})}else{l.hasClientLoader||(S.loader=(P,V)=>w(()=>d(V))),l.hasClientAction||(S.action=(P,V)=>w(()=>{if(a)throw Na("clientAction",l.id);return f(V)}));let C;async function v(){return C?await C:(C=(async()=>{(l.clientLoaderModule||l.clientActionModule)&&await new Promise(V=>setTimeout(V,0));let P=_m(l,e);return p(l),await P})(),await C)}S.lazy={loader:l.hasClientLoader?async()=>{let{clientLoader:P}=l.clientLoaderModule?await import(l.clientLoaderModule):await v();return _e(P,"No `clientLoader` export found"),(V,z)=>P({...V,async serverLoader(){return yn("loader",l),d(z)}})}:void 0,action:l.hasClientAction?async()=>{let P=l.clientActionModule?import(l.clientActionModule):v();p(l);let{clientAction:V}=await P;return _e(V,"No `clientAction` export found"),(z,re)=>V({...z,async serverAction(){return yn("action",l),f(re)}})}:void 0,unstable_middleware:l.hasClientMiddleware?async()=>{let{unstable_clientMiddleware:P}=l.clientMiddlewareModule?await import(l.clientMiddlewareModule):await v();return _e(P,"No `unstable_clientMiddleware` export found"),P}:void 0,shouldRevalidate:async()=>{let P=await v();return rs(S.path,P,l,n,s)},handle:async()=>(await v()).handle,Component:async()=>(await v()).Component,ErrorBoundary:l.hasErrorBoundary?async()=>(await v()).ErrorBoundary:void 0}}let E=Ii(t,e,r,n,a,l.id,o,s);return E.length>0&&(S.children=E),S})}function rs(t,e,r,n,a){if(a)return pm(r.id,e.shouldRevalidate,a);if(!n&&r.hasLoader&&!r.hasClientLoader){let i=t?Zs(t)[1].map(s=>s.paramName):[];const o=s=>i.some(l=>s.currentParams[l]!==s.nextParams[l]);if(e.shouldRevalidate){let s=e.shouldRevalidate;return l=>s({...l,defaultShouldRevalidate:o(l)})}else return s=>o(s)}if(n&&e.shouldRevalidate){let i=e.shouldRevalidate;return o=>i({...o,defaultShouldRevalidate:!0})}return e.shouldRevalidate}function pm(t,e,r){let n=!1;return a=>n?e?e(a):a.defaultShouldRevalidate:(n=!0,r.has(t))}async function _m(t,e){let r=dl(t,e),n=Qh(t),a=await r;return await Promise.all([n,hl(t,a)]),{Component:bl(a),ErrorBoundary:a.ErrorBoundary,unstable_clientMiddleware:a.unstable_clientMiddleware,clientAction:a.clientAction,clientLoader:a.clientLoader,handle:a.handle,links:a.links,meta:a.meta,shouldRevalidate:a.shouldRevalidate}}function bl(t){if(t.default==null)return;if(!(typeof t.default=="object"&&Object.keys(t.default).length===0))return t.default}function wl(t,e,r,n){return n&&t!=="root"||e!=null&&(e.hydrate===!0||r!==!0)}var On=new Set,ym=1e3,jn=new Set,bm=7680;function Ti(t){return t===!0}function wm({sri:t,...e},r){let n=new Set(r.state.matches.map(s=>s.route.id)),a=r.state.location.pathname.split("/").filter(Boolean),i=["/"];for(a.pop();a.length>0;)i.push(`/${a.join("/")}`),a.pop();i.forEach(s=>{let l=Ze(r.routes,s,r.basename);l&&l.forEach(u=>n.add(u.route.id))});let o=[...n].reduce((s,l)=>Object.assign(s,{[l]:e.routes[l]}),{});return{...e,routes:o,sri:t?!0:void 0}}function sv(t,e,r,n,a){if(Ti(r))return async({path:i,patch:o,signal:s,fetcherKey:l})=>{jn.has(i)||await Sl([i],l?window.location.href:i,t,e,r,n,a,o,s)}}function lv(t,e,r,n,a){m.useEffect(()=>{var u;if(!Ti(n)||((u=navigator.connection)==null?void 0:u.saveData)===!0)return;function i(c){let d=c.tagName==="FORM"?c.getAttribute("action"):c.getAttribute("href");if(!d)return;let f=c.tagName==="A"?c.pathname:new URL(d,window.location.origin).pathname;jn.has(f)||On.add(f)}async function o(){document.querySelectorAll("a[data-discover], form[data-discover]").forEach(i);let c=Array.from(On.keys()).filter(d=>jn.has(d)?(On.delete(d),!1):!0);if(c.length!==0)try{await Sl(c,null,e,r,n,a,t.basename,t.patchRoutes)}catch(d){console.error("Failed to fetch manifest patches",d)}}let s=Em(o,100);o();let l=new MutationObserver(()=>s());return l.observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["data-discover","href","action"]}),()=>l.disconnect()},[n,a,e,r,t])}var ja="react-router-manifest-version";async function Sl(t,e,r,n,a,i,o,s,l){let u=`${o??"/"}/__manifest`.replace(/\/+/g,"/"),c=new URL(u,window.location.origin);if(t.sort().forEach(w=>c.searchParams.append("p",w)),c.searchParams.set("version",r.version),c.toString().length>bm){On.clear();return}let d;try{let w=await fetch(c,{signal:l});if(w.ok){if(w.status===204&&w.headers.has("X-Remix-Reload-Document")){if(!e){console.warn("Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.");return}if(sessionStorage.getItem(ja)===r.version){console.error("Unable to discover routes due to manifest version mismatch.");return}throw sessionStorage.setItem(ja,r.version),window.location.href=e,new Error("Detected manifest version mismatch, reloading...")}else if(w.status>=400)throw new Error(await w.text())}else throw new Error(`${w.status} ${w.statusText}`);sessionStorage.removeItem(ja),d=await w.json()}catch(w){if(l!=null&&l.aborted)return;throw w}let f=new Set(Object.keys(r.routes)),h=Object.values(d).reduce((w,S)=>(S&&!f.has(S.id)&&(w[S.id]=S),w),{});Object.assign(r.routes,h),t.forEach(w=>Sm(w,jn));let p=new Set;Object.values(h).forEach(w=>{w&&(!w.parentId||!h[w.parentId])&&p.add(w.parentId)}),p.forEach(w=>s(w||null,Ii(h,n,null,a,i,w)))}function Sm(t,e){if(e.size>=ym){let r=e.values().next().value;e.delete(r)}e.add(t)}function Em(t,e){let r;return(...n)=>{window.clearTimeout(r),r=window.setTimeout(()=>t(...n),e)}}function Li(){let t=m.useContext($t);return _e(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function da(){let t=m.useContext(sr);return _e(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fa=m.createContext(void 0);fa.displayName="FrameworkContext";function ur(){let t=m.useContext(fa);return _e(t,"You must render this element inside a <HydratedRouter> element"),t}function Cm(t,e){let r=m.useContext(fa),[n,a]=m.useState(!1),[i,o]=m.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,f=m.useRef(null);m.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=E=>{E.forEach(y=>{o(y.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return f.current&&S.observe(f.current),()=>{S.disconnect()}}},[t]),m.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let h=()=>{a(!0)},p=()=>{a(!1),o(!1)};return r?t!=="intent"?[i,f,{}]:[i,f,{onFocus:wr(s,h),onBlur:wr(l,p),onMouseEnter:wr(u,h),onMouseLeave:wr(c,p),onTouchStart:wr(d,h)}]:[!1,f,{}]}function wr(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Pi(t,e,r){if(r&&!In)return[t[0]];if(e){let n=t.findIndex(a=>e[a.route.id]!==void 0);return t.slice(0,n+1)}return t}function uv(){let{isSpaMode:t,manifest:e,routeModules:r,criticalCss:n}=ur(),{errors:a,matches:i}=da(),o=Pi(i,a,t),s=m.useMemo(()=>Xh(o,r,e),[o,r,e]);return m.createElement(m.Fragment,null,typeof n=="string"?m.createElement("style",{dangerouslySetInnerHTML:{__html:n}}):null,typeof n=="object"?m.createElement("link",{rel:"stylesheet",href:n.href}):null,s.map(({key:l,link:u})=>Di(u)?m.createElement(El,{key:l,...u}):m.createElement("link",{key:l,...u})))}function El({page:t,...e}){let{router:r}=Li(),n=m.useMemo(()=>Ze(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?m.createElement(xm,{page:t,matches:n,...e}):null}function km(t){let{manifest:e,routeModules:r}=ur(),[n,a]=m.useState([]);return m.useEffect(()=>{let i=!1;return tm(t,e,r).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,r]),n}function xm({page:t,matches:e,...r}){let n=ze(),{manifest:a,routeModules:i}=ur(),{basename:o}=Li(),{loaderData:s,matches:l}=da(),u=m.useMemo(()=>Qo(t,e,l,a,n,"data"),[t,e,l,a,n]),c=m.useMemo(()=>Qo(t,e,l,a,n,"assets"),[t,e,l,a,n]),d=m.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let p=new Set,w=!1;if(e.forEach(E=>{var x;let y=a.routes[E.route.id];!y||!y.hasLoader||(!u.some(k=>k.route.id===E.route.id)&&E.route.id in s&&((x=i[E.route.id])!=null&&x.shouldRevalidate)||y.hasClientLoader?w=!0:p.add(E.route.id))}),p.size===0)return[];let S=pl(t,o);return w&&p.size>0&&S.searchParams.set("_routes",e.filter(E=>p.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[o,s,n,a,u,e,t,i]),f=m.useMemo(()=>Oi(c,a),[c,a]),h=km(c);return m.createElement(m.Fragment,null,d.map(p=>m.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),f.map(p=>m.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),h.map(({key:p,link:w})=>m.createElement("link",{key:p,...w})))}function cv(){let{isSpaMode:t,routeModules:e}=ur(),{errors:r,matches:n,loaderData:a}=da(),i=ze(),o=Pi(n,r,t),s=null;r&&(s=r[o[o.length-1].route.id]);let l=[],u=null,c=[];for(let d=0;d<o.length;d++){let f=o[d],h=f.route.id,p=a[h],w=f.params,S=e[h],E=[],y={id:h,data:p,meta:[],params:f.params,pathname:f.pathname,handle:f.route.handle,error:s};if(c[d]=y,S!=null&&S.meta?E=typeof S.meta=="function"?S.meta({data:p,params:w,location:i,matches:c,error:s}):Array.isArray(S.meta)?[...S.meta]:S.meta:u&&(E=[...u]),E=E||[],!Array.isArray(E))throw new Error("The route at "+f.route.path+` returns an invalid value. All route meta functions must return an array of meta objects.

To reference the meta function API, see https://remix.run/route/meta`);y.meta=E,c[d]=y,l=[...E],u=l}return m.createElement(m.Fragment,null,l.flat().map(d=>{if(!d)return null;if("tagName"in d){let{tagName:f,...h}=d;if(!Rm(f))return console.warn(`A meta object uses an invalid tagName: ${f}. Expected either 'link' or 'meta'`),null;let p=f;return m.createElement(p,{key:JSON.stringify(h),...h})}if("title"in d)return m.createElement("title",{key:"title"},String(d.title));if("charset"in d&&(d.charSet??(d.charSet=d.charset),delete d.charset),"charSet"in d&&d.charSet!=null)return typeof d.charSet=="string"?m.createElement("meta",{key:"charSet",charSet:d.charSet}):null;if("script:ld+json"in d)try{let f=JSON.stringify(d["script:ld+json"]);return m.createElement("script",{key:`script:ld+json:${f}`,type:"application/ld+json",dangerouslySetInnerHTML:{__html:f}})}catch{return null}return m.createElement("meta",{key:JSON.stringify(d),...d})}))}function Rm(t){return typeof t=="string"&&/^(meta|link)$/.test(t)}var In=!1;function Dm(t){let{manifest:e,serverHandoffString:r,isSpaMode:n,ssr:a,renderMeta:i}=ur(),{router:o,static:s,staticContext:l}=Li(),{matches:u}=da(),c=Ti(a);i&&(i.didRenderScripts=!0);let d=Pi(u,null,n);m.useEffect(()=>{In=!0},[]);let f=m.useMemo(()=>{var y;let S=l?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",E=s?`${(y=e.hmr)!=null&&y.runtime?`import ${JSON.stringify(e.hmr.runtime)};`:""}${c?"":`import ${JSON.stringify(e.url)}`};
${d.map((x,k)=>{let C=`route${k}`,v=e.routes[x.route.id];_e(v,`Route ${x.route.id} not found in manifest`);let{clientActionModule:P,clientLoaderModule:V,clientMiddlewareModule:z,hydrateFallbackModule:re,module:ie}=v,fe=[...P?[{module:P,varName:`${C}_clientAction`}]:[],...V?[{module:V,varName:`${C}_clientLoader`}]:[],...z?[{module:z,varName:`${C}_clientMiddleware`}]:[],...re?[{module:re,varName:`${C}_HydrateFallback`}]:[],{module:ie,varName:`${C}_main`}];if(fe.length===1)return`import * as ${C} from ${JSON.stringify(ie)};`;let q=fe.map(ce=>`import * as ${ce.varName} from "${ce.module}";`).join(`
`),ne=`const ${C} = {${fe.map(ce=>`...${ce.varName}`).join(",")}};`;return[q,ne].join(`
`)}).join(`
`)}
  ${c?`window.__reactRouterManifest = ${JSON.stringify(wm(e,o),null,2)};`:""}
  window.__reactRouterRouteModules = {${d.map((x,k)=>`${JSON.stringify(x.route.id)}:route${k}`).join(",")}};

import(${JSON.stringify(e.entry.module)});`:" ";return m.createElement(m.Fragment,null,m.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:es(S),type:void 0}),m.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:es(E),type:"module",async:!0}))},[]),h=In?[]:Om(e.entry.imports.concat(Oi(d,e,{includeHydrateFallback:!0}))),p=typeof e.sri=="object"?e.sri:{};return In?null:m.createElement(m.Fragment,null,typeof e.sri=="object"?m.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:p})}}):null,c?null:m.createElement("link",{rel:"modulepreload",href:e.url,crossOrigin:t.crossOrigin,integrity:p[e.url],suppressHydrationWarning:!0}),m.createElement("link",{rel:"modulepreload",href:e.entry.module,crossOrigin:t.crossOrigin,integrity:p[e.entry.module],suppressHydrationWarning:!0}),h.map(w=>m.createElement("link",{key:w,rel:"modulepreload",href:w,crossOrigin:t.crossOrigin,integrity:p[w],suppressHydrationWarning:!0})),f)}function Om(t){return[...new Set(t)]}function Im(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Cl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cl&&(window.__reactRouterVersion="7.5.3")}catch{}var kl=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xl=m.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},h){let{basename:p}=m.useContext(Me),w=typeof u=="string"&&kl.test(u),S,E=!1;if(typeof u=="string"&&w&&(S=u,Cl))try{let z=new URL(window.location.href),re=u.startsWith("//")?new URL(z.protocol+u):new URL(u),ie=De(re.pathname,p);re.origin===z.origin&&ie!=null?u=ie+re.search+re.hash:E=!0}catch{se(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=kh(u,{relative:a}),[x,k,C]=Cm(n,f),v=Pm(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:a,viewTransition:d});function P(z){e&&e(z),z.defaultPrevented||v(z)}let V=m.createElement("a",{...f,...C,href:S||y,onClick:E||i?e:P,ref:Im(h,k),target:l,"data-discover":!w&&r==="render"?"true":void 0});return x&&!w?m.createElement(m.Fragment,null,V,m.createElement(El,{page:y})):V});xl.displayName="Link";var Tm=m.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:s,children:l,...u},c){let d=tn(o,{relative:u.relative}),f=ze(),h=m.useContext(sr),{navigator:p,basename:w}=m.useContext(Me),S=h!=null&&$m(d)&&s===!0,E=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,y=f.pathname,x=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(y=y.toLowerCase(),x=x?x.toLowerCase():null,E=E.toLowerCase()),x&&w&&(x=De(x,w)||x);const k=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let C=y===E||!a&&y.startsWith(E)&&y.charAt(k)==="/",v=x!=null&&(x===E||!a&&x.startsWith(E)&&x.charAt(E.length)==="/"),P={isActive:C,isPending:v,isTransitioning:S},V=C?e:void 0,z;typeof n=="function"?z=n(P):z=[n,C?"active":null,v?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let re=typeof i=="function"?i(P):i;return m.createElement(xl,{...u,"aria-current":V,className:z,ref:c,style:re,to:o,viewTransition:s},typeof l=="function"?l(P):l)});Tm.displayName="NavLink";var Rl=m.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:o=Rn,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},h)=>{let p=Ol(),w=Nm(s,{relative:u}),S=o.toLowerCase()==="get"?"get":"post",E=typeof s=="string"&&kl.test(s),y=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let k=x.nativeEvent.submitter,C=(k==null?void 0:k.getAttribute("formmethod"))||o;p(k||x.currentTarget,{fetcherKey:e,method:C,navigate:r,replace:a,state:i,relative:u,preventScrollReset:c,viewTransition:d})};return m.createElement("form",{ref:h,method:S,action:w,onSubmit:n?l:y,...f,"data-discover":!E&&t==="render"?"true":void 0})});Rl.displayName="Form";function Lm({getKey:t,storageKey:e,...r}){let n=m.useContext(fa),{basename:a}=m.useContext(Me),i=ze(),o=ll();jm({getKey:t,storageKey:e});let s=m.useMemo(()=>{if(!n||!t)return null;let u=Qa(i,o,a,t);return u!==i.key?u:null},[]);if(!n||n.isSpaMode)return null;let l=((u,c)=>{if(!window.history.state||!window.history.state.key){let d=Math.random().toString(32).slice(2);window.history.replaceState({key:d},"")}try{let f=JSON.parse(sessionStorage.getItem(u)||"{}")[c||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(d){console.error(d),sessionStorage.removeItem(u)}}).toString();return m.createElement("script",{...r,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${l})(${JSON.stringify(e||Xa)}, ${JSON.stringify(s)})`}})}Lm.displayName="ScrollRestoration";function Dl(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ha(t){let e=m.useContext($t);return Z(e,Dl(t)),e}function Mi(t){let e=m.useContext(sr);return Z(e,Dl(t)),e}function Pm(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let s=ol(),l=ze(),u=tn(t,{relative:i});return m.useCallback(c=>{if(Gh(c,e)){c.preventDefault();let d=r!==void 0?r:ct(l)===ct(u);s(t,{replace:d,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[l,s,u,r,n,e,t,a,i,o])}function dv(t){se(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=m.useRef(Ja(t)),r=m.useRef(!1),n=ze(),a=m.useMemo(()=>Wh(n.search,r.current?null:e.current),[n.search]),i=ol(),o=m.useCallback((s,l)=>{const u=Ja(typeof s=="function"?s(a):s);r.current=!0,i("?"+u,l)},[i,a]);return[a,o]}var Mm=0,Am=()=>`__${String(++Mm)}__`;function Ol(){let{router:t}=ha("useSubmit"),{basename:e}=m.useContext(Me),r=Nh();return m.useCallback(async(n,a={})=>{let{action:i,method:o,encType:s,formData:l,body:u}=Yh(n,e);if(a.navigate===!1){let c=a.fetcherKey||Am();await t.fetch(c,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||o,formEncType:a.encType||s,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||o,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function Nm(t,{relative:e}={}){let{basename:r}=m.useContext(Me),n=m.useContext(Ae);Z(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...tn(t||".",{relative:e})},o=ze();if(t==null){i.search=o.search;let s=new URLSearchParams(i.search),l=s.getAll("index");if(l.some(c=>c==="")){s.delete("index"),l.filter(d=>d).forEach(d=>s.append("index",d));let c=s.toString();i.search=c?`?${c}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:He([r,i.pathname])),ct(i)}function fv({key:t}={}){var S;let{router:e}=ha("useFetcher"),r=Mi("useFetcher"),n=m.useContext(ki),a=m.useContext(Ae),i=(S=a.matches[a.matches.length-1])==null?void 0:S.route.id;Z(n,"useFetcher must be used inside a FetchersContext"),Z(a,"useFetcher must be used inside a RouteContext"),Z(i!=null,'useFetcher can only be used on routes that contain a unique "id"');let o=m.useId(),[s,l]=m.useState(t||o);t&&t!==s&&l(t),m.useEffect(()=>(e.getFetcher(s),()=>e.deleteFetcher(s)),[e,s]);let u=m.useCallback(async(E,y)=>{Z(i,"No routeId available for fetcher.load()"),await e.fetch(s,i,E,y)},[s,i,e]),c=Ol(),d=m.useCallback(async(E,y)=>{await c(E,{...y,navigate:!1,fetcherKey:s})},[s,c]),f=m.useMemo(()=>{let E=m.forwardRef((y,x)=>m.createElement(Rl,{...y,navigate:!1,fetcherKey:s,ref:x}));return E.displayName="fetcher.Form",E},[s]),h=r.fetchers.get(s)||Js,p=n.get(s);return m.useMemo(()=>({Form:f,submit:d,load:u,...h,data:p}),[f,d,u,h,p])}function hv(){let t=Mi("useFetchers");return Array.from(t.fetchers.entries()).map(([e,r])=>({...r,key:e}))}var Xa="react-router-scroll-positions",bn={};function Qa(t,e,r,n){let a=null;return n&&(r!=="/"?a=n({...t,pathname:De(t.pathname,r)||t.pathname},e):a=n(t,e)),a==null&&(a=t.key),a}function jm({getKey:t,storageKey:e}={}){let{router:r}=ha("useScrollRestoration"),{restoreScrollPosition:n,preventScrollReset:a}=Mi("useScrollRestoration"),{basename:i}=m.useContext(Me),o=ze(),s=ll(),l=jh();m.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),Um(m.useCallback(()=>{if(l.state==="idle"){let u=Qa(o,s,i,t);bn[u]=window.scrollY}try{sessionStorage.setItem(e||Xa,JSON.stringify(bn))}catch(u){se(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${u}).`)}window.history.scrollRestoration="auto"},[l.state,t,i,o,s,e])),typeof document<"u"&&(m.useLayoutEffect(()=>{try{let u=sessionStorage.getItem(e||Xa);u&&(bn=JSON.parse(u))}catch{}},[e]),m.useLayoutEffect(()=>{let u=r==null?void 0:r.enableScrollRestoration(bn,()=>window.scrollY,t?(c,d)=>Qa(c,d,i,t):void 0);return()=>u&&u()},[r,i,t]),m.useLayoutEffect(()=>{if(n!==!1){if(typeof n=="number"){window.scrollTo(0,n);return}if(o.hash){let u=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(u){u.scrollIntoView();return}}a!==!0&&window.scrollTo(0,0)}},[o,n,a]))}function Um(t,e){let{capture:r}={};m.useEffect(()=>{let n=r!=null?{capture:r}:void 0;return window.addEventListener("pagehide",t,n),()=>{window.removeEventListener("pagehide",t,n)}},[t,r])}function $m(t,e={}){let r=m.useContext(Ci);Z(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ha("useViewTransitionState"),a=tn(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=De(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=De(r.nextLocation.pathname,n)||r.nextLocation.pathname;return An(a.pathname,o)!=null||An(a.pathname,i)!=null}new TextEncoder;[...vl];function mv(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,a]of e)if(a&&a.__type==="RouteErrorResponse")r[n]=new dt(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let o=new i(a.message);o.stack=a.stack,r[n]=o}catch{}}if(r[n]==null){let i=new Error(a.message);i.stack=a.stack,r[n]=i}}else r[n]=a;return r}function gv(t,e,r,n,a,i){let o={...t,loaderData:{...t.loaderData}},s=Ze(e,n,a);if(s)for(let l of s){let u=l.route.id,c=r(u);wl(u,c.clientLoader,c.hasLoader,i)&&(c.hasHydrateFallback||!c.hasLoader)?delete o.loaderData[u]:c.hasLoader||(o.loaderData[u]=null)}return o}var Y;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(s=>typeof a[a[s]]!="number"),o={};for(const s of i)o[s]=a[s];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},t.find=(a,i)=>{for(const o of a)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Y||(Y={}));var ei;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ei||(ei={}));const T=Y.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),lt=t=>{switch(typeof t){case"undefined":return T.undefined;case"string":return T.string;case"number":return isNaN(t)?T.nan:T.number;case"boolean":return T.boolean;case"function":return T.function;case"bigint":return T.bigint;case"symbol":return T.symbol;case"object":return Array.isArray(t)?T.array:t===null?T.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?T.promise:typeof Map<"u"&&t instanceof Map?T.map:typeof Set<"u"&&t instanceof Set?T.set:typeof Date<"u"&&t instanceof Date?T.date:T.object;default:return T.unknown}},D=Y.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Fm=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class xe extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let s=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(s[u]=s[u]||{_errors:[]},s[u]._errors.push(r(o))):s[u]=s[u]||{_errors:[]},s=s[u],l++}}};return a(this),n}static assert(e){if(!(e instanceof xe))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Y.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}xe.create=t=>new xe(t);const rr=(t,e)=>{let r;switch(t.code){case D.invalid_type:t.received===T.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case D.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Y.jsonStringifyReplacer)}`;break;case D.unrecognized_keys:r=`Unrecognized key(s) in object: ${Y.joinValues(t.keys,", ")}`;break;case D.invalid_union:r="Invalid input";break;case D.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Y.joinValues(t.options)}`;break;case D.invalid_enum_value:r=`Invalid enum value. Expected ${Y.joinValues(t.options)}, received '${t.received}'`;break;case D.invalid_arguments:r="Invalid function arguments";break;case D.invalid_return_type:r="Invalid function return type";break;case D.invalid_date:r="Invalid date";break;case D.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Y.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case D.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case D.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case D.custom:r="Invalid input";break;case D.invalid_intersection_types:r="Intersection results could not be merged";break;case D.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case D.not_finite:r="Number must be finite";break;default:r=e.defaultError,Y.assertNever(t)}return{message:r}};let Il=rr;function Bm(t){Il=t}function Un(){return Il}const $n=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let s="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)s=u(o,{data:e,defaultError:s}).message;return{...a,path:i,message:s}},zm=[];function I(t,e){const r=Un(),n=$n({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===rr?void 0:rr].filter(a=>!!a)});t.common.issues.push(n)}class ge{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return F;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ge.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return F;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const F=Object.freeze({status:"aborted"}),Jt=t=>({status:"dirty",value:t}),ye=t=>({status:"valid",value:t}),ti=t=>t.status==="aborted",ri=t=>t.status==="dirty",Ir=t=>t.status==="valid",Tr=t=>typeof Promise<"u"&&t instanceof Promise;function Fn(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Tl(t,e,r,n,a){if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var M;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(M||(M={}));var Cr,kr;class We{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ns=(t,e)=>{if(Ir(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new xe(t.common.issues);return this._error=r,this._error}}};function H(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,s)=>{var l,u;const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??s.defaultError}:typeof s.data>"u"?{message:(l=c??n)!==null&&l!==void 0?l:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(u=c??r)!==null&&u!==void 0?u:s.defaultError}},description:a}}class W{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return lt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:lt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ge,ctx:{common:e.parent.common,data:e.data,parsedType:lt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Tr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lt(e)},i=this._parseSync({data:e,path:a.path,parent:a});return ns(a,i)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lt(e)},a=this._parse({data:e,path:n.path,parent:n}),i=await(Tr(a)?a:Promise.resolve(a));return ns(n,i)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=e(a),s=()=>i.addIssue({code:D.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new Be({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ge.create(this,this._def)}nullable(){return gt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fe.create(this,this._def)}promise(){return ar.create(this,this._def)}or(e){return Ar.create([this,e],this._def)}and(e){return Nr.create(this,e,this._def)}transform(e){return new Be({...H(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Br({...H(this._def),innerType:this,defaultValue:r,typeName:$.ZodDefault})}brand(){return new Ai({typeName:$.ZodBranded,type:this,...H(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new zr({...H(this._def),innerType:this,catchValue:r,typeName:$.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return nn.create(this,e)}readonly(){return Vr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Vm=/^c[^\s-]{8,}$/i,Km=/^[0-9a-z]+$/,Zm=/^[0-9A-HJKMNP-TV-Z]{26}$/,Hm=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Gm=/^[a-z0-9_-]{21}$/i,Wm=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Jm=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,qm="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ua;const Ym=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Xm=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Qm=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ll="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eg=new RegExp(`^${Ll}$`);function Pl(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function tg(t){return new RegExp(`^${Pl(t)}$`)}function Ml(t){let e=`${Ll}T${Pl(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function rg(t,e){return!!((e==="v4"||!e)&&Ym.test(t)||(e==="v6"||!e)&&Xm.test(t))}class $e extends W{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==T.string){const i=this._getOrReturnCtx(e);return I(i,{code:D.invalid_type,expected:T.string,received:i.parsedType}),F}const n=new ge;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),I(a,{code:D.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),I(a,{code:D.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,s=e.data.length<i.value;(o||s)&&(a=this._getOrReturnCtx(e,a),o?I(a,{code:D.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&I(a,{code:D.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Jm.test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{validation:"email",code:D.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ua||(Ua=new RegExp(qm,"u")),Ua.test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{validation:"emoji",code:D.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Hm.test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{validation:"uuid",code:D.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Gm.test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{validation:"nanoid",code:D.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Vm.test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{validation:"cuid",code:D.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Km.test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{validation:"cuid2",code:D.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Zm.test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{validation:"ulid",code:D.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),I(a,{validation:"url",code:D.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{validation:"regex",code:D.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),I(a,{code:D.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),I(a,{code:D.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),I(a,{code:D.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Ml(i).test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{code:D.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?eg.test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{code:D.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?tg(i).test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{code:D.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Wm.test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{validation:"duration",code:D.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?rg(e.data,i.version)||(a=this._getOrReturnCtx(e,a),I(a,{validation:"ip",code:D.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Qm.test(e.data)||(a=this._getOrReturnCtx(e,a),I(a,{validation:"base64",code:D.invalid_string,message:i.message}),n.dirty()):Y.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:D.invalid_string,...M.errToObj(n)})}_addCheck(e){return new $e({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...M.errToObj(e)})}url(e){return this._addCheck({kind:"url",...M.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...M.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...M.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...M.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...M.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...M.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...M.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...M.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...M.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...M.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...M.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...M.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...M.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...M.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...M.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...M.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...M.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...M.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...M.errToObj(r)})}nonempty(e){return this.min(1,M.errToObj(e))}trim(){return new $e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}$e.create=t=>{var e;return new $e({checks:[],typeName:$.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...H(t)})};function ng(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(t.toFixed(a).replace(".","")),o=parseInt(e.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class ft extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==T.number){const i=this._getOrReturnCtx(e);return I(i,{code:D.invalid_type,expected:T.number,received:i.parsedType}),F}let n;const a=new ge;for(const i of this._def.checks)i.kind==="int"?Y.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{code:D.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),I(n,{code:D.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),I(n,{code:D.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?ng(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),I(n,{code:D.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{code:D.not_finite,message:i.message}),a.dirty()):Y.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,M.toString(r))}gt(e,r){return this.setLimit("min",e,!1,M.toString(r))}lte(e,r){return this.setLimit("max",e,!0,M.toString(r))}lt(e,r){return this.setLimit("max",e,!1,M.toString(r))}setLimit(e,r,n,a){return new ft({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:M.toString(a)}]})}_addCheck(e){return new ft({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:M.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:M.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:M.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:M.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:M.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:M.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:M.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:M.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:M.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Y.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ft.create=t=>new ft({checks:[],typeName:$.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...H(t)});class ht extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==T.bigint){const i=this._getOrReturnCtx(e);return I(i,{code:D.invalid_type,expected:T.bigint,received:i.parsedType}),F}let n;const a=new ge;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),I(n,{code:D.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),I(n,{code:D.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),I(n,{code:D.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Y.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,M.toString(r))}gt(e,r){return this.setLimit("min",e,!1,M.toString(r))}lte(e,r){return this.setLimit("max",e,!0,M.toString(r))}lt(e,r){return this.setLimit("max",e,!1,M.toString(r))}setLimit(e,r,n,a){return new ht({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:M.toString(a)}]})}_addCheck(e){return new ht({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:M.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:M.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:M.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:M.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:M.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ht.create=t=>{var e;return new ht({checks:[],typeName:$.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...H(t)})};class Lr extends W{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==T.boolean){const n=this._getOrReturnCtx(e);return I(n,{code:D.invalid_type,expected:T.boolean,received:n.parsedType}),F}return ye(e.data)}}Lr.create=t=>new Lr({typeName:$.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...H(t)});class At extends W{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==T.date){const i=this._getOrReturnCtx(e);return I(i,{code:D.invalid_type,expected:T.date,received:i.parsedType}),F}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return I(i,{code:D.invalid_date}),F}const n=new ge;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),I(a,{code:D.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),I(a,{code:D.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Y.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new At({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:M.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:M.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}At.create=t=>new At({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:$.ZodDate,...H(t)});class Bn extends W{_parse(e){if(this._getType(e)!==T.symbol){const n=this._getOrReturnCtx(e);return I(n,{code:D.invalid_type,expected:T.symbol,received:n.parsedType}),F}return ye(e.data)}}Bn.create=t=>new Bn({typeName:$.ZodSymbol,...H(t)});class Pr extends W{_parse(e){if(this._getType(e)!==T.undefined){const n=this._getOrReturnCtx(e);return I(n,{code:D.invalid_type,expected:T.undefined,received:n.parsedType}),F}return ye(e.data)}}Pr.create=t=>new Pr({typeName:$.ZodUndefined,...H(t)});class Mr extends W{_parse(e){if(this._getType(e)!==T.null){const n=this._getOrReturnCtx(e);return I(n,{code:D.invalid_type,expected:T.null,received:n.parsedType}),F}return ye(e.data)}}Mr.create=t=>new Mr({typeName:$.ZodNull,...H(t)});class nr extends W{constructor(){super(...arguments),this._any=!0}_parse(e){return ye(e.data)}}nr.create=t=>new nr({typeName:$.ZodAny,...H(t)});class Tt extends W{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ye(e.data)}}Tt.create=t=>new Tt({typeName:$.ZodUnknown,...H(t)});class rt extends W{_parse(e){const r=this._getOrReturnCtx(e);return I(r,{code:D.invalid_type,expected:T.never,received:r.parsedType}),F}}rt.create=t=>new rt({typeName:$.ZodNever,...H(t)});class zn extends W{_parse(e){if(this._getType(e)!==T.undefined){const n=this._getOrReturnCtx(e);return I(n,{code:D.invalid_type,expected:T.void,received:n.parsedType}),F}return ye(e.data)}}zn.create=t=>new zn({typeName:$.ZodVoid,...H(t)});class Fe extends W{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==T.array)return I(r,{code:D.invalid_type,expected:T.array,received:r.parsedType}),F;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,s=r.data.length<a.exactLength.value;(o||s)&&(I(r,{code:o?D.too_big:D.too_small,minimum:s?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(I(r,{code:D.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(I(r,{code:D.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>a.type._parseAsync(new We(r,o,r.path,s)))).then(o=>ge.mergeArray(n,o));const i=[...r.data].map((o,s)=>a.type._parseSync(new We(r,o,r.path,s)));return ge.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Fe({...this._def,minLength:{value:e,message:M.toString(r)}})}max(e,r){return new Fe({...this._def,maxLength:{value:e,message:M.toString(r)}})}length(e,r){return new Fe({...this._def,exactLength:{value:e,message:M.toString(r)}})}nonempty(e){return this.min(1,e)}}Fe.create=(t,e)=>new Fe({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...H(e)});function Wt(t){if(t instanceof oe){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Ge.create(Wt(n))}return new oe({...t._def,shape:()=>e})}else return t instanceof Fe?new Fe({...t._def,type:Wt(t.element)}):t instanceof Ge?Ge.create(Wt(t.unwrap())):t instanceof gt?gt.create(Wt(t.unwrap())):t instanceof Je?Je.create(t.items.map(e=>Wt(e))):t}class oe extends W{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Y.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==T.object){const u=this._getOrReturnCtx(e);return I(u,{code:D.invalid_type,expected:T.object,received:u.parsedType}),F}const{status:n,ctx:a}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof rt&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||s.push(u);const l=[];for(const u of o){const c=i[u],d=a.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new We(a,d,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof rt){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of s)l.push({key:{status:"valid",value:c},value:{status:"valid",value:a.data[c]}});else if(u==="strict")s.length>0&&(I(a,{code:D.unrecognized_keys,keys:s}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of s){const d=a.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new We(a,d,a.path,c)),alwaysSet:c in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,f=await c.value;u.push({key:d,value:f,alwaysSet:c.alwaysSet})}return u}).then(u=>ge.mergeObjectSync(n,u)):ge.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return M.errToObj,new oe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,i,o,s;const l=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=M.errToObj(e).message)!==null&&s!==void 0?s:l}:{message:l}}}:{}})}strip(){return new oe({...this._def,unknownKeys:"strip"})}passthrough(){return new oe({...this._def,unknownKeys:"passthrough"})}extend(e){return new oe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new oe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new oe({...this._def,catchall:e})}pick(e){const r={};return Y.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new oe({...this._def,shape:()=>r})}omit(e){const r={};return Y.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new oe({...this._def,shape:()=>r})}deepPartial(){return Wt(this)}partial(e){const r={};return Y.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}),new oe({...this._def,shape:()=>r})}required(e){const r={};return Y.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ge;)i=i._def.innerType;r[n]=i}}),new oe({...this._def,shape:()=>r})}keyof(){return Al(Y.objectKeys(this.shape))}}oe.create=(t,e)=>new oe({shape:()=>t,unknownKeys:"strip",catchall:rt.create(),typeName:$.ZodObject,...H(e)});oe.strictCreate=(t,e)=>new oe({shape:()=>t,unknownKeys:"strict",catchall:rt.create(),typeName:$.ZodObject,...H(e)});oe.lazycreate=(t,e)=>new oe({shape:t,unknownKeys:"strip",catchall:rt.create(),typeName:$.ZodObject,...H(e)});class Ar extends W{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(i){for(const s of i)if(s.result.status==="valid")return s.result;for(const s of i)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(s=>new xe(s.ctx.common.issues));return I(r,{code:D.invalid_union,unionErrors:o}),F}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const s=o.map(l=>new xe(l));return I(r,{code:D.invalid_union,unionErrors:s}),F}}get options(){return this._def.options}}Ar.create=(t,e)=>new Ar({options:t,typeName:$.ZodUnion,...H(e)});const Ye=t=>t instanceof Ur?Ye(t.schema):t instanceof Be?Ye(t.innerType()):t instanceof $r?[t.value]:t instanceof mt?t.options:t instanceof Fr?Y.objectValues(t.enum):t instanceof Br?Ye(t._def.innerType):t instanceof Pr?[void 0]:t instanceof Mr?[null]:t instanceof Ge?[void 0,...Ye(t.unwrap())]:t instanceof gt?[null,...Ye(t.unwrap())]:t instanceof Ai||t instanceof Vr?Ye(t.unwrap()):t instanceof zr?Ye(t._def.innerType):[];class ma extends W{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==T.object)return I(r,{code:D.invalid_type,expected:T.object,received:r.parsedType}),F;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(I(r,{code:D.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),F)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const a=new Map;for(const i of r){const o=Ye(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const s of o){if(a.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);a.set(s,i)}}return new ma({typeName:$.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...H(n)})}}function ni(t,e){const r=lt(t),n=lt(e);if(t===e)return{valid:!0,data:t};if(r===T.object&&n===T.object){const a=Y.objectKeys(e),i=Y.objectKeys(t).filter(s=>a.indexOf(s)!==-1),o={...t,...e};for(const s of i){const l=ni(t[s],e[s]);if(!l.valid)return{valid:!1};o[s]=l.data}return{valid:!0,data:o}}else if(r===T.array&&n===T.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const o=t[i],s=e[i],l=ni(o,s);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return r===T.date&&n===T.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Nr extends W{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(i,o)=>{if(ti(i)||ti(o))return F;const s=ni(i.value,o.value);return s.valid?((ri(i)||ri(o))&&r.dirty(),{status:r.value,value:s.data}):(I(n,{code:D.invalid_intersection_types}),F)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Nr.create=(t,e,r)=>new Nr({left:t,right:e,typeName:$.ZodIntersection,...H(r)});class Je extends W{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==T.array)return I(n,{code:D.invalid_type,expected:T.array,received:n.parsedType}),F;if(n.data.length<this._def.items.length)return I(n,{code:D.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),F;!this._def.rest&&n.data.length>this._def.items.length&&(I(n,{code:D.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,s)=>{const l=this._def.items[s]||this._def.rest;return l?l._parse(new We(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ge.mergeArray(r,o)):ge.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Je({...this._def,rest:e})}}Je.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Je({items:t,typeName:$.ZodTuple,rest:null,...H(e)})};class jr extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==T.object)return I(n,{code:D.invalid_type,expected:T.object,received:n.parsedType}),F;const a=[],i=this._def.keyType,o=this._def.valueType;for(const s in n.data)a.push({key:i._parse(new We(n,s,n.path,s)),value:o._parse(new We(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?ge.mergeObjectAsync(r,a):ge.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof W?new jr({keyType:e,valueType:r,typeName:$.ZodRecord,...H(n)}):new jr({keyType:$e.create(),valueType:e,typeName:$.ZodRecord,...H(r)})}}class Vn extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==T.map)return I(n,{code:D.invalid_type,expected:T.map,received:n.parsedType}),F;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([s,l],u)=>({key:a._parse(new We(n,s,n.path,[u,"key"])),value:i._parse(new We(n,l,n.path,[u,"value"]))}));if(n.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return F;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(u.value,c.value)}return{status:r.value,value:s}})}else{const s=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return F;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(u.value,c.value)}return{status:r.value,value:s}}}}Vn.create=(t,e,r)=>new Vn({valueType:e,keyType:t,typeName:$.ZodMap,...H(r)});class Nt extends W{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==T.set)return I(n,{code:D.invalid_type,expected:T.set,received:n.parsedType}),F;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(I(n,{code:D.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(I(n,{code:D.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return F;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const s=[...n.data.values()].map((l,u)=>i._parse(new We(n,l,n.path,u)));return n.common.async?Promise.all(s).then(l=>o(l)):o(s)}min(e,r){return new Nt({...this._def,minSize:{value:e,message:M.toString(r)}})}max(e,r){return new Nt({...this._def,maxSize:{value:e,message:M.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Nt.create=(t,e)=>new Nt({valueType:t,minSize:null,maxSize:null,typeName:$.ZodSet,...H(e)});class Yt extends W{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==T.function)return I(r,{code:D.invalid_type,expected:T.function,received:r.parsedType}),F;function n(s,l){return $n({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Un(),rr].filter(u=>!!u),issueData:{code:D.invalid_arguments,argumentsError:l}})}function a(s,l){return $n({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Un(),rr].filter(u=>!!u),issueData:{code:D.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof ar){const s=this;return ye(async function(...l){const u=new xe([]),c=await s._def.args.parseAsync(l,i).catch(h=>{throw u.addIssue(n(l,h)),u}),d=await Reflect.apply(o,this,c);return await s._def.returns._def.type.parseAsync(d,i).catch(h=>{throw u.addIssue(a(d,h)),u})})}else{const s=this;return ye(function(...l){const u=s._def.args.safeParse(l,i);if(!u.success)throw new xe([n(l,u.error)]);const c=Reflect.apply(o,this,u.data),d=s._def.returns.safeParse(c,i);if(!d.success)throw new xe([a(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Yt({...this._def,args:Je.create(e).rest(Tt.create())})}returns(e){return new Yt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Yt({args:e||Je.create([]).rest(Tt.create()),returns:r||Tt.create(),typeName:$.ZodFunction,...H(n)})}}class Ur extends W{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ur.create=(t,e)=>new Ur({getter:t,typeName:$.ZodLazy,...H(e)});class $r extends W{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return I(r,{received:r.data,code:D.invalid_literal,expected:this._def.value}),F}return{status:"valid",value:e.data}}get value(){return this._def.value}}$r.create=(t,e)=>new $r({value:t,typeName:$.ZodLiteral,...H(e)});function Al(t,e){return new mt({values:t,typeName:$.ZodEnum,...H(e)})}class mt extends W{constructor(){super(...arguments),Cr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return I(r,{expected:Y.joinValues(n),received:r.parsedType,code:D.invalid_type}),F}if(Fn(this,Cr)||Tl(this,Cr,new Set(this._def.values)),!Fn(this,Cr).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return I(r,{received:r.data,code:D.invalid_enum_value,options:n}),F}return ye(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return mt.create(e,{...this._def,...r})}exclude(e,r=this._def){return mt.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Cr=new WeakMap;mt.create=Al;class Fr extends W{constructor(){super(...arguments),kr.set(this,void 0)}_parse(e){const r=Y.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==T.string&&n.parsedType!==T.number){const a=Y.objectValues(r);return I(n,{expected:Y.joinValues(a),received:n.parsedType,code:D.invalid_type}),F}if(Fn(this,kr)||Tl(this,kr,new Set(Y.getValidEnumValues(this._def.values))),!Fn(this,kr).has(e.data)){const a=Y.objectValues(r);return I(n,{received:n.data,code:D.invalid_enum_value,options:a}),F}return ye(e.data)}get enum(){return this._def.values}}kr=new WeakMap;Fr.create=(t,e)=>new Fr({values:t,typeName:$.ZodNativeEnum,...H(e)});class ar extends W{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==T.promise&&r.common.async===!1)return I(r,{code:D.invalid_type,expected:T.promise,received:r.parsedType}),F;const n=r.parsedType===T.promise?r.data:Promise.resolve(r.data);return ye(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ar.create=(t,e)=>new ar({type:t,typeName:$.ZodPromise,...H(e)});class Be extends W{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:o=>{I(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async s=>{if(r.value==="aborted")return F;const l=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return l.status==="aborted"?F:l.status==="dirty"||r.value==="dirty"?Jt(l.value):l});{if(r.value==="aborted")return F;const s=this._def.schema._parseSync({data:o,path:n.path,parent:n});return s.status==="aborted"?F:s.status==="dirty"||r.value==="dirty"?Jt(s.value):s}}if(a.type==="refinement"){const o=s=>{const l=a.refinement(s,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?F:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?F:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ir(o))return o;const s=a.transform(o.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ir(o)?Promise.resolve(a.transform(o.value,i)).then(s=>({status:r.value,value:s})):o);Y.assertNever(a)}}Be.create=(t,e,r)=>new Be({schema:t,typeName:$.ZodEffects,effect:e,...H(r)});Be.createWithPreprocess=(t,e,r)=>new Be({schema:e,effect:{type:"preprocess",transform:t},typeName:$.ZodEffects,...H(r)});class Ge extends W{_parse(e){return this._getType(e)===T.undefined?ye(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ge.create=(t,e)=>new Ge({innerType:t,typeName:$.ZodOptional,...H(e)});class gt extends W{_parse(e){return this._getType(e)===T.null?ye(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gt.create=(t,e)=>new gt({innerType:t,typeName:$.ZodNullable,...H(e)});class Br extends W{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===T.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Br.create=(t,e)=>new Br({innerType:t,typeName:$.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...H(e)});class zr extends W{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Tr(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new xe(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new xe(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}zr.create=(t,e)=>new zr({innerType:t,typeName:$.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...H(e)});class Kn extends W{_parse(e){if(this._getType(e)!==T.nan){const n=this._getOrReturnCtx(e);return I(n,{code:D.invalid_type,expected:T.nan,received:n.parsedType}),F}return{status:"valid",value:e.data}}}Kn.create=t=>new Kn({typeName:$.ZodNaN,...H(t)});const ag=Symbol("zod_brand");class Ai extends W{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class nn extends W{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?F:i.status==="dirty"?(r.dirty(),Jt(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?F:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new nn({in:e,out:r,typeName:$.ZodPipeline})}}class Vr extends W{_parse(e){const r=this._def.innerType._parse(e),n=a=>(Ir(a)&&(a.value=Object.freeze(a.value)),a);return Tr(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Vr.create=(t,e)=>new Vr({innerType:t,typeName:$.ZodReadonly,...H(e)});function Nl(t,e={},r){return t?nr.create().superRefine((n,a)=>{var i,o;if(!t(n)){const s=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(o=(i=s.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,u=typeof s=="string"?{message:s}:s;a.addIssue({code:"custom",...u,fatal:l})}}):nr.create()}const ig={object:oe.lazycreate};var $;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($||($={}));const og=(t,e={message:`Input not instance of ${t.name}`})=>Nl(r=>r instanceof t,e),jl=$e.create,Ul=ft.create,sg=Kn.create,lg=ht.create,$l=Lr.create,ug=At.create,cg=Bn.create,dg=Pr.create,fg=Mr.create,hg=nr.create,mg=Tt.create,gg=rt.create,vg=zn.create,pg=Fe.create,_g=oe.create,yg=oe.strictCreate,bg=Ar.create,wg=ma.create,Sg=Nr.create,Eg=Je.create,Cg=jr.create,kg=Vn.create,xg=Nt.create,Rg=Yt.create,Dg=Ur.create,Og=$r.create,Ig=mt.create,Tg=Fr.create,Lg=ar.create,as=Be.create,Pg=Ge.create,Mg=gt.create,Ag=Be.createWithPreprocess,Ng=nn.create,jg=()=>jl().optional(),Ug=()=>Ul().optional(),$g=()=>$l().optional(),Fg={string:t=>$e.create({...t,coerce:!0}),number:t=>ft.create({...t,coerce:!0}),boolean:t=>Lr.create({...t,coerce:!0}),bigint:t=>ht.create({...t,coerce:!0}),date:t=>At.create({...t,coerce:!0})},Bg=F;var zg=Object.freeze({__proto__:null,defaultErrorMap:rr,setErrorMap:Bm,getErrorMap:Un,makeIssue:$n,EMPTY_PATH:zm,addIssueToContext:I,ParseStatus:ge,INVALID:F,DIRTY:Jt,OK:ye,isAborted:ti,isDirty:ri,isValid:Ir,isAsync:Tr,get util(){return Y},get objectUtil(){return ei},ZodParsedType:T,getParsedType:lt,ZodType:W,datetimeRegex:Ml,ZodString:$e,ZodNumber:ft,ZodBigInt:ht,ZodBoolean:Lr,ZodDate:At,ZodSymbol:Bn,ZodUndefined:Pr,ZodNull:Mr,ZodAny:nr,ZodUnknown:Tt,ZodNever:rt,ZodVoid:zn,ZodArray:Fe,ZodObject:oe,ZodUnion:Ar,ZodDiscriminatedUnion:ma,ZodIntersection:Nr,ZodTuple:Je,ZodRecord:jr,ZodMap:Vn,ZodSet:Nt,ZodFunction:Yt,ZodLazy:Ur,ZodLiteral:$r,ZodEnum:mt,ZodNativeEnum:Fr,ZodPromise:ar,ZodEffects:Be,ZodTransformer:Be,ZodOptional:Ge,ZodNullable:gt,ZodDefault:Br,ZodCatch:zr,ZodNaN:Kn,BRAND:ag,ZodBranded:Ai,ZodPipeline:nn,ZodReadonly:Vr,custom:Nl,Schema:W,ZodSchema:W,late:ig,get ZodFirstPartyTypeKind(){return $},coerce:Fg,any:hg,array:pg,bigint:lg,boolean:$l,date:ug,discriminatedUnion:wg,effect:as,enum:Ig,function:Rg,instanceof:og,intersection:Sg,lazy:Dg,literal:Og,map:kg,nan:sg,nativeEnum:Tg,never:gg,null:fg,nullable:Mg,number:Ul,object:_g,oboolean:$g,onumber:Ug,optional:Pg,ostring:jg,pipeline:Ng,preprocess:Ag,promise:Lg,record:Cg,set:xg,strictObject:yg,string:jl,symbol:cg,transformer:as,tuple:Eg,undefined:dg,union:bg,unknown:mg,void:vg,NEVER:Bg,ZodIssueCode:D,quotelessJson:Fm,ZodError:xe});const Vg=zg.enum(["api","apple","chat","sora","juno","tailoros","jam","teammate"]),Fl=m.createContext(null),vv=({appNameEnum:t,children:e})=>{const r=Vg.safeParse(t);return is.jsx(Fl.Provider,{value:r.success?r.data:null,children:e})};function pv(){return m.useContext(Fl)}export{Jg as $,Vg as A,gt as B,nn as C,Dg as D,Wg as E,Rl as F,qg as G,pv as H,uv as I,Dm as J,ze as K,xl as L,cv as M,le as N,nv as O,Zn as P,Z as Q,lv as R,Lm as S,fa as T,iv as U,rv as V,mm as W,Ii as X,gv as Y,Fe as Z,mv as _,Qg as a,Gg as a0,tv as a1,ev as a2,av as a3,sv as a4,ov as a5,vv as a6,fv as b,ul as c,Qf as d,ol as e,dv as f,ll as g,jh as h,Mt as i,hv as j,Ol as k,Yg as l,hg as m,oe as n,Be as o,Ge as p,Br as q,Gs as r,od as s,zr as t,Xg as u,Nr as v,Ar as w,ma as x,Je as y,zg as z};
